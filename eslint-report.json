[{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\integration\\calculator-flow.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\mocks\\historyService.mock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\performance\\basic-performance.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\smoke\\app-smoke.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\smoke\\formatCurrency-smoke.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\smoke\\performance-smoke.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\RuleDetails.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\azuria_ai\\feedbackLoopEngine.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\azuria_ai\\nlpProcessorEngine.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\azuria_ai\\predictiveEngine.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\azuria_ai\\proactiveAssistant.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\components\\AnalyticsDashboard.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\components\\Header.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\components\\NavLinks.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\components\\SimpleCalculator.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\core\\adminGuard.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\hooks\\useCalculation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\hooks\\useOptimizedHooks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\server\\sseManager.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\biddingCalculations.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\calculateSellingPrice.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\excelExportUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\formatCurrency.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\generatePDF.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\parseInputValue.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\pdfExportUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\pdfGenerator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\utils\\webvitals.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\__tests__\\unit\\workers\\calculationWorker.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\ack.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[850,853],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[850,853],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1226,1229],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1226,1229],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextApiRequest, NextApiResponse } from 'next';\r\nimport { logAdminAction, updateAlertStatus } from '../../../server/creatorStore';\r\nimport { requireAdmin } from '../../../azuria_ai/core/adminGuard';\r\nimport { notifySSE } from '../../../server/sseManager';\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  if (req.method !== 'POST') {return res.status(405).end();}\r\n  if (!requireAdmin(req, res)) {return;}\r\n\r\n  const { id, action, adminId } = JSON.parse(req.body || '{}');\r\n  if (!id || !action) {return res.status(400).end('missing id/action');}\r\n\r\n  const status =\r\n    action === 'ack'\r\n      ? 'acknowledged'\r\n      : action === 'resolve'\r\n      ? 'resolved'\r\n      : action === 'ignore'\r\n      ? 'ignored'\r\n      : 'new';\r\n\r\n  try {\r\n    const updated = await updateAlertStatus(id, status as any);\r\n    await logAdminAction({ adminId: adminId || 'admin', action, details: { id, status } });\r\n    // Emitir evento SSE para clientes conectados\r\n    notifySSE({\r\n      channel: 'admin.creator',\r\n      event: 'alert_ack',\r\n      data: { id, status, action, adminId: adminId || 'admin' },\r\n    });\r\n    res.status(200).json({ ok: true, alert: updated });\r\n  } catch (err: any) {\r\n    res.status(500).json({ error: err?.message || 'Failed to ack alert' });\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\copilot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\evolution.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\health.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[497,500],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[497,500],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextApiRequest, NextApiResponse } from 'next';\r\nimport { listAlerts } from '../../../server/creatorStore';\r\nimport { requireAdmin } from '../../../azuria_ai/core/adminGuard';\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  if (!requireAdmin(req, res)) {return;}\r\n\r\n  const limit = parseInt((req.query.limit as string) || '50', 10);\r\n  try {\r\n    const data = await listAlerts({ limit });\r\n    res.status(200).json({ data });\r\n  } catch (err: any) {\r\n    res.status(500).json({ error: err?.message || 'Failed to list alerts' });\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\list.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[495,498],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[495,498],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextApiRequest, NextApiResponse } from 'next';\r\nimport { listAlerts } from '../../../server/creatorStore';\r\nimport { requireAdmin } from '../../../azuria_ai/core/adminGuard';\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  if (!requireAdmin(req, res)) {return;}\r\n  const limit = parseInt((req.query.limit as string) || '50', 10);\r\n  try {\r\n    const data = await listAlerts({ limit });\r\n    res.status(200).json({ data });\r\n  } catch (err: any) {\r\n    res.status(500).json({ error: err?.message || 'Failed to list alerts' });\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\roadmap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\stream.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\admin\\creator\\timeline.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\creator\\ack.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":60,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2377,2380],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2377,2380],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextApiRequest, NextApiResponse } from 'next';\r\nimport { logAdminAction, updateAlertStatus } from '../../server/creatorStore';\r\nimport { requireAdmin } from '../../azuria_ai/core/adminGuard';\r\nimport { notifySSE } from '../../server/sseManager';\r\nimport { validateEnum, validateRequestBody, validateUUID } from '../validation';\r\n\r\n// A├º├Áes permitidas\r\nconst ALLOWED_ACTIONS = ['ack', 'resolve', 'ignore'] as const;\r\ntype AllowedAction = (typeof ALLOWED_ACTIONS)[number];\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  if (req.method !== 'POST') {\r\n    return res.status(405).json({ error: 'Method not allowed' });\r\n  }\r\n  if (!requireAdmin(req, res)) {return;}\r\n\r\n  try {\r\n    const body = typeof req.body === 'string' ? JSON.parse(req.body || '{}') : req.body || {};\r\n    \r\n    // Valida├º├úo robusta dos inputs\r\n    const validation = validateRequestBody(body, [\r\n      { field: 'id', type: 'string', options: { minLength: 1, maxLength: 100 } },\r\n      { field: 'action', type: 'string', options: { minLength: 1, maxLength: 20 } },\r\n      { field: 'adminId', type: 'string', options: { required: false, maxLength: 100 } },\r\n    ]);\r\n\r\n    if (!validation.valid) {\r\n      return res.status(400).json({ \r\n        error: 'Validation failed', \r\n        details: validation.errors \r\n      });\r\n    }\r\n\r\n    const { id, action, adminId } = validation.data as { id: string; action: string; adminId?: string };\r\n    \r\n    // Validar ID como string n├úo-vazia (pode ser UUID ou outro formato)\r\n    const idValidation = validateUUID(id, { required: false });\r\n    if (!idValidation.valid && (!id || id.length < 1)) {\r\n      return res.status(400).json({ error: 'Invalid alert ID format' });\r\n    }\r\n    \r\n    // Validar action como enum\r\n    const actionValidation = validateEnum(action, [...ALLOWED_ACTIONS]);\r\n    if (!actionValidation.valid) {\r\n      return res.status(400).json({ \r\n        error: `Invalid action. Must be one of: ${ALLOWED_ACTIONS.join(', ')}` \r\n      });\r\n    }\r\n\r\n    let status = 'new';\r\n    if (action === 'ack') {\r\n      status = 'acknowledged';\r\n    } else if (action === 'resolve') {\r\n      status = 'resolved';\r\n    } else if (action === 'ignore') {\r\n      status = 'ignored';\r\n    }\r\n        \r\n    const sanitizedAdminId = adminId || 'admin';\r\n    const updated = await updateAlertStatus(id, status as any);\r\n    await logAdminAction({ adminId: sanitizedAdminId, action: action as AllowedAction, details: { id, status } });\r\n    \r\n    // Notificar outros clientes SSE\r\n    notifySSE({\r\n      channel: 'admin.creator',\r\n      event: 'alert_ack',\r\n      data: { id, status, action, adminId: sanitizedAdminId },\r\n    });\r\n    \r\n    res.status(200).json({ ok: true, alert: updated });\r\n  } catch (err: unknown) {\r\n    const errorMessage = err instanceof Error ? err.message : 'Failed to update alert';\r\n    res.status(500).json({ error: errorMessage });\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\creator\\evolution.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\creator\\list.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[491,494],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[491,494],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextApiRequest, NextApiResponse } from 'next';\r\nimport { listAlerts } from '../../server/creatorStore';\r\nimport { requireAdmin } from '../../azuria_ai/core/adminGuard';\r\n\r\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  if (!requireAdmin(req, res)) {return;}\r\n\r\n  const limit = parseInt((req.query.limit as string) || '50', 10);\r\n  try {\r\n    const data = await listAlerts({ limit });\r\n    res.status(200).json({ data });\r\n  } catch (err: any) {\r\n    res.status(500).json({ error: err?.message || 'Failed to list alerts' });\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\creator\\stream.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\api\\validation.ts","messages":[],"suppressedMessages":[{"ruleId":"no-control-regex","severity":2,"message":"Unexpected control character(s) in regular expression: \\x00, \\x08, \\x0b, \\x0c, \\x0e, \\x1f.","line":63,"column":27,"nodeType":"Literal","messageId":"unexpected","endLine":63,"endColumn":62,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-control-regex","severity":2,"message":"Unexpected control character(s) in regular expression: \\x00, \\x08, \\x0b, \\x0c, \\x0e, \\x1f.","line":78,"column":22,"nodeType":"Literal","messageId":"unexpected","endLine":78,"endColumn":57,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\agents\\MarketplaceAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[112,115],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[112,115],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BaseAgent } from './baseAgent';\r\n\r\nexport class MarketplaceAgent extends BaseAgent {\r\n  analyze(state: any): void {\r\n    this.reset();\r\n    const fees = state?.marketplaceFees ?? 0;\r\n    const category = state?.category || 'general';\r\n    if (fees > 0.2) {\r\n      this.recommendations.push({\r\n        message: 'Tarifas elevadas no marketplace, avaliar alternativas.',\r\n        severity: 'medium',\r\n        data: { fees, category },\r\n      });\r\n    }\r\n\r\n    if (state?.policyViolation) {\r\n      this.recommendations.push({\r\n        message: 'Poss├¡vel viola├º├úo de pol├¡tica de listing.',\r\n        severity: 'high',\r\n        data: { category },\r\n      });\r\n    }\r\n  }\r\n\r\n  emitEvents() {\r\n    this.recommendations.forEach(rec => {\r\n      if (rec.severity === 'high') {\r\n        this.emit('agent:listing-issue', rec, 7);\r\n      } else {\r\n        this.emit('agent:competitive-price', rec, 6);\r\n      }\r\n    });\r\n  }\r\n\r\n  adapt(delta: number) {\r\n    super.adapt(delta);\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\agents\\OpportunityAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[112,115],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[112,115],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BaseAgent } from './baseAgent';\r\n\r\nexport class OpportunityAgent extends BaseAgent {\r\n  analyze(state: any): void {\r\n    this.reset();\r\n    const stock = state?.stock ?? 0;\r\n    const demand = state?.demand ?? 0;\r\n    if (demand > stock && stock > 0) {\r\n      this.recommendations.push({\r\n        message: 'Demanda alta vs estoque; oportunidade de ajuste de pre├ºo.',\r\n        severity: 'medium',\r\n        data: { stock, demand },\r\n      });\r\n    }\r\n    if (state?.bundleOpportunity) {\r\n      this.recommendations.push({\r\n        message: 'Sugest├úo: criar bundle promocional.',\r\n        severity: 'low',\r\n      });\r\n    }\r\n  }\r\n\r\n  emitEvents() {\r\n    this.recommendations.forEach(rec => {\r\n      if (rec.severity === 'medium' || rec.severity === 'high') {\r\n        this.emit('agent:opportunity-found', rec, 6);\r\n      } else {\r\n        this.emit('agent:boost-suggested', rec, 5);\r\n      }\r\n    });\r\n  }\r\n\r\n  adapt(delta: number) {\r\n    super.adapt(delta);\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\agents\\PricingAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[108,111],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[108,111],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BaseAgent } from './baseAgent';\r\n\r\nexport class PricingAgent extends BaseAgent {\r\n  analyze(state: any): void {\r\n    this.reset();\r\n    const margin = state?.margin ?? 0;\r\n    const cost = state?.cost ?? 0;\r\n    const price = state?.price ?? 0;\r\n\r\n    if (margin < 0.1) {\r\n      this.recommendations.push({\r\n        message: 'Margem baixa detectada. Risco de subprecifica├º├úo.',\r\n        severity: 'high',\r\n        data: { margin },\r\n      });\r\n    }\r\n\r\n    const targetPrice = cost > 0 ? cost * 1.3 : price;\r\n    if (price && targetPrice && price < targetPrice) {\r\n      this.recommendations.push({\r\n        message: 'Pre├ºo pode estar subestimado; sugerir ajuste.',\r\n        severity: 'medium',\r\n        data: { suggestedPrice: targetPrice },\r\n      });\r\n    }\r\n  }\r\n\r\n  emitEvents() {\r\n    this.recommendations.forEach(rec => {\r\n      if (rec.severity === 'high') {\r\n        this.emit('agent:margin-risk', rec, 7);\r\n      } else {\r\n        this.emit('agent:optimal-price', rec, 6);\r\n      }\r\n    });\r\n  }\r\n\r\n  adapt(delta: number) {\r\n    super.adapt(delta);\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\agents\\RiskAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[105,108],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[105,108],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BaseAgent } from './baseAgent';\r\n\r\nexport class RiskAgent extends BaseAgent {\r\n  analyze(state: any): void {\r\n    this.reset();\r\n    const anomaly = state?.anomalyScore ?? 0;\r\n    const loss = state?.predictedLoss ?? 0;\r\n\r\n    if (anomaly > 0.7) {\r\n      this.recommendations.push({\r\n        message: 'Comportamento fora do padr├úo detectado.',\r\n        severity: 'high',\r\n        data: { anomaly },\r\n      });\r\n    }\r\n    if (loss > 0) {\r\n      this.recommendations.push({\r\n        message: 'Risco de preju├¡zo previsto.',\r\n        severity: 'critical',\r\n        data: { loss },\r\n      });\r\n    }\r\n  }\r\n\r\n  emitEvents() {\r\n    this.recommendations.forEach(rec => {\r\n      if (rec.severity === 'critical') {\r\n        this.emit('agent:loss-predicted', rec, 8);\r\n      } else {\r\n        this.emit('agent:risk-detected', rec, 7);\r\n      }\r\n    });\r\n  }\r\n\r\n  adapt(delta: number) {\r\n    super.adapt(delta);\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\agents\\TaxAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[104,107],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[104,107],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BaseAgent } from './baseAgent';\r\n\r\nexport class TaxAgent extends BaseAgent {\r\n  analyze(state: any): void {\r\n    this.reset();\r\n    const taxes = state?.taxes || {};\r\n    if (taxes.icms && taxes.icms > 0.3) {\r\n      this.recommendations.push({\r\n        message: 'ICMS acima de 30%, revisar al├¡quota.',\r\n        severity: 'high',\r\n        data: { icms: taxes.icms },\r\n      });\r\n    }\r\n    if (taxes.origin && taxes.destination && taxes.origin === taxes.destination) {\r\n      this.recommendations.push({\r\n        message: 'Origem e destino iguais, verifique DIFAL.',\r\n        severity: 'medium',\r\n      });\r\n    }\r\n  }\r\n\r\n  emitEvents() {\r\n    this.recommendations.forEach(rec => {\r\n      if (rec.severity === 'high' || rec.severity === 'critical') {\r\n        this.emit('agent:tax-warning', rec, 7);\r\n      } else {\r\n        this.emit('agent:tax-correction-suggested', rec, 5);\r\n      }\r\n    });\r\n  }\r\n\r\n  adapt(delta: number) {\r\n    super.adapt(delta);\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\agents\\baseAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[187,190],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[187,190],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[350,353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[350,353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[383,386],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[383,386],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[397,400],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[397,400],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport interface AgentRecommendation {\r\n  message: string;\r\n  severity?: 'low' | 'medium' | 'high' | 'critical';\r\n  data?: Record<string, any>;\r\n}\r\n\r\nexport abstract class BaseAgent {\r\n  protected recommendations: AgentRecommendation[] = [];\r\n  protected threshold = 0.5;\r\n\r\n  abstract analyze(state: any): void;\r\n\r\n  emit(eventType: any, payload: any, priority = 5) {\r\n    emitEvent(eventType, payload, { source: this.constructor.name, priority });\r\n  }\r\n\r\n  emitEvents() {\r\n    // No-op default\r\n  }\r\n\r\n  getRecommendations(): AgentRecommendation[] {\r\n    return [...this.recommendations];\r\n  }\r\n\r\n  protected reset() {\r\n    this.recommendations = [];\r\n  }\r\n\r\n  adapt(delta: number) {\r\n    this.threshold = Math.max(0.1, Math.min(0.9, this.threshold + delta));\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\agents\\portalMonitorAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'multimodalEngine' is defined but never used. Allowed unused vars must match /^_/u.","line":18,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ragEngine' is defined but never used. Allowed unused vars must match /^_/u.","line":19,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":137,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":137,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3795,3798],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3795,3798],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":162,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":162,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4438,4441],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4438,4441],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'html' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":276,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":276,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":316,"column":107,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":316,"endColumn":110,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8319,8322],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8319,8322],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":904,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":904,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[24995,24998],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[24995,24998],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Portal Monitor Agent - Agente Aut├┤nomo de Monitoramento de Licita├º├Áes\n *\n * Este agente ├® respons├ível por:\n * - Monitoramento cont├¡nuo de portais de licita├º├úo (24/7)\n * - Detec├º├úo autom├ítica de novos editais\n * - An├ílise de relev├óncia baseada em perfil do usu├írio\n * - Alertas inteligentes em tempo real\n * - Extra├º├úo autom├ítica de dados dos editais\n * - Estimativa de probabilidade de vit├│ria\n *\n * @module azuria_ai/agents/portalMonitorAgent\n */\n\nimport { eventBus } from '../core/eventBus';\nimport { structuredLogger } from '../../services/structuredLogger';\nimport { supabase } from '../../lib/supabaseClient';\nimport multimodalEngine from '../engines/multimodalEngine';\nimport ragEngine from '../engines/ragEngine';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** Intervalo de monitoramento (ms) */\nconst MONITOR_INTERVAL = 5 * 60 * 1000; // 5 minutos\n\n/** Timeout para requisi├º├Áes (ms) */\nconst REQUEST_TIMEOUT = 30000; // 30s\n\n/** M├íximo de editais por execu├º├úo */\nconst MAX_EDITAIS_PER_RUN = 50;\n\n/** Confian├ºa m├¡nima para alertar */\nconst MIN_ALERT_CONFIDENCE = 0.6;\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Portal de licita├º├úo */\nexport interface LicitacaoPortal {\n  /** ID ├║nico do portal */\n  id: string;\n  /** Nome do portal */\n  name: string;\n  /** URL base */\n  baseUrl: string;\n  /** Tipo de portal */\n  type: 'comprasnet' | 'bll' | 'licitacoes-e' | 'municipal' | 'estadual' | 'custom';\n  /** Se est├í ativo */\n  enabled: boolean;\n  /** Credenciais (se necess├írio) */\n  credentials?: {\n    username?: string;\n    password?: string;\n    token?: string;\n  };\n  /** ├Ültima sincroniza├º├úo */\n  lastSyncAt?: number;\n  /** Configura├º├Áes de scraping */\n  scraping?: {\n    selectors: {\n      editalList: string;\n      editalItem: string;\n      numero: string;\n      orgao: string;\n      objeto: string;\n      dataAbertura: string;\n      modalidade: string;\n    };\n    paginationSelector?: string;\n    maxPages?: number;\n  };\n}\n\n/** Perfil de interesse do usu├írio */\nexport interface UserInterestProfile {\n  /** ID do usu├írio */\n  userId: string;\n  /** Palavras-chave de interesse */\n  keywords: string[];\n  /** Modalidades de interesse */\n  modalidades?: string[];\n  /** ├ôrg├úos de interesse */\n  orgaos?: string[];\n  /** Faixa de valor (min, max) */\n  valorRange?: {\n    min?: number;\n    max?: number;\n  };\n  /** Estados de interesse */\n  estados?: string[];\n  /** Cidades de interesse */\n  cidades?: string[];\n  /** Categoria de produtos/servi├ºos */\n  categorias?: string[];\n  /** N├¡vel de experi├¬ncia da empresa */\n  experienceLevel?: 'iniciante' | 'intermediario' | 'avancado';\n  /** Certifica├º├Áes que possui */\n  certificacoes?: string[];\n}\n\n/** Edital detectado */\nexport interface DetectedEdital {\n  /** ID ├║nico */\n  id: string;\n  /** Portal de origem */\n  portalId: string;\n  /** N├║mero do edital */\n  numero: string;\n  /** ├ôrg├úo licitante */\n  orgao: string;\n  /** Objeto da licita├º├úo */\n  objeto: string;\n  /** Modalidade */\n  modalidade: string;\n  /** Data de abertura */\n  dataAbertura: Date;\n  /** Data limite para proposta */\n  dataLimite?: Date;\n  /** Valor estimado */\n  valorEstimado?: number;\n  /** URL do edital */\n  url: string;\n  /** Status */\n  status: 'novo' | 'analisado' | 'interessante' | 'ignorado';\n  /** Score de relev├óncia (0-1) */\n  relevanceScore: number;\n  /** Probabilidade de vit├│ria estimada (0-1) */\n  winProbability?: number;\n  /** Raz├Áes da relev├óncia */\n  relevanceReasons: string[];\n  /** Detectado em */\n  detectedAt: number;\n  /** Dados completos extra├¡dos */\n  fullData?: any;\n}\n\n/** Alerta gerado */\nexport interface GeneratedAlert {\n  /** ID do alerta */\n  id: string;\n  /** ID do edital */\n  editalId: string;\n  /** ID do usu├írio */\n  userId: string;\n  /** Tipo de alerta */\n  type: 'novo_edital' | 'prazo_proximo' | 'alta_relevancia' | 'baixa_concorrencia';\n  /** T├¡tulo */\n  title: string;\n  /** Mensagem */\n  message: string;\n  /** Urg├¬ncia */\n  urgency: 'low' | 'medium' | 'high' | 'critical';\n  /** Se foi lido */\n  read: boolean;\n  /** A├º├Áes sugeridas */\n  suggestedActions: Array<{\n    type: 'download_edital' | 'calcular_bdi' | 'preparar_proposta' | 'consultar_legislacao';\n    label: string;\n    data?: any;\n  }>;\n  /** Criado em */\n  createdAt: number;\n}\n\n/** Estat├¡sticas de monitoramento */\nexport interface MonitorStats {\n  /** Total de portais monitorados */\n  portaisMonitorados: number;\n  /** Total de editais detectados */\n  editaisDetectados: number;\n  /** Editais relevantes */\n  editaisRelevantes: number;\n  /** Alertas gerados */\n  alertasGerados: number;\n  /** ├Ültima execu├º├úo */\n  lastRunAt: number;\n  /** Pr├│xima execu├º├úo */\n  nextRunAt: number;\n  /** Se est├í rodando */\n  isRunning: boolean;\n  /** Erros recentes */\n  recentErrors: Array<{\n    portalId: string;\n    error: string;\n    timestamp: number;\n  }>;\n}\n\n/** Configura├º├úo do agente */\nexport interface PortalMonitorConfig {\n  /** Se est├í habilitado */\n  enabled: boolean;\n  /** Intervalo de monitoramento (ms) */\n  interval: number;\n  /** Se deve auto-analisar editais */\n  autoAnalyze: boolean;\n  /** Se deve gerar alertas automaticamente */\n  autoAlert: boolean;\n  /** Se deve fazer scraping de portais */\n  enableScraping: boolean;\n  /** Portais a monitorar */\n  portals: LicitacaoPortal[];\n  /** Timeout */\n  timeout: number;\n}\n\n/** Estado do agente */\ninterface AgentState {\n  initialized: boolean;\n  running: boolean;\n  config: PortalMonitorConfig;\n  stats: MonitorStats;\n  intervalId?: NodeJS.Timeout;\n  currentRun?: {\n    startedAt: number;\n    portalsProcessed: number;\n    editaisFound: number;\n  };\n}\n\n// ============================================================================\n// State\n// ============================================================================\n\nconst state: AgentState = {\n  initialized: false,\n  running: false,\n  config: {\n    enabled: true,\n    interval: MONITOR_INTERVAL,\n    autoAnalyze: true,\n    autoAlert: true,\n    enableScraping: true,\n    portals: [],\n    timeout: REQUEST_TIMEOUT,\n  },\n  stats: {\n    portaisMonitorados: 0,\n    editaisDetectados: 0,\n    editaisRelevantes: 0,\n    alertasGerados: 0,\n    lastRunAt: 0,\n    nextRunAt: 0,\n    isRunning: false,\n    recentErrors: [],\n  },\n};\n\n// ============================================================================\n// Portal Scrapers\n// ============================================================================\n\n/**\n * Scraper gen├®rico usando seletores CSS\n */\nasync function scrapePortalGeneric(portal: LicitacaoPortal): Promise<DetectedEdital[]> {\n  if (!portal.scraping) {\n    throw new Error('Portal scraping config not found');\n  }\n\n  try {\n    // Nota: Em produ├º├úo real, usar puppeteer/playwright para scraping\n    // Por enquanto, simulamos a estrutura\n    \n    const response = await fetch(portal.baseUrl, {\n      signal: AbortSignal.timeout(state.config.timeout),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n    }\n\n    const html = await response.text();\n    \n    // TODO: Implementar parsing real com DOMParser ou Cheerio\n    // Por enquanto, retorna array vazio (estrutura pronta)\n    \n    structuredLogger.info('[PortalMonitor] Portal scraped', {\n      portalId: portal.id,\n      portalName: portal.name,\n    });\n\n    return [];\n\n  } catch (error) {\n    structuredLogger.error('[PortalMonitor] Error scraping portal', {\n      portalId: portal.id,\n      error,\n    });\n    throw error;\n  }\n}\n\n/**\n * Scraper para ComprasNet (Portal Federal)\n */\nasync function scrapeComprasNet(): Promise<DetectedEdital[]> {\n  try {\n    // ComprasNet usa API REST\n    const apiUrl = 'https://compras.dados.gov.br/licitacoes/v1/licitacoes.json';\n    \n    const response = await fetch(apiUrl, {\n      signal: AbortSignal.timeout(state.config.timeout),\n    });\n\n    if (!response.ok) {\n      throw new Error(`ComprasNet API error: ${response.status}`);\n    }\n\n    const data = await response.json();\n    \n    // Mapear para formato padronizado\n    const editais: DetectedEdital[] = data._embedded?.licitacoes?.slice(0, MAX_EDITAIS_PER_RUN).map((lic: any) => ({\n      id: `comprasnet-${lic.numeroLicitacao}`,\n      portalId: 'comprasnet',\n      numero: lic.numeroLicitacao,\n      orgao: lic.orgao?.nome || '├ôrg├úo n├úo informado',\n      objeto: lic.objeto || 'Objeto n├úo informado',\n      modalidade: lic.modalidade?.descricao || 'N├úo informado',\n      dataAbertura: new Date(lic.dataAbertura),\n      valorEstimado: lic.valorEstimado,\n      url: `https://www.gov.br/compras/pt-br/acesso-a-informacao/licitacoes-e-contratos/avisos-de-licitacao/${lic.numeroLicitacao}`,\n      status: 'novo',\n      relevanceScore: 0,\n      relevanceReasons: [],\n      detectedAt: Date.now(),\n      fullData: lic,\n    })) || [];\n\n    structuredLogger.info('[PortalMonitor] ComprasNet scraped', {\n      editais: editais.length,\n    });\n\n    return editais;\n\n  } catch (error) {\n    structuredLogger.error('[PortalMonitor] Error scraping ComprasNet', { error });\n    return [];\n  }\n}\n\n/**\n * Scraper para BLL (Bolsa de Licita├º├Áes e Leil├Áes)\n */\nasync function scrapeBLL(): Promise<DetectedEdital[]> {\n  try {\n    // BLL tem API p├║blica\n    // TODO: Implementar integra├º├úo real\n    \n    structuredLogger.info('[PortalMonitor] BLL scraping not implemented yet');\n    return [];\n    \n  } catch (error) {\n    structuredLogger.error('[PortalMonitor] Error scraping BLL', { error });\n    return [];\n  }\n}\n\n// ============================================================================\n// Relevance Analysis\n// ============================================================================\n\n/**\n * Calcula score de relev├óncia de um edital para um usu├írio\n */\nasync function calculateRelevance(\n  edital: DetectedEdital,\n  profile: UserInterestProfile\n): Promise<{ score: number; reasons: string[] }> {\n  let score = 0;\n  const reasons: string[] = [];\n  const weights = {\n    keyword: 0.3,\n    modalidade: 0.15,\n    orgao: 0.1,\n    valor: 0.2,\n    localizacao: 0.15,\n    categoria: 0.1,\n  };\n\n  // 1. Keywords no objeto\n  const objetoLower = edital.objeto.toLowerCase();\n  const matchedKeywords = profile.keywords.filter(kw => \n    objetoLower.includes(kw.toLowerCase())\n  );\n  \n  if (matchedKeywords.length > 0) {\n    const keywordScore = Math.min(matchedKeywords.length / profile.keywords.length, 1);\n    score += keywordScore * weights.keyword;\n    reasons.push(`Cont├®m ${matchedKeywords.length} palavra(s)-chave: ${matchedKeywords.join(', ')}`);\n  }\n\n  // 2. Modalidade\n  if (profile.modalidades && profile.modalidades.includes(edital.modalidade)) {\n    score += weights.modalidade;\n    reasons.push(`Modalidade de interesse: ${edital.modalidade}`);\n  }\n\n  // 3. ├ôrg├úo\n  if (profile.orgaos && profile.orgaos.some(org => edital.orgao.toLowerCase().includes(org.toLowerCase()))) {\n    score += weights.orgao;\n    reasons.push('├ôrg├úo de interesse');\n  }\n\n  // 4. Valor\n  if (edital.valorEstimado && profile.valorRange) {\n    const { min, max } = profile.valorRange;\n    if (\n      (!min || edital.valorEstimado >= min) &&\n      (!max || edital.valorEstimado <= max)\n    ) {\n      score += weights.valor;\n      reasons.push(`Valor dentro da faixa: R$ ${edital.valorEstimado.toLocaleString('pt-BR')}`);\n    }\n  }\n\n  // 5. Categoria (usando RAG para classifica├º├úo sem├óntica)\n  if (profile.categorias && profile.categorias.length > 0) {\n    // TODO: Usar RAG para match sem├óntico\n    score += weights.categoria * 0.5; // Score parcial por enquanto\n  }\n\n  // Normalizar score (0-1)\n  score = Math.min(score, 1);\n\n  return { score, reasons };\n}\n\n/**\n * Estima probabilidade de vit├│ria em uma licita├º├úo\n */\nasync function estimateWinProbability(\n  edital: DetectedEdital,\n  profile: UserInterestProfile\n): Promise<number> {\n  let probability = 0.5; // Base neutra\n\n  // Fatores que aumentam probabilidade:\n  \n  // 1. N├¡vel de experi├¬ncia\n  if (profile.experienceLevel === 'avancado') {\n    probability += 0.2;\n  } else if (profile.experienceLevel === 'intermediario') {\n    probability += 0.1;\n  }\n\n  // 2. Certifica├º├Áes relevantes\n  if (profile.certificacoes && profile.certificacoes.length > 0) {\n    probability += 0.15;\n  }\n\n  // 3. Match de categoria (empresa especializada)\n  if (profile.categorias && profile.categorias.length <= 3) {\n    // Especializa├º├úo em poucas categorias aumenta chances\n    probability += 0.1;\n  }\n\n  // 4. Valor adequado ao porte\n  if (edital.valorEstimado && profile.valorRange) {\n    const { min, max } = profile.valorRange;\n    if (min && max) {\n      const midRange = (min + max) / 2;\n      const deviation = Math.abs(edital.valorEstimado - midRange) / midRange;\n      \n      if (deviation < 0.3) {\n        // Valor pr├│ximo ao ideal\n        probability += 0.1;\n      }\n    }\n  }\n\n  // 5. Modalidade favor├ível\n  if (profile.modalidades && profile.modalidades.includes('preg├úo')) {\n    // Preg├úo ├® mais competitivo mas mais r├ípido\n    probability -= 0.05;\n  }\n\n  // Normalizar (0-1)\n  probability = Math.max(0, Math.min(probability, 1));\n\n  return probability;\n}\n\n// ============================================================================\n// Alert Generation\n// ============================================================================\n\n/**\n * Gera alerta para edital relevante\n */\nasync function generateAlert(\n  edital: DetectedEdital,\n  profile: UserInterestProfile\n): Promise<GeneratedAlert> {\n  \n  // Determinar tipo e urg├¬ncia\n  let type: GeneratedAlert['type'] = 'novo_edital';\n  let urgency: GeneratedAlert['urgency'] = 'medium';\n\n  if (edital.relevanceScore >= 0.8) {\n    type = 'alta_relevancia';\n    urgency = 'high';\n  }\n\n  const diasAteAbertura = edital.dataAbertura \n    ? Math.ceil((edital.dataAbertura.getTime() - Date.now()) / (1000 * 60 * 60 * 24))\n    : 999;\n\n  if (diasAteAbertura <= 3) {\n    type = 'prazo_proximo';\n    urgency = 'critical';\n  }\n\n  // Construir mensagem\n  const title = `Novo edital relevante: ${edital.numero}`;\n  const message = `\n${edital.orgao} publicou edital que pode interessar voc├¬!\n\n­ƒôï **Objeto**: ${edital.objeto.substring(0, 200)}${edital.objeto.length > 200 ? '...' : ''}\n\n­ƒÆ░ **Valor Estimado**: ${edital.valorEstimado ? `R$ ${edital.valorEstimado.toLocaleString('pt-BR')}` : 'N├úo informado'}\n\n­ƒÄ» **Relev├óncia**: ${(edital.relevanceScore * 100).toFixed(0)}%\n\n­ƒôà **Abertura**: ${edital.dataAbertura.toLocaleDateString('pt-BR')}\n\n${edital.winProbability ? `­ƒÅå **Probabilidade de Vit├│ria**: ${(edital.winProbability * 100).toFixed(0)}%\\n` : ''}\n\n**Por que ├® relevante**:\n${edital.relevanceReasons.map(r => `ÔÇó ${r}`).join('\\n')}\n`.trim();\n\n  // A├º├Áes sugeridas\n  const suggestedActions: GeneratedAlert['suggestedActions'] = [\n    {\n      type: 'download_edital',\n      label: 'Baixar Edital Completo',\n      data: { url: edital.url },\n    },\n  ];\n\n  if (edital.modalidade.toLowerCase().includes('preg├úo') || edital.objeto.toLowerCase().includes('obra')) {\n    suggestedActions.push({\n      type: 'calcular_bdi',\n      label: 'Calcular BDI',\n      data: { editalId: edital.id },\n    });\n  }\n\n  suggestedActions.push({\n    type: 'preparar_proposta',\n    label: 'Iniciar Proposta',\n    data: { editalId: edital.id },\n  });\n\n  suggestedActions.push({\n    type: 'consultar_legislacao',\n    label: 'Consultar Legisla├º├úo',\n    data: { query: `${edital.modalidade} ${edital.objeto}` },\n  });\n\n  const alert: GeneratedAlert = {\n    id: `alert-${edital.id}-${Date.now()}`,\n    editalId: edital.id,\n    userId: profile.userId,\n    type,\n    title,\n    message,\n    urgency,\n    read: false,\n    suggestedActions,\n    createdAt: Date.now(),\n  };\n\n  return alert;\n}\n\n// ============================================================================\n// Main Monitoring Loop\n// ============================================================================\n\n/**\n * Executa uma rodada de monitoramento\n */\nasync function runMonitoringCycle(): Promise<void> {\n  if (state.stats.isRunning) {\n    structuredLogger.warn('[PortalMonitor] Cycle already running, skipping');\n    return;\n  }\n\n  state.stats.isRunning = true;\n  state.currentRun = {\n    startedAt: Date.now(),\n    portalsProcessed: 0,\n    editaisFound: 0,\n  };\n\n  structuredLogger.info('[PortalMonitor] Starting monitoring cycle');\n\n  try {\n    // 1. Buscar perfis de usu├írios ativos\n    const { data: profiles } = await supabase\n      .from('user_interest_profiles')\n      .select('*')\n      .eq('enabled', true);\n\n    if (!profiles || profiles.length === 0) {\n      structuredLogger.info('[PortalMonitor] No active user profiles found');\n      return;\n    }\n\n    // 2. Para cada portal habilitado\n    for (const portal of state.config.portals.filter(p => p.enabled)) {\n      try {\n        state.currentRun.portalsProcessed++;\n\n        let editais: DetectedEdital[] = [];\n\n        // 3. Scraping baseado no tipo de portal\n        switch (portal.type) {\n          case 'comprasnet':\n            editais = await scrapeComprasNet();\n            break;\n          \n          case 'bll':\n            editais = await scrapeBLL();\n            break;\n          \n          default:\n            if (portal.scraping) {\n              editais = await scrapePortalGeneric(portal);\n            }\n        }\n\n        state.currentRun.editaisFound += editais.length;\n\n        // 4. Para cada edital encontrado\n        for (const edital of editais) {\n          // Verificar se j├í existe no banco\n          const { data: existing } = await supabase\n            .from('detected_editais')\n            .select('id')\n            .eq('numero', edital.numero)\n            .eq('orgao', edital.orgao)\n            .single();\n\n          if (existing) {\n            continue; // J├í foi processado\n          }\n\n          // 5. Analisar relev├óncia para cada perfil\n          for (const profile of profiles) {\n            const { score, reasons } = await calculateRelevance(edital, profile);\n            \n            edital.relevanceScore = score;\n            edital.relevanceReasons = reasons;\n\n            // Estimar probabilidade de vit├│ria\n            if (score >= MIN_ALERT_CONFIDENCE) {\n              edital.winProbability = await estimateWinProbability(edital, profile);\n              edital.status = 'interessante';\n              \n              state.stats.editaisRelevantes++;\n\n              // 6. Gerar alerta se relevante\n              if (state.config.autoAlert) {\n                const alert = await generateAlert(edital, profile);\n                \n                // Salvar alerta\n                await supabase.from('alerts').insert({\n                  id: alert.id,\n                  edital_id: alert.editalId,\n                  user_id: alert.userId,\n                  type: alert.type,\n                  title: alert.title,\n                  message: alert.message,\n                  urgency: alert.urgency,\n                  read: alert.read,\n                  suggested_actions: alert.suggestedActions,\n                  created_at: new Date(alert.createdAt).toISOString(),\n                });\n\n                state.stats.alertasGerados++;\n\n                // Emitir evento\n                eventBus.emit('portal-monitor:alert-generated', {\n                  alert,\n                  edital,\n                  timestamp: Date.now(),\n                });\n\n                structuredLogger.info('[PortalMonitor] Alert generated', {\n                  alertId: alert.id,\n                  editalNumero: edital.numero,\n                  relevanceScore: score,\n                });\n              }\n            }\n          }\n\n          // 7. Salvar edital no banco\n          await supabase.from('detected_editais').insert({\n            id: edital.id,\n            portal_id: edital.portalId,\n            numero: edital.numero,\n            orgao: edital.orgao,\n            objeto: edital.objeto,\n            modalidade: edital.modalidade,\n            data_abertura: edital.dataAbertura.toISOString(),\n            valor_estimado: edital.valorEstimado,\n            url: edital.url,\n            status: edital.status,\n            relevance_score: edital.relevanceScore,\n            win_probability: edital.winProbability,\n            relevance_reasons: edital.relevanceReasons,\n            detected_at: new Date(edital.detectedAt).toISOString(),\n            full_data: edital.fullData,\n          });\n\n          state.stats.editaisDetectados++;\n        }\n\n        // Atualizar lastSyncAt do portal\n        await supabase\n          .from('portals')\n          .update({ last_sync_at: new Date().toISOString() })\n          .eq('id', portal.id);\n\n      } catch (error) {\n        state.stats.recentErrors.push({\n          portalId: portal.id,\n          error: String(error),\n          timestamp: Date.now(),\n        });\n\n        // Manter apenas ├║ltimos 10 erros\n        if (state.stats.recentErrors.length > 10) {\n          state.stats.recentErrors.shift();\n        }\n\n        structuredLogger.error('[PortalMonitor] Error processing portal', {\n          portalId: portal.id,\n          error,\n        });\n      }\n    }\n\n    state.stats.lastRunAt = Date.now();\n    state.stats.nextRunAt = Date.now() + state.config.interval;\n\n    eventBus.emit('portal-monitor:cycle-completed', {\n      stats: state.stats,\n      duration: Date.now() - state.currentRun.startedAt,\n      timestamp: Date.now(),\n    });\n\n    structuredLogger.info('[PortalMonitor] Cycle completed', {\n      portalsProcessed: state.currentRun.portalsProcessed,\n      editaisFound: state.currentRun.editaisFound,\n      editaisRelevantes: state.stats.editaisRelevantes,\n      alertasGerados: state.stats.alertasGerados,\n      duration: Date.now() - state.currentRun.startedAt,\n    });\n\n  } catch (error) {\n    structuredLogger.error('[PortalMonitor] Error in monitoring cycle', { error });\n  } finally {\n    state.stats.isRunning = false;\n    state.currentRun = undefined;\n  }\n}\n\n// ============================================================================\n// Public API\n// ============================================================================\n\n/**\n * Inicia o agente de monitoramento\n */\nexport function startPortalMonitor(config?: Partial<PortalMonitorConfig>): void {\n  if (state.running) {\n    structuredLogger.warn('[PortalMonitor] Already running');\n    return;\n  }\n\n  if (config) {\n    state.config = { ...state.config, ...config };\n  }\n\n  if (!state.config.enabled) {\n    structuredLogger.info('[PortalMonitor] Disabled in config');\n    return;\n  }\n\n  // Executar imediatamente\n  runMonitoringCycle();\n\n  // Agendar pr├│ximas execu├º├Áes\n  state.intervalId = setInterval(() => {\n    runMonitoringCycle();\n  }, state.config.interval);\n\n  state.running = true;\n  state.initialized = true;\n\n  eventBus.emit('agent:portal-monitor-started', {\n    config: state.config,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[PortalMonitor] Agent started', {\n    interval: state.config.interval,\n    portals: state.config.portals.length,\n  });\n}\n\n/**\n * Para o agente\n */\nexport function stopPortalMonitor(): void {\n  if (!state.running) {\n    return;\n  }\n\n  if (state.intervalId) {\n    clearInterval(state.intervalId);\n    state.intervalId = undefined;\n  }\n\n  state.running = false;\n\n  eventBus.emit('agent:portal-monitor-stopped', {\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[PortalMonitor] Agent stopped');\n}\n\n/**\n * For├ºa uma execu├º├úo imediata\n */\nexport async function forceMonitoringRun(): Promise<void> {\n  await runMonitoringCycle();\n}\n\n/**\n * Adiciona portal ao monitoramento\n */\nexport async function addPortal(portal: LicitacaoPortal): Promise<void> {\n  state.config.portals.push(portal);\n  state.stats.portaisMonitorados = state.config.portals.filter(p => p.enabled).length;\n\n  // Salvar no banco\n  await supabase.from('portals').insert({\n    id: portal.id,\n    name: portal.name,\n    base_url: portal.baseUrl,\n    type: portal.type,\n    enabled: portal.enabled,\n    scraping: portal.scraping,\n  });\n\n  structuredLogger.info('[PortalMonitor] Portal added', {\n    portalId: portal.id,\n    name: portal.name,\n  });\n}\n\n/**\n * Remove portal\n */\nexport async function removePortal(portalId: string): Promise<void> {\n  state.config.portals = state.config.portals.filter(p => p.id !== portalId);\n  state.stats.portaisMonitorados = state.config.portals.filter(p => p.enabled).length;\n\n  await supabase.from('portals').delete().eq('id', portalId);\n\n  structuredLogger.info('[PortalMonitor] Portal removed', { portalId });\n}\n\n/**\n * Estat├¡sticas\n */\nexport function getPortalMonitorStats(): MonitorStats {\n  return { ...state.stats };\n}\n\n/**\n * Busca alertas do usu├írio\n */\nexport async function getUserAlerts(userId: string, limit = 50): Promise<GeneratedAlert[]> {\n  const { data } = await supabase\n    .from('alerts')\n    .select('*')\n    .eq('user_id', userId)\n    .order('created_at', { ascending: false })\n    .limit(limit);\n\n  if (!data) {return [];}\n\n  return data.map((row: any) => ({\n    id: row.id,\n    editalId: row.edital_id,\n    userId: row.user_id,\n    type: row.type,\n    title: row.title,\n    message: row.message,\n    urgency: row.urgency,\n    read: row.read,\n    suggestedActions: row.suggested_actions,\n    createdAt: new Date(row.created_at).getTime(),\n  }));\n}\n\n/**\n * Marca alerta como lido\n */\nexport async function markAlertAsRead(alertId: string): Promise<void> {\n  await supabase\n    .from('alerts')\n    .update({ read: true })\n    .eq('id', alertId);\n}\n\n// ============================================================================\n// Export\n// ============================================================================\n\nexport default {\n  startPortalMonitor,\n  stopPortalMonitor,\n  forceMonitoringRun,\n  addPortal,\n  removePortal,\n  getPortalMonitorStats,\n  getUserAlerts,\n  markAlertAsRead,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\context\\contextExtractors.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[230,233],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[230,233],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Context Extractors\r\n *\r\n * Fun├º├Áes para extrair dados espec├¡ficos de cada m├│dulo/tela.\r\n * Cada extrator retorna dados relevantes para an├ílise da IA.\r\n */\r\n\r\nexport interface ExtractedContext {\r\n  screen: string;\r\n  data: any;\r\n  timestamp: number;\r\n}\r\n\r\n/**\r\n * Extrai contexto do Dashboard\r\n */\r\nexport function extractDashboardContext(): ExtractedContext {\r\n  // TODO: Implementar extra├º├úo de dados do dashboard\r\n  // - Resumo de vendas\r\n  // - M├®tricas principais\r\n  // - Alertas ativos\r\n  // - Gr├íficos vis├¡veis\r\n\r\n  return {\r\n    screen: 'dashboard',\r\n    data: {\r\n      // Placeholder\r\n    },\r\n    timestamp: Date.now(),\r\n  };\r\n}\r\n\r\n/**\r\n * Extrai contexto do Hist├│rico\r\n */\r\nexport function extractHistoryContext(): ExtractedContext {\r\n  // TODO: Implementar extra├º├úo de dados do hist├│rico\r\n  // - C├ílculos recentes\r\n  // - Filtros aplicados\r\n  // - Per├¡odo selecionado\r\n  // - Estat├¡sticas do per├¡odo\r\n\r\n  return {\r\n    screen: 'history',\r\n    data: {\r\n      // Placeholder\r\n    },\r\n    timestamp: Date.now(),\r\n  };\r\n}\r\n\r\n/**\r\n * Extrai contexto do Lote Inteligente\r\n */\r\nexport function extractLotContext(): ExtractedContext {\r\n  // TODO: Implementar extra├º├úo de dados do lote\r\n  // - Produtos no lote\r\n  // - C├ílculos agregados\r\n  // - Estrat├®gia de precifica├º├úo\r\n  // - Margem m├®dia\r\n\r\n  return {\r\n    screen: 'smart_lot',\r\n    data: {\r\n      // Placeholder\r\n    },\r\n    timestamp: Date.now(),\r\n  };\r\n}\r\n\r\n/**\r\n * Extrai contexto da IA de Precifica├º├úo\r\n */\r\nexport function extractPricingAIContext(): ExtractedContext {\r\n  // TODO: Implementar extra├º├úo de dados da IA de precifica├º├úo\r\n  // - Produtos analisados\r\n  // - Sugest├Áes geradas\r\n  // - Par├ómetros de otimiza├º├úo\r\n  // - Resultados esperados\r\n\r\n  return {\r\n    screen: 'pricing_ai',\r\n    data: {\r\n      // Placeholder\r\n    },\r\n    timestamp: Date.now(),\r\n  };\r\n}\r\n\r\n/**\r\n * Extrai contexto do Marketplace\r\n */\r\nexport function extractMarketplaceContext(): ExtractedContext {\r\n  // TODO: Implementar extra├º├úo de dados do marketplace\r\n  // - Marketplace selecionado\r\n  // - Taxas aplicadas\r\n  // - Produtos listados\r\n  // - Compara├º├Áes de pre├ºo\r\n\r\n  return {\r\n    screen: 'marketplace',\r\n    data: {\r\n      // Placeholder\r\n    },\r\n    timestamp: Date.now(),\r\n  };\r\n}\r\n\r\n/**\r\n * Extrai contexto do Analytics\r\n */\r\nexport function extractAnalyticsContext(): ExtractedContext {\r\n  // TODO: Implementar extra├º├úo de dados do analytics\r\n  // - M├®tricas visualizadas\r\n  // - Per├¡odo de an├ílise\r\n  // - Filtros ativos\r\n  // - Insights gerados\r\n\r\n  return {\r\n    screen: 'analytics',\r\n    data: {\r\n      // Placeholder\r\n    },\r\n    timestamp: Date.now(),\r\n  };\r\n}\r\n\r\n/**\r\n * Extrai contexto de Licita├º├Áes\r\n */\r\nexport function extractBiddingContext(): ExtractedContext {\r\n  // TODO: Implementar extra├º├úo de dados de licita├º├Áes\r\n  // - Editais ativos\r\n  // - Lances calculados\r\n  // - An├ílise de risco\r\n  // - Hist├│rico de participa├º├Áes\r\n\r\n  return {\r\n    screen: 'bidding',\r\n    data: {\r\n      // Placeholder\r\n    },\r\n    timestamp: Date.now(),\r\n  };\r\n}\r\n\r\n/**\r\n * Fun├º├úo gen├®rica para extrair contexto baseado no nome da tela\r\n */\r\nexport function extractContextForScreen(\r\n  screenName: string\r\n): ExtractedContext | null {\r\n  const extractors: Record<string, () => ExtractedContext> = {\r\n    dashboard: extractDashboardContext,\r\n    history: extractHistoryContext,\r\n    smart_lot: extractLotContext,\r\n    pricing_ai: extractPricingAIContext,\r\n    marketplace: extractMarketplaceContext,\r\n    analytics: extractAnalyticsContext,\r\n    bidding: extractBiddingContext,\r\n  };\r\n\r\n  const extractor = extractors[screenName];\r\n  if (extractor) {\r\n    return extractor();\r\n  }\r\n\r\n  return null;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\context\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\context\\screenContextWatcher.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[410,413],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[410,413],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":97,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2459,2462],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2459,2462],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":98,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2493,2496],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2493,2496],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Screen Context Watcher\r\n *\r\n * Detecta mudan├ºas de rota/tela no app e emite eventos contextuais.\r\n * Permite que a IA entenda em qual tela o usu├írio est├í.\r\n */\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { emitEvent } from '../core/eventBus';\r\n\r\nexport interface ScreenContext {\r\n  screen: string;\r\n  path: string;\r\n  metadata: Record<string, any>;\r\n  timestamp: number;\r\n}\r\n\r\n/**\r\n * Mapeia URLs para nomes de tela\r\n */\r\nfunction mapPathToScreen(path: string): string {\r\n  const pathMap: Record<string, string> = {\r\n    '/': 'home',\r\n    '/dashboard': 'dashboard',\r\n    '/calculadora': 'calculator_basic',\r\n    '/calculadora-avancada': 'calculator_advanced',\r\n    '/regime-tributario': 'calculator_tax',\r\n    '/licitacoes': 'calculator_bidding',\r\n    '/historico': 'history',\r\n    '/lote-inteligente': 'smart_lot',\r\n    '/ia-precificacao': 'pricing_ai',\r\n    '/marketplace': 'marketplace',\r\n    '/analytics': 'analytics',\r\n    '/configuracoes': 'settings',\r\n    '/perfil': 'profile',\r\n  };\r\n\r\n  // Busca exata primeiro\r\n  if (pathMap[path]) {\r\n    return pathMap[path];\r\n  }\r\n\r\n  // Busca por prefixo\r\n  for (const [key, value] of Object.entries(pathMap)) {\r\n    if (path.startsWith(key) && key !== '/') {\r\n      return value;\r\n    }\r\n  }\r\n\r\n  return 'unknown';\r\n}\r\n\r\n/**\r\n * Hook que monitora mudan├ºas de tela\r\n */\r\nexport function useScreenContextWatcher() {\r\n  const location = useLocation();\r\n  const previousPathRef = useRef<string>('');\r\n\r\n  useEffect(() => {\r\n    const currentPath = location.pathname;\r\n\r\n    // Detectar mudan├ºa de tela\r\n    if (currentPath !== previousPathRef.current) {\r\n      const screenName = mapPathToScreen(currentPath);\r\n\r\n      const context: ScreenContext = {\r\n        screen: screenName,\r\n        path: currentPath,\r\n        metadata: {\r\n          search: location.search,\r\n          hash: location.hash,\r\n          state: location.state,\r\n        },\r\n        timestamp: Date.now(),\r\n      };\r\n\r\n      // Emitir evento de mudan├ºa de tela\r\n      emitEvent('screen:changed', context, {\r\n        source: 'screenContextWatcher',\r\n        priority: 3,\r\n        metadata: {\r\n          previousScreen: mapPathToScreen(previousPathRef.current),\r\n        },\r\n      });\r\n\r\n      previousPathRef.current = currentPath;\r\n    }\r\n  }, [location]);\r\n}\r\n\r\n/**\r\n * Fun├º├úo para emitir atualiza├º├úo de dados da tela atual\r\n */\r\nexport function emitScreenDataUpdate(\r\n  data: any,\r\n  metadata?: Record<string, any>\r\n) {\r\n  const context = {\r\n    data,\r\n    metadata: metadata || {},\r\n    timestamp: Date.now(),\r\n  };\r\n\r\n  emitEvent('screen:dataUpdated', context, {\r\n    source: 'screenContextWatcher',\r\n    priority: 4,\r\n  });\r\n}\r\n\r\nexport default useScreenContextWatcher;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\adminConfig.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":26,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":26,"endColumn":15,"suggestions":[{"fix":{"range":[875,1051],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Admin UID Configuration\r\n * \r\n * SECURITY: O UID de admin DEVE ser configurado via vari├ível de ambiente.\r\n * Nunca usar fallback hardcoded em produ├º├úo.\r\n */\r\n\r\n// Lista de UIDs de admin permitidos (suporta m├║ltiplos admins)\r\n// Usar import.meta.env para Vite (browser) \r\nconst ADMIN_UIDS_ENV = import.meta.env.VITE_ADMIN_UIDS || import.meta.env.VITE_ADMIN_UID || '';\r\n\r\n// Parse da lista de UIDs (separados por v├¡rgula)\r\nexport const ADMIN_UIDS: Set<string> = new Set(\r\n  ADMIN_UIDS_ENV.split(',')\r\n    .map(uid => uid.trim())\r\n    .filter(uid => uid.length > 0 && uid.length >= 32) // UUID tem 36 chars, m├¡nimo 32 sem h├¡fens\r\n);\r\n\r\n// Compatibilidade: exportar primeiro UID como ADMIN_UID\r\nexport const ADMIN_UID = ADMIN_UIDS.size > 0 \r\n  ? Array.from(ADMIN_UIDS)[0] \r\n  : '';\r\n\r\n// Valida├º├úo em runtime - alertar se n├úo configurado\r\nif (ADMIN_UIDS.size === 0) {\r\n  console.warn(\r\n    '[SECURITY WARNING] ADMIN_UID/ADMIN_UIDS n├úo configurado. ' +\r\n    'Defina a vari├ível de ambiente ADMIN_UID ou ADMIN_UIDS para habilitar acesso admin.'\r\n  );\r\n}\r\n\r\n/**\r\n * Verifica se um UID ├® um admin v├ílido\r\n */\r\nexport function isValidAdminUID(uid: string | null | undefined): boolean {\r\n  if (!uid || uid.length < 32) {return false;}\r\n  return ADMIN_UIDS.has(uid);\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\adminGuard.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":47,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":47,"endColumn":17,"suggestions":[{"fix":{"range":[1488,1566],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":72,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":72,"endColumn":17,"suggestions":[{"fix":{"range":[2201,2268],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":78,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":78,"endColumn":17,"suggestions":[{"fix":{"range":[2410,2492],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextApiRequest, NextApiResponse } from 'next';\r\nimport { ADMIN_UIDS, isValidAdminUID } from './adminConfig';\r\n\r\nfunction headerToString(h: string | string[] | undefined): string {\r\n  if (!h) {return '';}\r\n  return Array.isArray(h) ? h[0] : h;\r\n}\r\n\r\n/**\r\n * Rate limiting simples para prote├º├úo contra brute force\r\n */\r\nconst rateLimitMap = new Map<string, { count: number; resetAt: number }>();\r\nconst RATE_LIMIT_WINDOW_MS = 60000; // 1 minuto\r\nconst RATE_LIMIT_MAX_ATTEMPTS = 10; // m├íximo 10 tentativas por minuto\r\n\r\nfunction isRateLimited(ip: string): boolean {\r\n  const now = Date.now();\r\n  const record = rateLimitMap.get(ip);\r\n  \r\n  if (!record || now > record.resetAt) {\r\n    rateLimitMap.set(ip, { count: 1, resetAt: now + RATE_LIMIT_WINDOW_MS });\r\n    return false;\r\n  }\r\n  \r\n  record.count++;\r\n  if (record.count > RATE_LIMIT_MAX_ATTEMPTS) {\r\n    return true;\r\n  }\r\n  \r\n  return false;\r\n}\r\n\r\nfunction getClientIP(req: NextApiRequest): string {\r\n  const forwarded = headerToString(req.headers['x-forwarded-for']);\r\n  const realIP = headerToString(req.headers['x-real-ip']);\r\n  return forwarded?.split(',')[0]?.trim() || realIP || req.socket?.remoteAddress || 'unknown';\r\n}\r\n\r\n/**\r\n * Verifica se a requisi├º├úo ├® de um admin autenticado\r\n * \r\n * SECURITY: Requer UID v├ílido configurado via vari├ível de ambiente\r\n */\r\nexport function isAdminRequest(req: NextApiRequest): boolean {\r\n  // Se n├úo h├í admins configurados, bloquear tudo\r\n  if (ADMIN_UIDS.size === 0) {\r\n    console.warn('[SECURITY] Admin access attempted but no ADMIN_UID configured');\r\n    return false;\r\n  }\r\n\r\n  const uidHeader = headerToString(req.headers['x-admin-uid'] || req.headers['x-user-id']);\r\n  const uidQuery = headerToString(req.query?.admin_uid as string);\r\n  const candidate = uidHeader || uidQuery;\r\n  \r\n  // Validar UID\r\n  if (!candidate) {\r\n    return false;\r\n  }\r\n  \r\n  return isValidAdminUID(candidate);\r\n}\r\n\r\n/**\r\n * Middleware para exigir autentica├º├úo admin\r\n * Inclui rate limiting e logging de seguran├ºa\r\n */\r\nexport function requireAdmin(req: NextApiRequest, res: NextApiResponse): boolean {\r\n  const clientIP = getClientIP(req);\r\n  \r\n  // Rate limiting\r\n  if (isRateLimited(clientIP)) {\r\n    console.warn(`[SECURITY] Rate limit exceeded for IP: ${clientIP}`);\r\n    res.status(429).json({ error: 'Too many requests. Try again later.' });\r\n    return false;\r\n  }\r\n  \r\n  if (!isAdminRequest(req)) {\r\n    console.warn(`[SECURITY] Unauthorized admin access attempt from IP: ${clientIP}`);\r\n    res.status(401).json({ error: 'Unauthorized' });\r\n    return false;\r\n  }\r\n  \r\n  return true;\r\n}\r\n\r\n/**\r\n * Limpa registros antigos de rate limit (chamar periodicamente)\r\n */\r\nexport function cleanupRateLimitRecords(): void {\r\n  const now = Date.now();\r\n  for (const [ip, record] of rateLimitMap.entries()) {\r\n    if (now > record.resetAt) {\r\n      rateLimitMap.delete(ip);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Limpa todos os registros de rate limit (para testes)\r\n * @internal\r\n */\r\nexport function _resetRateLimitForTesting(): void {\r\n  rateLimitMap.clear();\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\agentMemory.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[41,44],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[41,44],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[152,155],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[152,155],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"interface AgentMemoryEntry {\r\n  action?: any;\r\n  outcome?: 'success' | 'failure';\r\n  reason?: string;\r\n  metrics?: Record<string, number>;\r\n  context?: any;\r\n  timestamp: number;\r\n}\r\n\r\ninterface AgentMemoryState {\r\n  history: AgentMemoryEntry[];\r\n  performance: Record<string, number>;\r\n  heuristics: Record<string, number>;\r\n  lastDecision?: AgentMemoryEntry;\r\n}\r\n\r\nconst MEMORY_LIMIT = 200;\r\nconst agentMemory: Record<string, AgentMemoryState> = {};\r\n\r\nfunction ensure(agentId: string): AgentMemoryState {\r\n  if (!agentMemory[agentId]) {\r\n    agentMemory[agentId] = {\r\n      history: [],\r\n      performance: {},\r\n      heuristics: {},\r\n    };\r\n  }\r\n  return agentMemory[agentId];\r\n}\r\n\r\nexport function recordAgentEvent(agentId: string, entry: AgentMemoryEntry) {\r\n  const state = ensure(agentId);\r\n  state.history.push(entry);\r\n  state.lastDecision = entry;\r\n  if (state.history.length > MEMORY_LIMIT) {state.history.shift();}\r\n}\r\n\r\nexport function updateHeuristic(agentId: string, key: string, value: number) {\r\n  const state = ensure(agentId);\r\n  state.heuristics[key] = value;\r\n}\r\n\r\nexport function getAgentMemory(agentId: string): AgentMemoryState {\r\n  return ensure(agentId);\r\n}\r\n\r\nexport function updatePerformance(agentId: string, metric: string, delta: number) {\r\n  const state = ensure(agentId);\r\n  state.performance[metric] = (state.performance[metric] || 0) + delta;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\agents.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'agent' is defined but never used. Allowed unused args must match /^_/u.","line":34,"column":31,"nodeType":null,"messageId":"unusedVar","endLine":34,"endColumn":36},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'capability' is defined but never used. Allowed unused args must match /^_/u.","line":43,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":43,"endColumn":50},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'agentId' is defined but never used. Allowed unused args must match /^_/u.","line":53,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":53,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Agent Registry\r\n *\r\n * Este m├│dulo gerencia o registro e descoberta de agentes internos da Azuria AI.\r\n *\r\n * Funcionalidades a serem implementadas:\r\n * - Registro de agentes dispon├¡veis (c├ílculo, fiscal, marketplace, licita├º├úo, UI)\r\n * - Metadados de cada agente (capacidades, endpoints, prioridade)\r\n * - Sistema de descoberta de agentes por capacidade\r\n * - Valida├º├úo de disponibilidade de agentes\r\n */\r\n\r\nexport interface Agent {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  capabilities: string[];\r\n  endpoint?: string;\r\n  priority: number;\r\n}\r\n\r\nexport interface AgentRegistry {\r\n  // L├│gica de registro ser├í implementada na pr├│xima fase\r\n  agents?: Agent[];\r\n}\r\n\r\n// Placeholder para registro de agentes\r\nexport const agentRegistry: Agent[] = [];\r\n\r\n/**\r\n * Registra um novo agente no sistema\r\n * @param agent - Configura├º├úo do agente\r\n */\r\nexport function registerAgent(agent: Agent): void {\r\n  // TODO: Implementar l├│gica de registro\r\n}\r\n\r\n/**\r\n * Busca agentes por capacidade\r\n * @param capability - Capacidade desejada\r\n * @returns Lista de agentes que possuem a capacidade\r\n */\r\nexport function findAgentsByCapability(capability: string): Agent[] {\r\n  // TODO: Implementar busca por capacidade\r\n  return [];\r\n}\r\n\r\n/**\r\n * Obt├®m um agente por ID\r\n * @param agentId - ID do agente\r\n * @returns Agente encontrado ou undefined\r\n */\r\nexport function getAgentById(agentId: string): Agent | undefined {\r\n  // TODO: Implementar busca por ID\r\n  return undefined;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\aiOrchestrator.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":91,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3313,3316],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3313,3316],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3710,3713],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3710,3713],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":157,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":157,"endColumn":17,"suggestions":[{"fix":{"range":[5122,5197],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'id' is defined but never used. Allowed unused args must match /^_/u.","line":233,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":233,"endColumn":29},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":240,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":240,"endColumn":14,"suggestions":[{"fix":{"range":[7915,7965],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":260,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":260,"endColumn":14,"suggestions":[{"fix":{"range":[8406,8458],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":398,"column":93,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":398,"endColumn":96,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13330,13333],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13330,13333],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":406,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":406,"endColumn":18,"suggestions":[{"fix":{"range":[13608,13674],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":447,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":447,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14800,14803],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14800,14803],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":449,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":449,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14830,14833],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14830,14833],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":769,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":769,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[24637,24640],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[24637,24640],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":892,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":892,"endColumn":14,"suggestions":[{"fix":{"range":[29419,29610],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":907,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":907,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[29912,29915],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[29912,29915],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":922,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":922,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[30517,30520],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[30517,30520],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":941,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":941,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[31172,31175],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[31172,31175],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'intention' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":955,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":955,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'agents' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":958,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":958,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":961,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":961,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[31729,31732],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[31729,31732],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'message' is defined but never used. Allowed unused args must match /^_/u.","line":983,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":983,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'context' is defined but never used. Allowed unused args must match /^_/u.","line":984,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":984,"endColumn":10},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":984,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":984,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32290,32293],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32290,32293],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'intentType' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":987,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":987,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'confidence' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":990,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":990,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1002,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1002,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32732,32735],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32732,32735],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1007,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1007,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[32913,32916],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[32913,32916],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":146,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":146,"endColumn":17,"suggestions":[{"fix":{"range":[4857,4962],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":214,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":214,"endColumn":14,"suggestions":[{"fix":{"range":[7218,7275],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":783,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":783,"endColumn":16,"suggestions":[{"fix":{"range":[25027,25073],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":929,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":929,"endColumn":16,"suggestions":[{"fix":{"range":[30760,30816],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":964,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":964,"endColumn":16,"suggestions":[{"fix":{"range":[31788,31829],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":968,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":968,"endColumn":16,"suggestions":[{"fix":{"range":[31909,31950],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":25,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * AI Orchestrator - \"Modo Deus\"\r\n *\r\n * Roteador central que coordena toda a intelig├¬ncia artificial da Azuria.\r\n * Processa eventos reativos e decide quando gerar insights autom├íticos.\r\n */\r\n\r\nimport type { Agent } from './agents';\r\nimport { type AzuriaEvent, emitEvent, on } from './eventBus';\r\nimport type { CalcData } from '../hooks/useCalcWatcher';\r\nimport { detectIntent, predictNextStep } from '../engines/userIntentEngine';\r\nimport { generatePredictiveInsight } from '../engines/predictiveInsightEngine';\r\nimport { dispatchAction } from '../engines/autonomousActionsEngine';\r\nimport {\r\n  detectAnomalies,\r\n  detectPatterns,\r\n  generateForecast,\r\n  updateMemory as updateCognitiveMemory,\r\n} from '../engines/cognitiveEngine';\r\nimport {\r\n  adaptInterface,\r\n  inferEmotion,\r\n  inferIntent as inferSocialIntent,\r\n  updateUserModel,\r\n} from '../engines/socialEngine';\r\nimport { adjustPlan, executePlan, generatePlan, setGoal } from '../engines/metaPlannerEngine';\r\nimport { updateState } from '../engines/operationalStateEngine';\r\nimport { analyzeAndAdjust, runEvolutionCycle } from '../engines/continuousImprovementEngine';\r\nimport { runConsistencyCheck } from '../engines/consistencyEngine';\r\nimport {\r\n  computeTrends,\r\n  detectTemporalAnomaly,\r\n  predictFutureState,\r\n  recordTemporalEvent,\r\n} from '../engines/temporalEngine';\r\nimport { processSocialPresence } from '../engines/socialPresenceEngine';\r\nimport { proposeAdaptiveUX } from '../engines/adaptiveUXEngine';\r\nimport { analyzeRevenueOpportunity } from '../engines/revenueIntelligenceEngine';\r\nimport { runPaywallExperiment } from '../engines/smartPaywallEngine';\r\nimport { rewriteWithBrandVoice } from '../engines/brandVoiceEngine';\r\nimport {\r\n  getEmotionState,\r\n  inferUserEmotion,\r\n  respondWithConfidenceBoost,\r\n  respondWithEmpathy,\r\n  respondWithEncouragement,\r\n  respondWithReassurance,\r\n  respondWithSimplification,\r\n} from '../engines/affectiveEngine';\r\nimport { analyzeBehavior } from '../engines/behaviorEngine';\r\nimport {\r\n  blockIfOutsideScope,\r\n  correctIfUnsafe,\r\n  downgradeSeverityIfNeeded,\r\n  validateInsight,\r\n} from '../engines/cognitiveGovernanceEngine';\r\nimport { recordDecision, recordInsightHistory } from '../engines/decisionAuditEngine';\r\nimport { enforceEthics } from '../engines/ethicalGuardEngine';\r\nimport { applySafetyBreak, checkCriticalBoundaries, detectRunawayBehavior } from '../engines/safetyLimitsEngine';\r\nimport { updateCognitiveMap } from '../engines/integratedCoreEngine';\r\nimport {\r\n  emitTruthAlert,\r\n  ensureTruthAfterAction,\r\n  ensureTruthBeforeAction,\r\n} from '../engines/truthEngine';\r\nimport {\r\n  predictFailure as predictStabilityFailure,\r\n} from '../engines/stabilityEngine';\r\nimport { processMetaLayers } from '../engines/metaLayerEngine';\r\nimport { CreatorEngine } from '../engines/creatorEngine';\r\nimport { initCreatorListener } from '../../server/creatorListener';\r\nimport {\r\n  handleBidEvent,\r\n  handleDiscountEvent,\r\n  handleFeesEvent,\r\n  handleICMSEvent,\r\n  handleRiskEvent,\r\n  handleScenarioEvent,\r\n  handleSTEvent,\r\n  handleTaxEvent,\r\n} from './calculatorHandlers';\r\nimport {\r\n  handleScreenChangedEvent,\r\n  handleScreenDataUpdatedEvent,\r\n} from './screenContextHandlers';\r\n\r\nexport interface OrchestratorRequest {\r\n  id: string;\r\n  userId: string;\r\n  message: string;\r\n  context?: any;\r\n  timestamp: number;\r\n}\r\n\r\nexport interface OrchestratorResponse {\r\n  requestId: string;\r\n  response: string;\r\n  agentsUsed: string[];\r\n  functionsCalled?: string[];\r\n  confidence: number;\r\n  timestamp: number;\r\n}\r\n\r\nexport interface ConversationContext {\r\n  userId: string;\r\n  history: Array<{\r\n    request: OrchestratorRequest;\r\n    response: OrchestratorResponse;\r\n  }>;\r\n  currentState: any;\r\n}\r\n\r\nexport interface InsightConfig {\r\n  minMargin?: number; // Margem m├¡nima para alertar\r\n  maxMargin?: number; // Margem m├íxima para sugerir otimiza├º├úo\r\n  minPrice?: number; // Pre├ºo m├¡nimo aceit├ível\r\n  enableAutoInsights?: boolean; // Se deve gerar insights automaticamente\r\n}\r\n\r\n// Contextos de conversa├º├úo por usu├írio\r\nconst conversationContexts: Map<string, ConversationContext> = new Map();\r\n\r\n// Configura├º├úo de insights\r\nlet insightConfig: InsightConfig = {\r\n  minMargin: 10, // 10% margem m├¡nima\r\n  maxMargin: 50, // 50% margem m├íxima\r\n  minPrice: 0,\r\n  enableAutoInsights: true,\r\n};\r\nconst creator = new CreatorEngine();\r\n\r\n// Timer de loop temporal (permite cleanup)\r\nlet temporalLoopTimer: ReturnType<typeof setInterval> | null = null;\r\nlet isOrchestratorInitialized = false;\r\n\r\n// IDs das subscriptions para cleanup\r\nconst subscriptionIds: string[] = [];\r\n\r\n/**\r\n * Inicializa o orchestrator e registra listeners de eventos\r\n */\r\nexport function initializeOrchestrator(config?: InsightConfig): void {\r\n  // Prevenir m├║ltiplas inicializa├º├Áes\r\n  if (isOrchestratorInitialized) {\r\n    // eslint-disable-next-line no-console\r\n    console.warn('[aiOrchestrator] Already initialized. Call shutdownOrchestrator() first to reinitialize.');\r\n    return;\r\n  }\r\n\r\n  if (config) {\r\n    insightConfig = { ...insightConfig, ...config };\r\n  }\r\n\r\n  try {\r\n    initCreatorListener();\r\n  } catch (err) {\r\n    console.warn('Creator listener init failed (ignored in client env):', err);\r\n  }\r\n\r\n  // Registrar listener para eventos de c├ílculo b├ísico\r\n  subscriptionIds.push(\r\n    on('calc:completed', handleCalculationEvent),\r\n    on('calc:updated', handleCalculationUpdateEvent),\r\n    on('calc:started', handleCalculationStartEvent),\r\n\r\n    // Registrar listeners para calculadora avan├ºada\r\n    on('scenario:updated', handleScenarioEvent),\r\n    on('fees:updated', handleFeesEvent),\r\n\r\n    // Registrar listeners para calculadora tribut├íria\r\n    on('tax:updated', handleTaxEvent),\r\n    on('icms:updated', handleICMSEvent),\r\n    on('st:updated', handleSTEvent),\r\n\r\n    // Registrar listeners para calculadora de licita├º├Áes\r\n    on('bid:updated', handleBidEvent),\r\n    on('risk:updated', handleRiskEvent),\r\n    on('discount:updated', handleDiscountEvent),\r\n\r\n    // Registrar listeners para contexto de tela\r\n    on('screen:changed', handleScreenChangedEvent),\r\n    on('screen:dataUpdated', handleScreenDataUpdatedEvent),\r\n\r\n    // Eventos da intelig├¬ncia expandida\r\n    on('ai:predictive-insight', handlePredictiveInsightEvent),\r\n    on('ai:detected-risk', handleIntentSignalEvent),\r\n    on('ai:detected-opportunity', handleIntentSignalEvent),\r\n    on('ai:mind-snapshot', handleMindSnapshot),\r\n    on('ai:reality-updated', handleRealityEvent),\r\n    on('ai:truth-alert', handleTruthAlert),\r\n    on('ai:stability-alert', handleStabilityAlert),\r\n    on('system:tick', () => creator.runSystemScan())\r\n  );\r\n\r\n  // Meta-planner: iniciar objetivo default\r\n  const defaultGoal = {\r\n    id: 'meta-improve-precision',\r\n    objective: 'melhorar precis├úo e reduzir falsos positivos',\r\n    targetMetric: 'false_positive_rate',\r\n    targetValue: 0.1,\r\n  };\r\n  setGoal(defaultGoal);\r\n  generatePlan(defaultGoal);\r\n  executePlan();\r\n\r\n  // Loop temporal (polling leve) - com refer├¬ncia para cleanup\r\n  temporalLoopTimer = setInterval(() => {\r\n    runTemporalAnalysis('global', { heartbeat: true });\r\n    runEvolutionCycle();\r\n  }, 30000);\r\n\r\n  isOrchestratorInitialized = true;\r\n  // eslint-disable-next-line no-console\r\n  console.log('[aiOrchestrator] Initialized successfully');\r\n}\r\n\r\n/**\r\n * Desliga o orchestrator e limpa recursos\r\n * Deve ser chamado antes de reinicializar ou ao desmontar o app\r\n */\r\nexport function shutdownOrchestrator(): void {\r\n  if (!isOrchestratorInitialized) {\r\n    return;\r\n  }\r\n\r\n  // Limpar timer do loop temporal\r\n  if (temporalLoopTimer) {\r\n    clearInterval(temporalLoopTimer);\r\n    temporalLoopTimer = null;\r\n  }\r\n\r\n  // Remover todas as subscriptions de eventos\r\n  subscriptionIds.forEach(id => {\r\n    // Unsubscribe each event listener\r\n    // Note: EventBus should provide unsubscribe functionality\r\n  });\r\n  subscriptionIds.length = 0;\r\n\r\n  isOrchestratorInitialized = false;\r\n  console.log('[aiOrchestrator] Shutdown complete');\r\n}\r\n\r\n/**\r\n * Verifica se o orchestrator est├í inicializado\r\n */\r\nexport function isOrchestratorRunning(): boolean {\r\n  return isOrchestratorInitialized;\r\n}\r\n\r\n/**\r\n * Processa evento de in├¡cio de c├ílculo\r\n */\r\nasync function handleCalculationStartEvent(event: AzuriaEvent): Promise<void> {\r\n  // Preparar contexto para an├ílise\r\n  const context = {\r\n    timestamp: Date.now(),\r\n    eventType: event.tipo,\r\n    source: event.source,\r\n  };\r\n  console.log('Calculation started:', event, context);\r\n}\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de c├ílculo (inputs mudaram)\r\n */\r\nasync function handleCalculationUpdateEvent(event: AzuriaEvent): Promise<void> {\r\n  const calcData = event.payload as CalcData;\r\n\r\n  // Analisar se deve dar feedback em tempo real\r\n  // Exemplo: verificar margem enquanto usu├írio digita\r\n  const shouldProvideFeedback = calcData.margemLucro !== undefined;\r\n\r\n  if (\r\n    shouldProvideFeedback &&\r\n    calcData.margemLucro < (insightConfig.minMargin || 10)\r\n  ) {\r\n    // Gerar insight de alerta\r\n    generateInsight({\r\n      type: 'warning',\r\n      message: `Margem de lucro muito baixa (${calcData.margemLucro}%). Recomendamos pelo menos ${insightConfig.minMargin}%.`,\r\n      data: calcData,\r\n      action: 'adjust_margin',\r\n    });\r\n  }\r\n\r\n  handleIntentAndPrediction(event, calcData);\r\n  updateCognitiveMemory('calc', calcData, event.source);\r\n  detectPatterns();\r\n  detectAnomalies();\r\n  updateUserModel({ tipo: event.tipo, metadata: event.metadata, context: event.payload });\r\n  updateState({ load: Math.min(1, Math.random() * 0.6 + 0.2) });\r\n  runConsistencyCheck();\r\n  analyzeAndAdjust();\r\n  runTemporalAnalysis('calculation', event.payload);\r\n  processSocialPresence(event);\r\n  proposeAdaptiveUX({ intent: 'pricing', frequentPaths: ['calculadora', 'dashboard'] });\r\n  analyzeRevenueOpportunity({ sessions: 5, clicks: 50, errors: 1, timeSpent: 600, paywallViews: 2, plan: 'free' });\r\n  runPaywallExperiment('free', Math.floor(Math.random() * 3));\r\n}\r\n\r\n/**\r\n * Processa evento de c├ílculo completado\r\n * Decide se deve gerar insight autom├ítico\r\n */\r\nasync function handleCalculationEvent(event: AzuriaEvent): Promise<void> {\r\n  if (!insightConfig.enableAutoInsights) {\r\n    return;\r\n  }\r\n\r\n  analyzeBehavior({\r\n    eventLog: event.payload?.events,\r\n    flowData: event.payload?.flow,\r\n    userState: event.payload?.userState,\r\n    userHistory: event.payload?.history,\r\n  });\r\n\r\n  const calcData = event.payload as CalcData;\r\n\r\n  handleIntentAndPrediction(event, calcData);\r\n  updateCognitiveMemory('calc', calcData, event.source);\r\n  detectPatterns();\r\n  detectAnomalies();\r\n  updateUserModel({ tipo: event.tipo, metadata: event.metadata, context: event.payload });\r\n  updateState({ load: Math.min(1, Math.random() * 0.6 + 0.2) });\r\n  runConsistencyCheck();\r\n  analyzeAndAdjust();\r\n  runTemporalAnalysis('calculation', event.payload);\r\n  processSocialPresence(event);\r\n  proposeAdaptiveUX({ intent: 'pricing', frequentPaths: ['calculadora', 'dashboard'] });\r\n  analyzeRevenueOpportunity({ sessions: 8, clicks: 80, errors: 0, timeSpent: 800, paywallViews: 3, plan: 'free' });\r\n  runPaywallExperiment('free', Math.floor(Math.random() * 3));\r\n\r\n  // Avaliar o c├ílculo e decidir se deve gerar insight\r\n  const shouldGenerateInsight = await evaluateCalculation(calcData);\r\n\r\n  if (shouldGenerateInsight.generate) {\r\n    generateInsight(shouldGenerateInsight.insight);\r\n  }\r\n}\r\n\r\nfunction handleIntentAndPrediction(event: AzuriaEvent, calcData: CalcData) {\r\n  const intent = detectIntent(event, calcData);\r\n  const prediction = generatePredictiveInsight({ ...calcData, event });\r\n  const socialIntent = inferSocialIntent({ tipo: event.tipo, context: event.payload });\r\n  const emotion = inferEmotion({ tipo: event.tipo, metadata: event.metadata });\r\n  analyzeBehavior({\r\n    eventLog: [event.payload],\r\n    flowData: event.payload?.flow,\r\n    userState: event.payload?.userState,\r\n    userHistory: event.payload?.history,\r\n  });\r\n\r\n  if (prediction) {\r\n    emitEvent(\r\n      'ui:displayInsight',\r\n      { insightId: prediction.id, type: 'forecast' },\r\n      { source: 'aiOrchestrator', priority: 6 }\r\n    );\r\n    updateCognitiveMemory('prediction', prediction, 'predictiveInsightEngine');\r\n  }\r\n\r\n  if (intent.intentConfidence >= 0.4) {\r\n    const nextStep = predictNextStep(calcData);\r\n    updateCognitiveMemory('intent', intent, 'userIntentEngine');\r\n    emitEvent(\r\n      'ai:recommended-action',\r\n      {\r\n        intentCategory: intent.category,\r\n        intentConfidence: intent.intentConfidence,\r\n        nextStep: nextStep.nextStep,\r\n        context: calcData,\r\n        socialIntent,\r\n        emotion,\r\n      },\r\n      { source: 'aiOrchestrator', priority: 5 }\r\n    );\r\n\r\n    // Disparar a├º├Áes aut├┤nomas seguras (apenas sugest├úo)\r\n    dispatchAction(emitEvent, calcData);\r\n  }\r\n\r\n  // Gerar previs├Áes cognitivas adicionais\r\n  generateForecast();\r\n\r\n  // Adaptar interface conforme modelo social\r\n  const adaptation = adaptInterface();\r\n  emitEvent(\r\n    'ui:adaptive-interface-changed',\r\n    { adaptation },\r\n    { source: 'aiOrchestrator', priority: 4 }\r\n  );\r\n\r\n  // Meta-planner feedback loop baseado em confian├ºa global\r\n  const feedbackScore = Math.max(0, Math.min(1, intent.intentConfidence || 0.5));\r\n  adjustPlan(feedbackScore);\r\n}\r\n\r\nfunction runTemporalAnalysis(scope: 'user' | 'calculation' | 'session' | 'global', payload: any) {\r\n  recordTemporalEvent(scope, 'event', payload);\r\n  const trend = computeTrends(scope);\r\n  const prediction = predictFutureState(scope);\r\n  const anomaly = detectTemporalAnomaly(scope);\r\n\r\n  // Log trends and predictions for monitoring\r\n  if (trend || prediction) {\r\n    console.debug('Temporal analysis:', { scope, trend, prediction });\r\n  }\r\n\r\n  if (anomaly) {\r\n    emitEvent(\r\n      'insight:generated',\r\n      {\r\n        type: 'warning',\r\n        severity: 'critical',\r\n        message: 'Padr├úo quebrado detectado ÔÇö risco de inconsist├¬ncia futura.',\r\n        sourceModule: 'temporalEngine',\r\n      },\r\n      { source: 'aiOrchestrator', priority: 9 }\r\n    );\r\n  }\r\n}\r\n\r\nfunction handlePredictiveInsightEvent(event: AzuriaEvent) {\r\n  // Bridge para UI j├í ocorre via emit no engine; aqui apenas garante prioridade\r\n  emitEvent(\r\n    'ui:displayInsight',\r\n    { insightId: event.payload?.id, type: 'forecast' },\r\n    { source: 'aiOrchestrator', priority: 7 }\r\n  );\r\n}\r\n\r\nfunction handleIntentSignalEvent(event: AzuriaEvent) {\r\n  // Apenas registrar/intensificar prioridade se necess├írio\r\n  emitEvent(\r\n    'ui:displayInsight',\r\n    { insightId: event.payload?.id, alert: event.payload?.alert },\r\n    { source: 'aiOrchestrator', priority: 4 }\r\n  );\r\n}\r\n\r\n/**\r\n * Avalia um c├ílculo e decide se deve gerar insight\r\n * Implementa l├│gica inteligente de an├ílise\r\n */\r\nasync function evaluateCalculation(calcData: CalcData): Promise<{\r\n  generate: boolean;\r\n  insight?: any;\r\n}> {\r\n  const insights: any[] = [];\r\n\r\n  // ===== AN├üLISE DE MARGEM DE LUCRO =====\r\n  if (calcData.margemLucro !== undefined) {\r\n    // Margem cr├¡tica (< 10%)\r\n    if (calcData.margemLucro < (insightConfig.minMargin || 10)) {\r\n      const precoSugerido = calcData.custoProduto\r\n        ? calcData.custoProduto * (1 + (insightConfig.minMargin || 10) / 100)\r\n        : null;\r\n\r\n      insights.push({\r\n        type: 'warning',\r\n        severity: 'high',\r\n        message: `ÔÜá´©Å Margem de ${calcData.margemLucro.toFixed(\r\n          1\r\n        )}% est├í muito baixa! Recomendamos pelo menos ${\r\n          insightConfig.minMargin\r\n        }% para cobrir custos operacionais.`,\r\n        data: calcData,\r\n        action: 'increase_margin',\r\n        priority: 'high',\r\n        recommendations: [\r\n          {\r\n            label: 'Aumentar pre├ºo',\r\n            value: precoSugerido,\r\n            description: `Sugerimos R$ ${precoSugerido?.toFixed(\r\n              2\r\n            )} para margem de ${insightConfig.minMargin}%`,\r\n          },\r\n          {\r\n            label: 'Reduzir custos',\r\n            description: 'Busque fornecedores mais competitivos',\r\n          },\r\n        ],\r\n      });\r\n    }\r\n    // Margem baixa (10-15%)\r\n    else if (calcData.margemLucro >= 10 && calcData.margemLucro < 15) {\r\n      insights.push({\r\n        type: 'info',\r\n        severity: 'medium',\r\n        message: `­ƒÆí Margem de ${calcData.margemLucro.toFixed(\r\n          1\r\n        )}% est├í no limite. Considere otimizar para aumentar rentabilidade.`,\r\n        data: calcData,\r\n        action: 'optimize_margin',\r\n        priority: 'medium',\r\n        recommendations: [\r\n          {\r\n            label: 'Otimizar pre├ºo',\r\n            description:\r\n              'Pequeno ajuste pode aumentar lucro significativamente',\r\n          },\r\n        ],\r\n      });\r\n    }\r\n    // Margem boa (15-20%)\r\n    else if (calcData.margemLucro >= 15 && calcData.margemLucro <= 20) {\r\n      insights.push({\r\n        type: 'success',\r\n        severity: 'low',\r\n        message: `Ô£à Margem de ${calcData.margemLucro.toFixed(\r\n          1\r\n        )}% est├í saud├ível! Pre├ºo competitivo e lucrativo.`,\r\n        data: calcData,\r\n        action: 'maintain',\r\n        priority: 'low',\r\n      });\r\n    }\r\n    // Margem muito alta (> 50%)\r\n    else if (calcData.margemLucro > (insightConfig.maxMargin || 50)) {\r\n      insights.push({\r\n        type: 'suggestion',\r\n        severity: 'medium',\r\n        message: `­ƒÆ░ Margem de ${calcData.margemLucro.toFixed(\r\n          1\r\n        )}% est├í muito alta. Voc├¬ pode ser mais competitivo e vender mais.`,\r\n        data: calcData,\r\n        action: 'optimize_competitiveness',\r\n        priority: 'medium',\r\n        recommendations: [\r\n          {\r\n            label: 'Reduzir pre├ºo estrategicamente',\r\n            description: 'Aumente volume de vendas mantendo boa margem',\r\n          },\r\n        ],\r\n      });\r\n    }\r\n  }\r\n\r\n  // ===== AN├üLISE DE CUSTO VS PRE├çO =====\r\n  if (\r\n    calcData.precoVenda !== undefined &&\r\n    calcData.custoProduto !== undefined\r\n  ) {\r\n    // Custo maior ou igual ao pre├ºo (CR├ìTICO!)\r\n    if (calcData.custoProduto >= calcData.precoVenda) {\r\n      insights.push({\r\n        type: 'warning',\r\n        severity: 'critical',\r\n        message: `­ƒÜ¿ ALERTA CR├ìTICO! Custo (R$ ${calcData.custoProduto.toFixed(\r\n          2\r\n        )}) ├® maior que o pre├ºo de venda (R$ ${calcData.precoVenda.toFixed(\r\n          2\r\n        )}). Voc├¬ ter├í PREJU├ìZO!`,\r\n        data: calcData,\r\n        action: 'fix_pricing',\r\n        priority: 'critical',\r\n        recommendations: [\r\n          {\r\n            label: 'Aumentar pre├ºo imediatamente',\r\n            value: calcData.custoProduto * 1.15,\r\n            description: `Pre├ºo m├¡nimo: R$ ${(\r\n              calcData.custoProduto * 1.15\r\n            ).toFixed(2)}`,\r\n          },\r\n          {\r\n            label: 'Renegociar com fornecedor',\r\n            description: 'Busque reduzir o custo do produto',\r\n          },\r\n        ],\r\n      });\r\n    }\r\n    // Markup muito baixo (< 20%)\r\n    else {\r\n      const markup =\r\n        ((calcData.precoVenda - calcData.custoProduto) /\r\n          calcData.custoProduto) *\r\n        100;\r\n\r\n      if (markup < 20) {\r\n        insights.push({\r\n          type: 'warning',\r\n          severity: 'high',\r\n          message: `ÔÜá´©Å Markup de apenas ${markup.toFixed(\r\n            1\r\n          )}% pode n├úo cobrir custos operacionais, impostos e despesas.`,\r\n          data: calcData,\r\n          action: 'review_costs',\r\n          priority: 'high',\r\n          recommendations: [\r\n            {\r\n              label: 'Revisar todos os custos',\r\n              description: 'Considere frete, impostos, comiss├Áes e operacional',\r\n            },\r\n            {\r\n              label: 'Aumentar markup',\r\n              description: 'Recomendamos pelo menos 30% de markup',\r\n            },\r\n          ],\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // ===== AN├üLISE DE FRETE =====\r\n  if (\r\n    calcData.precoVenda &&\r\n    calcData.custoProduto &&\r\n    calcData.custoOperacional\r\n  ) {\r\n    const lucroBase = calcData.precoVenda - calcData.custoProduto;\r\n    const percentualFrete = (calcData.custoOperacional / lucroBase) * 100;\r\n\r\n    if (percentualFrete > 35) {\r\n      insights.push({\r\n        type: 'warning',\r\n        severity: 'medium',\r\n        message: `­ƒôª Frete/custos operacionais (${percentualFrete.toFixed(\r\n          1\r\n        )}%) est├úo consumindo muito do seu lucro!`,\r\n        data: calcData,\r\n        action: 'optimize_shipping',\r\n        priority: 'medium',\r\n        recommendations: [\r\n          {\r\n            label: 'Negociar frete',\r\n            description: 'Busque transportadoras mais econ├┤micas',\r\n          },\r\n          {\r\n            label: 'Repassar custo',\r\n            description: 'Considere cobrar frete separadamente',\r\n          },\r\n        ],\r\n      });\r\n    }\r\n  }\r\n\r\n  // ===== AN├üLISE DE TAXAS DE MARKETPLACE =====\r\n  if (\r\n    calcData.taxasMarketplace !== undefined &&\r\n    calcData.taxasMarketplace > 0\r\n  ) {\r\n    const lucroBase =\r\n      calcData.precoVenda && calcData.custoProduto\r\n        ? calcData.precoVenda - calcData.custoProduto\r\n        : 0;\r\n\r\n    if (lucroBase > 0) {\r\n      const impactoTaxas =\r\n        (calcData.taxasMarketplace / 100) * (calcData.precoVenda || 0);\r\n      const percentualImpacto = (impactoTaxas / lucroBase) * 100;\r\n\r\n      // Taxas muito altas (> 20%)\r\n      if (calcData.taxasMarketplace > 20) {\r\n        insights.push({\r\n          type: 'info',\r\n          severity: 'medium',\r\n          message: `­ƒÅ¬ Taxas de marketplace (${calcData.taxasMarketplace}%) s├úo significativas. Considere outros canais de venda.`,\r\n          data: calcData,\r\n          action: 'compare_marketplaces',\r\n          priority: 'medium',\r\n          recommendations: [\r\n            {\r\n              label: 'Comparar marketplaces',\r\n              description: 'Veja se outros canais t├¬m taxas menores',\r\n            },\r\n            {\r\n              label: 'Venda direta',\r\n              description: 'Considere loja pr├│pria para maior margem',\r\n            },\r\n          ],\r\n        });\r\n      }\r\n\r\n      // Taxas consumindo muito do lucro (> 40%)\r\n      if (percentualImpacto > 40) {\r\n        insights.push({\r\n          type: 'warning',\r\n          severity: 'high',\r\n          message: `­ƒÆ© Taxas do marketplace est├úo consumindo ${percentualImpacto.toFixed(\r\n            1\r\n          )}% do seu lucro!`,\r\n          data: calcData,\r\n          action: 'review_marketplace_strategy',\r\n          priority: 'high',\r\n          recommendations: [\r\n            {\r\n              label: 'Ajustar pre├ºo',\r\n              description: 'Aumente o pre├ºo para compensar as taxas',\r\n            },\r\n            {\r\n              label: 'Mudar de canal',\r\n              description: 'Avalie canais com taxas menores',\r\n            },\r\n          ],\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // ===== AN├üLISE DE IMPOSTOS =====\r\n  if (calcData.impostos !== undefined && calcData.impostos > 0) {\r\n    const impactoImpostos = calcData.precoVenda\r\n      ? (calcData.impostos / 100) * calcData.precoVenda\r\n      : 0;\r\n\r\n    if (calcData.impostos > 30 && impactoImpostos > 0) {\r\n      insights.push({\r\n        type: 'info',\r\n        message: `­ƒôè Carga tribut├íria de ${calcData.impostos}% ├® alta. Certifique-se de que est├í inclu├¡da no pre├ºo.`,\r\n        severity: 'low',\r\n        data: calcData,\r\n        action: 'review_taxes',\r\n        priority: 'low',\r\n        recommendations: [\r\n          {\r\n            label: 'Consultar contador',\r\n            description: 'Verifique se h├í regime tribut├írio mais vantajoso',\r\n          },\r\n        ],\r\n      });\r\n    }\r\n  }\r\n\r\n  // ===== INSIGHTS POSITIVOS =====\r\n  // Se margem est├í boa e n├úo h├í problemas cr├¡ticos\r\n  if (\r\n    calcData.margemLucro &&\r\n    calcData.margemLucro >= 20 &&\r\n    calcData.margemLucro <= 35\r\n  ) {\r\n    const problemasGraves = insights.filter(\r\n      i => i.severity === 'critical' || i.severity === 'high'\r\n    );\r\n\r\n    if (problemasGraves.length === 0) {\r\n      insights.push({\r\n        type: 'success',\r\n        severity: 'low',\r\n        message: `­ƒÄ» Excelente! Margem de ${calcData.margemLucro.toFixed(\r\n          1\r\n        )}% est├í ideal. Pre├ºo competitivo e lucrativo.`,\r\n        data: calcData,\r\n        action: 'celebrate',\r\n        priority: 'low',\r\n      });\r\n    }\r\n  }\r\n\r\n  // Retornar o insight de maior prioridade\r\n  if (insights.length > 0) {\r\n    const priorityOrder = { critical: 4, high: 3, medium: 2, low: 1 };\r\n    insights.sort(\r\n      (a, b) => priorityOrder[b.severity] - priorityOrder[a.severity]\r\n    );\r\n\r\n    return {\r\n      generate: true,\r\n      insight: insights[0],\r\n    };\r\n  }\r\n\r\n  return { generate: false };\r\n}\r\n\r\n/**\r\n * Gera um insight e emite evento para exibi├º├úo\r\n * Inclui recomenda├º├Áes e a├º├Áes sugeridas\r\n */\r\nfunction generateInsight(insight: any): void {\r\n  const metaSnapshot = processMetaLayers({\r\n    signals: insight?.signals,\r\n    metrics: insight?.metrics,\r\n    context: insight?.context,\r\n    goals: insight?.goals,\r\n    risks: insight?.risks,\r\n    scenarios: insight?.scenarios,\r\n    intent: insight?.intent,\r\n    target: 'insight',\r\n  });\r\n  \r\n  // Use metaSnapshot for logging\r\n  // eslint-disable-next-line no-console\r\n  console.debug('Meta snapshot:', metaSnapshot);\r\n  \r\n  // Preparar dados completos do insight\r\n  const tone = insight.brandTone || 'padrao';\r\n  const refinedMessage = rewriteWithBrandVoice(insight.message, tone);\r\n  inferUserEmotion(insight.userState || insight.data?.userState, { payload: insight });\r\n  const preStability = predictStabilityFailure({ load: insight?.state?.load, contradictions: insight?.contradictions, loopsDetected: insight?.loops });\r\n  if (preStability.risk >= 0.8) {\r\n    emitEvent('ai:stability-alert', { severity: 'critical', riskLevel: preStability.risk, details: { stage: 'pre-insight' } }, { source: 'aiOrchestrator', priority: 10 });\r\n    return;\r\n  }\r\n  if (!ensureTruthBeforeAction({ context: insight, state: insight.data })) {\r\n    emitTruthAlert('critical', { reason: 'pre-check-failed', insight });\r\n    return;\r\n  }\r\n  const emotionState = getEmotionState();\r\n  // Governance validation\r\n  const scopeCheck = blockIfOutsideScope(insight);\r\n  if (scopeCheck.blocked === true || scopeCheck.valid === false) {\r\n    emitEvent('ai:unsafe-output-blocked', { insight, reason: scopeCheck.reason }, { source: 'aiOrchestrator', priority: 10 });\r\n    recordDecision({ insight, status: 'blocked', reason: scopeCheck.reason });\r\n    return;\r\n  }\r\n  const ethics = enforceEthics(insight);\r\n  if (ethics.blocked) {\r\n    return;\r\n  }\r\n  checkCriticalBoundaries({ load: insight?.state?.load, actionsPerMinute: insight?.state?.actionsPerMinute });\r\n  if (detectRunawayBehavior(insight?.actions || [])) {\r\n    applySafetyBreak({ reason: 'runaway_behavior', state: insight?.state });\r\n    return;\r\n  }\r\n  const postStability = predictStabilityFailure({ load: insight?.state?.load, contradictions: insight?.contradictions, loopsDetected: insight?.loops });\r\n  if (postStability.risk >= 0.8) {\r\n    emitEvent('ai:stability-alert', { severity: 'critical', riskLevel: postStability.risk, details: { stage: 'post-insight' } }, { source: 'aiOrchestrator', priority: 10 });\r\n    return;\r\n  }\r\n  const validated = validateInsight(insight);\r\n  let safeMessage = refinedMessage;\r\n  if (!validated.valid) {\r\n    safeMessage = correctIfUnsafe(refinedMessage);\r\n  }\r\n  const postTruthOk = ensureTruthAfterAction({ reality: insight?.reality, perceived: insight?.data });\r\n  if (!postTruthOk) {\r\n    emitTruthAlert('warning', { reason: 'post-check-failed', insight });\r\n  }\r\n  const downgraded = downgradeSeverityIfNeeded(insight);\r\n  if (validated.corrected) {\r\n    emitEvent('ai:decision-corrected', { insight }, { source: 'aiOrchestrator', priority: 7 });\r\n  }\r\n  if (insight?.eventLog || insight?.flowData || insight?.userHistory) {\r\n    analyzeBehavior({\r\n      eventLog: insight.eventLog,\r\n      flowData: insight.flowData,\r\n      userState: insight.userState,\r\n      userHistory: insight.userHistory,\r\n    });\r\n  }\r\n  let affectiveMessage: string | undefined;\r\n  switch (emotionState.type) {\r\n    case 'frustration':\r\n      affectiveMessage = respondWithSimplification({ persona: insight.persona });\r\n      break;\r\n    case 'hesitation':\r\n      affectiveMessage = respondWithEncouragement({ persona: insight.persona });\r\n      break;\r\n    case 'confidence':\r\n      affectiveMessage = respondWithConfidenceBoost({ persona: insight.persona });\r\n      break;\r\n    case 'confusion':\r\n      affectiveMessage = respondWithReassurance({ persona: insight.persona });\r\n      break;\r\n    case 'achievement':\r\n      affectiveMessage = respondWithEmpathy({ persona: insight.persona });\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  const insightData = {\r\n    type: insight.type,\r\n    severity: downgraded.severity || insight.severity || 'medium',\r\n    message: safeMessage,\r\n    refinedMessage: safeMessage,\r\n    brandTone: tone,\r\n    persona: insight.persona,\r\n    emotion: emotionState.type,\r\n    emotionConfidence: emotionState.confidence,\r\n    affectiveMessage,\r\n    action: insight.action,\r\n    priority: insight.priority || 'medium',\r\n    recommendations: insight.recommendations || [],\r\n    data: insight.data,\r\n    timestamp: Date.now(),\r\n  };\r\n\r\n  recordInsightHistory(insightData);\r\n\r\n  // Emitir evento de insight gerado para toasts\r\n  emitEvent('insight:generated', insightData, {\r\n    source: 'aiOrchestrator',\r\n    priority: 10,\r\n    metadata: {\r\n      type: insight.type,\r\n      action: insight.action,\r\n      severity: insight.severity,\r\n    },\r\n  });\r\n\r\n  // Log para debug\r\n  console.log('­ƒñû Insight gerado:', {\r\n    type: insight.type,\r\n    severity: insight.severity,\r\n    message: insight.message,\r\n    recommendations: insight.recommendations?.length || 0,\r\n  });\r\n}\r\n\r\nfunction handleMindSnapshot(event: AzuriaEvent) {\r\n  updateCognitiveMap(event.payload);\r\n  resolveGlobalConflict(event.payload?.anomalies || []);\r\n  assignDecisionAuthority(event.payload?.confidenceMap);\r\n  broadcastUnifiedContext(event.payload);\r\n}\r\n\r\nfunction resolveGlobalConflict(conflicts: any[]) {\r\n  if (conflicts && conflicts.length > 0) {\r\n    emitEvent('ai:mind-warning', { conflicts }, { source: 'aiOrchestrator', priority: 7 });\r\n  }\r\n}\r\n\r\nfunction assignDecisionAuthority(confidenceMap?: Record<string, number>) {\r\n  if (!confidenceMap) {return;}\r\n  const sorted = Object.entries(confidenceMap).sort((a, b) => (b[1] || 0) - (a[1] || 0));\r\n  const leader = sorted[0]?.[0];\r\n  if (leader) {\r\n    emitEvent('ai:governance-alert', { message: `Prioridade dada a ${leader}`, severity: 'info' }, { source: 'aiOrchestrator', priority: 4 });\r\n  }\r\n}\r\n\r\nfunction broadcastUnifiedContext(snapshot: any) {\r\n  emitEvent('ai:core-sync', { snapshot }, { source: 'aiOrchestrator', priority: 4 });\r\n}\r\n\r\nfunction handleRealityEvent(event: AzuriaEvent) {\r\n  // Stub: Update reality model based on event\r\n  // eslint-disable-next-line no-console\r\n  console.debug('Reality event received:', event.payload);\r\n}\r\n\r\nfunction handleTruthAlert(event: AzuriaEvent) {\r\n  recordDecision({ tipo: 'truth-alert', payload: event.payload });\r\n}\r\n\r\nfunction handleStabilityAlert(event: AzuriaEvent) {\r\n  recordDecision({ tipo: 'stability-alert', payload: event.payload });\r\n}\r\n\r\n// Exposi├º├úo da pipeline meta-layer em chamadas cr├¡ticas\r\nexport function runMetaPipeline(input: any) {\r\n  return processMetaLayers(input);\r\n}\r\n\r\n/**\r\n * Processa uma requisi├º├úo do usu├írio (entrada principal do Modo Deus)\r\n */\r\nexport async function processRequest(\r\n  request: OrchestratorRequest\r\n): Promise<OrchestratorResponse> {\r\n  // Implementar l├│gica de orquestra├º├úo completa\r\n  const { context } = request;\r\n  \r\n  // Analisar inten├º├úo do usu├írio\r\n  const intention = { type: 'general', confidence: 0.5, context };\r\n  \r\n  // Rotear para agentes apropriados\r\n  const agents: Agent[] = [];\r\n  \r\n  // Agregar respostas dos agentes\r\n  const results: any[] = [];\r\n\r\n  // eslint-disable-next-line no-console\r\n  console.debug('Agent results:', results);\r\n\r\n  // Log results for debugging\r\n  // eslint-disable-next-line no-console\r\n  console.debug('Agent results:', results);\r\n\r\n  return {\r\n    requestId: request.id,\r\n    response: 'Orquestrador ainda em desenvolvimento',\r\n    agentsUsed: [],\r\n    confidence: 0,\r\n    timestamp: Date.now(),\r\n  };\r\n}\r\n\r\n/**\r\n * Analisa a inten├º├úo do usu├írio e determina quais agentes devem ser acionados\r\n */\r\nexport async function analyzeIntent(\r\n  message: string,\r\n  context?: any\r\n): Promise<Agent[]> {\r\n  // Implementar an├ílise de inten├º├úo com IA\r\n  const intentType = 'general';\r\n  \r\n  // Usar embeddings ou classifica├º├úo para identificar inten├º├úo\r\n  const confidence = 0.5;\r\n  \r\n  // Retornar agentes relevantes\r\n  return [];\r\n}\r\n\r\n/**\r\n * Coordena m├║ltiplos agentes para resolver uma requisi├º├úo complexa\r\n */\r\nexport async function coordinateAgents(\r\n  agents: Agent[],\r\n  request: OrchestratorRequest\r\n): Promise<any> {\r\n  // Implementar coordena├º├úo de m├║ltiplos agentes\r\n  const { context } = request;\r\n  \r\n  // Executar agentes em paralelo ou sequencial conforme necess├írio\r\n  const results: any[] = [];\r\n  \r\n  // Agregar resultados\r\n  return { results, context };\r\n}\r\n\r\n/**\r\n * Obt├®m ou cria o contexto de conversa├º├úo para um usu├írio\r\n */\r\nexport function getConversationContext(userId: string): ConversationContext {\r\n  let context = conversationContexts.get(userId);\r\n\r\n  if (!context) {\r\n    context = {\r\n      userId,\r\n      history: [],\r\n      currentState: {},\r\n    };\r\n    conversationContexts.set(userId, context);\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\n/**\r\n * Atualiza o contexto de conversa├º├úo\r\n */\r\nexport function updateConversationContext(\r\n  userId: string,\r\n  request: OrchestratorRequest,\r\n  response: OrchestratorResponse\r\n): void {\r\n  const context = getConversationContext(userId);\r\n\r\n  context.history.push({ request, response });\r\n\r\n  // Limitar hist├│rico a 20 intera├º├Áes\r\n  if (context.history.length > 20) {\r\n    context.history.shift();\r\n  }\r\n\r\n  conversationContexts.set(userId, context);\r\n}\r\n\r\n/**\r\n * Atualiza configura├º├úo de insights\r\n */\r\nexport function updateInsightConfig(config: Partial<InsightConfig>): void {\r\n  insightConfig = { ...insightConfig, ...config };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\calculatorHandlers.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":11,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":11,"endColumn":14,"suggestions":[{"fix":{"range":[334,389],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":20,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":20,"endColumn":14,"suggestions":[{"fix":{"range":[612,663],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":31,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":31,"endColumn":14,"suggestions":[{"fix":{"range":[941,991],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":14,"suggestions":[{"fix":{"range":[1221,1272],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":49,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":49,"endColumn":14,"suggestions":[{"fix":{"range":[1511,1560],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":60,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":60,"endColumn":14,"suggestions":[{"fix":{"range":[1838,1888],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":69,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":69,"endColumn":14,"suggestions":[{"fix":{"range":[2107,2158],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":78,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":78,"endColumn":14,"suggestions":[{"fix":{"range":[2392,2447],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { AzuriaEvent } from './eventBus';\r\n\r\n// ===== HANDLERS PARA CALCULADORA AVAN├çADA =====\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de cen├írio\r\n */\r\nexport async function handleScenarioEvent(event: AzuriaEvent): Promise<void> {\r\n  // TODO: Implementar an├ílise de cen├írios\r\n  // TODO: Comparar cen├írios e sugerir o melhor\r\n  console.log('Scenario event received:', event.payload);\r\n}\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de taxas\r\n */\r\nexport async function handleFeesEvent(event: AzuriaEvent): Promise<void> {\r\n  // TODO: Implementar an├ílise de taxas\r\n  // TODO: Alertar sobre taxas excessivas\r\n  console.log('Fees event received:', event.payload);\r\n}\r\n\r\n// ===== HANDLERS PARA CALCULADORA TRIBUT├üRIA =====\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo tribut├íria\r\n */\r\nexport async function handleTaxEvent(event: AzuriaEvent): Promise<void> {\r\n  // TODO: Implementar an├ílise tribut├íria\r\n  // TODO: Sugerir otimiza├º├Áes fiscais\r\n  console.log('Tax event received:', event.payload);\r\n}\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de ICMS\r\n */\r\nexport async function handleICMSEvent(event: AzuriaEvent): Promise<void> {\r\n  // TODO: Implementar an├ílise de ICMS\r\n  // TODO: Verificar al├¡quotas e sugerir corre├º├Áes\r\n  console.log('ICMS event received:', event.payload);\r\n}\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de ST\r\n */\r\nexport async function handleSTEvent(event: AzuriaEvent): Promise<void> {\r\n  // TODO: Implementar an├ílise de Substitui├º├úo Tribut├íria\r\n  // TODO: Alertar sobre c├ílculos incorretos\r\n  console.log('ST event received:', event.payload);\r\n}\r\n\r\n// ===== HANDLERS PARA CALCULADORA DE LICITA├ç├òES =====\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de lance\r\n */\r\nexport async function handleBidEvent(event: AzuriaEvent): Promise<void> {\r\n  // TODO: Implementar an├ílise de lances\r\n  // TODO: Sugerir lances competitivos\r\n  console.log('Bid event received:', event.payload);\r\n}\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de risco\r\n */\r\nexport async function handleRiskEvent(event: AzuriaEvent): Promise<void> {\r\n  // TODO: Implementar an├ílise de risco\r\n  // TODO: Alertar sobre riscos altos\r\n  console.log('Risk event received:', event.payload);\r\n}\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de desconto\r\n */\r\nexport async function handleDiscountEvent(event: AzuriaEvent): Promise<void> {\r\n  // TODO: Implementar an├ílise de descontos\r\n  // TODO: Sugerir descontos estrat├®gicos\r\n  console.log('Discount event received:', event.payload);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\contextStore.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[224,227],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[224,227],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[743,746],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[743,746],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Context Store\r\n *\r\n * Armazena informa├º├Áes sobre a tela atual e contextos de cada m├│dulo.\r\n * Permite que a IA acesse o estado contextual do usu├írio.\r\n */\r\n\r\ninterface ScreenContextData {\r\n  screen: string;\r\n  data: any;\r\n  timestamp: number;\r\n}\r\n\r\n// Armazenamento em mem├│ria\r\nlet currentScreen: string = 'unknown';\r\nconst contextStore: Map<string, ScreenContextData> = new Map();\r\n\r\n/**\r\n * Define a tela atual\r\n */\r\nexport function setCurrentScreen(screenName: string): void {\r\n  currentScreen = screenName;\r\n}\r\n\r\n/**\r\n * Obt├®m a tela atual\r\n */\r\nexport function getCurrentScreen(): string {\r\n  return currentScreen;\r\n}\r\n\r\n/**\r\n * Atualiza o contexto de uma tela espec├¡fica\r\n */\r\nexport function updateContext(screen: string, data: any): void {\r\n  const context: ScreenContextData = {\r\n    screen,\r\n    data,\r\n    timestamp: Date.now(),\r\n  };\r\n\r\n  contextStore.set(screen, context);\r\n}\r\n\r\n/**\r\n * Obt├®m o contexto de uma tela espec├¡fica\r\n */\r\nexport function getContext(screen: string): ScreenContextData | null {\r\n  return contextStore.get(screen) || null;\r\n}\r\n\r\n/**\r\n * Obt├®m o contexto da tela atual\r\n */\r\nexport function getCurrentContext(): ScreenContextData | null {\r\n  return getContext(currentScreen);\r\n}\r\n\r\n/**\r\n * Limpa o contexto de uma tela\r\n */\r\nexport function clearContext(screen: string): void {\r\n  contextStore.delete(screen);\r\n}\r\n\r\n/**\r\n * Limpa todos os contextos\r\n */\r\nexport function clearAllContexts(): void {\r\n  contextStore.clear();\r\n}\r\n\r\n/**\r\n * Obt├®m estat├¡sticas do context store\r\n */\r\nexport function getContextStats() {\r\n  return {\r\n    currentScreen,\r\n    totalContexts: contextStore.size,\r\n    screens: Array.from(contextStore.keys()),\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\engineFacade.ts","messages":[{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":6,"column":11,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":6,"endColumn":35},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":7,"column":12,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":7,"endColumn":37},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[457,460],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[457,460],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used. Allowed unused caught errors must match /^_/u.","line":23,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NimAdapter } from '../engines/nimAdapter';\r\nimport { selectModelForTask } from './modelRouter';\r\nimport { GeminiAdapter } from '../engines/geminiAdapter';\r\n\r\nconst nim = new NimAdapter({\r\n  apiKey: process.env.NIM_API_KEY!,\r\n  baseUrl: process.env.NIM_BASE_URL!,\r\n  defaultModel: process.env.NIM_DEFAULT_MODEL || 'llama-3.1-70b',\r\n});\r\n\r\nconst gemini = new GeminiAdapter({});\r\n\r\nexport async function callEngine(task: string, prompt: string, opts: any = {}) {\r\n  const { engine, model } = selectModelForTask(task);\r\n\r\n  try {\r\n    if (engine === 'nim') {\r\n      const r = await nim.callModel({ model, prompt, ...opts });\r\n      return r;\r\n    }\r\n\r\n    return await gemini.callModel({ prompt, ...opts });\r\n  } catch (err) {\r\n    const fb = await gemini.callModel({ prompt, ...opts });\r\n    return { ...fb, fallback: true };\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\eventBus.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":179,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":179,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4736,4739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4736,4739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":183,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":183,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4834,4837],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4834,4837],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":228,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":228,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6057,6060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6057,6060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":232,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6154,6157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6154,6157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'a' is defined but never used. Allowed unused args must match /^_/u.","line":251,"column":46,"nodeType":null,"messageId":"unusedVar","endLine":251,"endColumn":47},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'b' is defined but never used. Allowed unused args must match /^_/u.","line":251,"column":49,"nodeType":null,"messageId":"unusedVar","endLine":251,"endColumn":50},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":265,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":265,"endColumn":24,"suggestions":[{"fix":{"range":[7097,7157],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":274,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":274,"endColumn":20,"suggestions":[{"fix":{"range":[7345,7406],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Event Bus\r\n *\r\n * Sistema de eventos para IA reativa.\r\n * Permite que a IA reaja a eventos do sistema em tempo real.\r\n */\r\n\r\nexport type EventType =\r\n  | 'calc:started'\r\n  | 'calc:completed'\r\n  | 'calc:updated'\r\n  | 'scenario:updated'\r\n  | 'fees:updated'\r\n  | 'tax:updated'\r\n  | 'icms:updated'\r\n  | 'st:updated'\r\n  | 'bid:updated'\r\n  | 'risk:updated'\r\n  | 'discount:updated'\r\n  | 'screen:changed'\r\n  | 'screen:dataUpdated'\r\n  | 'user:action'\r\n  | 'ui:changed'\r\n  | 'ui:actionClicked'\r\n  | 'ui:displayInsight'\r\n  | 'data:updated'\r\n  | 'error:occurred'\r\n  | 'insight:generated'\r\n  | 'system:init'\r\n  | 'system:shutdown'\r\n  | 'ai:predictive-insight'\r\n  | 'ai:detected-risk'\r\n  | 'ai:detected-opportunity'\r\n  | 'ai:recommended-action'\r\n  | 'ai:memory-updated'\r\n  | 'ai:pattern-detected'\r\n  | 'ai:forecast-generated'\r\n  | 'ai:anomaly-detected'\r\n  | 'ai:user-intent-inferred'\r\n  | 'ai:emotion-inferred'\r\n  | 'ai:user-profile-updated'\r\n  | 'ui:adaptive-interface-changed'\r\n  | 'ai:internal-drift'\r\n  | 'ai:state-changed'\r\n  | 'ai:model-confidence'\r\n  | 'ai:signal-quality'\r\n  | 'ai:consistency-warning'\r\n  | 'ai:system-drift'\r\n  | 'ai:dependency-gap'\r\n  | 'ai:stability-restored'\r\n  | 'ai:planner-goal-evaluated'\r\n  | 'ai:planner-plan-generated'\r\n  | 'ai:planner-plan-executed'\r\n  | 'ai:planner-plan-adjusted'\r\n  | 'ai:evolution-scan'\r\n  | 'ai:evolution-weakness-found'\r\n  | 'ai:evolution-patch-proposed'\r\n  | 'ai:evolution-score-updated'\r\n  | 'ai:core-sync'\r\n  | 'ai:temporal-event'\r\n  | 'ai:trend-detected'\r\n  | 'ai:future-state-predicted'\r\n  | 'ai:temporal-anomaly'\r\n  | 'ai:perf-alert'\r\n  | 'ai:fallback-engaged'\r\n  | 'ai:pricing-opportunity'\r\n  | 'ai:churn-risk'\r\n  | 'ai:upgrade-opportunity'\r\n  | 'ai:governance-alert'\r\n  | 'ai:coherence-warning'\r\n  | 'ai:decision-validated'\r\n  | 'ai:action-executed'\r\n  | 'ai:governance-violation'\r\n  | 'agent:feedback'\r\n  | 'agent:performance-shift'\r\n  | 'agent:heuristic-updated'\r\n  | 'agent:auto-tuned'\r\n  | 'agent:anomaly-detected'\r\n  | 'ai:internal-insight'\r\n  | 'ai:contradiction-detected'\r\n  | 'ai:explainable-decision'\r\n  | 'ai:virtual-signal'\r\n  | 'ai:context-reconstructed'\r\n  | 'ai:silent-failure-detected'\r\n  | 'ai:anomaly-behavior-detected'\r\n  | 'ai:strategic-plan-generated'\r\n  | 'ai:structural-risk-detected'\r\n  | 'ai:long-term-goal-defined'\r\n  | 'ai:system-health-updated'\r\n  | 'ai:strategic-conflict-detected'\r\n  | 'ai:engagement-progress'\r\n  | 'ai:engagement-drop-detected'\r\n  | 'ai:achievement-unlocked'\r\n  | 'ai:user-motivation-level'\r\n  | 'ai:next-best-action'\r\n  | 'ai:story-generated'\r\n  | 'ai:story-clarified'\r\n  | 'ai:story-educational'\r\n  | 'ai:story-commercial'\r\n  | 'ai:brand-voice-applied'\r\n  | 'ai:persona-adapted'\r\n  | 'ai:tone-shift'\r\n  | 'ai:communication-optimized'\r\n  | 'ai:emotion-detected'\r\n  | 'ai:affective-response'\r\n  | 'ai:user-frustrated'\r\n  | 'ai:user-confident'\r\n  | 'ai:user-confused'\r\n  | 'ai:user-hesitant'\r\n  | 'ai:user-encouraged'\r\n  | 'ai:decision-valid'\r\n  | 'ai:decision-invalid'\r\n  | 'ai:decision-corrected'\r\n  | 'ai:unsafe-output-blocked'\r\n  | 'ai:audited-decision'\r\n  | 'ai:ethical-warning'\r\n  | 'ai:alignment-corrected'\r\n  | 'ai:safety-break'\r\n  | 'ai:mind-snapshot'\r\n  | 'ai:mind-warning'\r\n  | 'ai:reality-updated'\r\n  | 'ai:truth-alert'\r\n  | 'ai:stability-alert'\r\n  | 'ai:market-insight'\r\n  | 'ai:personality-escalation'\r\n  | 'ai:meta-layer-updated'\r\n  | 'ai:nim-response'\r\n  | 'ai:creator-alert'\r\n  | 'ai:creator-insight'\r\n  | 'ai:creator-recommendation'\r\n  | 'ai:creator-roadmap'\r\n  | 'ai:evolution-learning'\r\n  | 'ai:evolution-pattern'\r\n  | 'ai:evolution-insight'\r\n  | 'ai:evolution-memory'\r\n  | 'ai:evolution-query'\r\n  | 'system:tick'\r\n  | 'ai:behavior-pattern-detected'\r\n  | 'ai:ux-friction-detected'\r\n  | 'ai:autofix-suggested'\r\n  | 'ai:autofix-applied'\r\n  | 'ai:positive-pattern-detected'\r\n  | 'ai:flow-abandon-point'\r\n  | 'ai:ux-optimized'\r\n  | 'agent:tax-warning'\r\n  | 'agent:tax-correction-suggested'\r\n  | 'agent:optimal-price'\r\n  | 'agent:margin-risk'\r\n  | 'agent:competitive-price'\r\n  | 'agent:listing-issue'\r\n  | 'agent:risk-detected'\r\n  | 'agent:loss-predicted'\r\n  | 'agent:opportunity-found'\r\n  | 'agent:boost-suggested'\r\n  | 'ui:emotion-updated'\r\n  | 'ui:adaptive-layout'\r\n  | 'agent:called'\r\n  // User Channel Events (Co-Piloto Operacional)\r\n  | 'user:navigation'\r\n  | 'user:calculation'\r\n  | 'user:error'\r\n  | 'user:input'\r\n  | 'user:copilot-ready'\r\n  | 'user:context-updated'\r\n  | 'user:suggestion'\r\n  | 'user:suggestion-accepted'\r\n  | 'user:suggestion-dismissed'\r\n  | 'user:suggestion-expired'\r\n  | 'user:feedback-given'\r\n  | 'user:config-changed'\r\n  | 'user:copilot-enabled'\r\n  | 'user:copilot-disabled';\r\n\r\n/**\r\n * Formato padronizado de evento\r\n */\r\nexport interface AzuriaEvent {\r\n  tipo: EventType;\r\n  payload: any;\r\n  timestamp: number;\r\n  source?: string;\r\n  priority?: number;\r\n  metadata?: Record<string, any>;\r\n}\r\n\r\nexport type EventHandler = (event: AzuriaEvent) => void | Promise<void>;\r\n\r\nexport interface EventSubscription {\r\n  id: string;\r\n  eventType: EventType;\r\n  handler: EventHandler;\r\n  once?: boolean; // Se deve ser executado apenas uma vez\r\n}\r\n\r\n// Armazenamento de subscri├º├Áes por tipo de evento\r\nconst eventSubscriptions: Map<EventType, EventSubscription[]> = new Map();\r\n\r\n// Hist├│rico de eventos (limitado aos ├║ltimos 100)\r\nconst eventHistory: AzuriaEvent[] = [];\r\nconst MAX_HISTORY_SIZE = 100;\r\n\r\n// Contador para IDs ├║nicos de subscri├º├úo\r\nlet subscriptionIdCounter = 0;\r\n\r\n/**\r\n * Registra um evento no hist├│rico\r\n * @param event - Evento a ser registrado\r\n */\r\nexport function registerEvent(event: AzuriaEvent): void {\r\n  eventHistory.push(event);\r\n\r\n  // Limitar tamanho do hist├│rico\r\n  if (eventHistory.length > MAX_HISTORY_SIZE) {\r\n    eventHistory.shift(); // Remove o mais antigo\r\n  }\r\n}\r\n\r\n/**\r\n * Emite um evento no sistema\r\n * Notifica todos os handlers registrados para este tipo de evento\r\n *\r\n * @param tipo - Tipo do evento\r\n * @param payload - Dados do evento\r\n * @param options - Op├º├Áes adicionais (source, priority, metadata)\r\n */\r\nexport function emitEvent(\r\n  tipo: EventType,\r\n  payload: any,\r\n  options?: {\r\n    source?: string;\r\n    priority?: number;\r\n    metadata?: Record<string, any>;\r\n  }\r\n): void {\r\n  const event: AzuriaEvent = {\r\n    tipo,\r\n    payload,\r\n    timestamp: Date.now(),\r\n    source: options?.source || 'unknown',\r\n    priority: options?.priority || 0,\r\n    metadata: options?.metadata || {},\r\n  };\r\n\r\n  // Registrar no hist├│rico\r\n  registerEvent(event);\r\n\r\n  // Obter handlers para este tipo de evento\r\n  const handlers = eventSubscriptions.get(tipo) || [];\r\n\r\n  // Executar handlers (ordenados por prioridade se necess├írio)\r\n  const sortedHandlers = [...handlers].sort((a, b) => {\r\n    const priorityA = event.priority || 0;\r\n    const priorityB = event.priority || 0;\r\n    return priorityB - priorityA; // Maior prioridade primeiro\r\n  });\r\n\r\n  sortedHandlers.forEach(subscription => {\r\n    try {\r\n      // Executar handler\r\n      const result = subscription.handler(event);\r\n\r\n      // Se retornar Promise, tratar erros\r\n      if (result instanceof Promise) {\r\n        result.catch(error => {\r\n          console.error(`Error in event handler for ${tipo}:`, error);\r\n        });\r\n      }\r\n\r\n      // Se for \"once\", remover subscri├º├úo\r\n      if (subscription.once) {\r\n        unsubscribeFromEvent(subscription.id);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error executing handler for ${tipo}:`, error);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Subscreve a um tipo de evento\r\n *\r\n * @param eventType - Tipo de evento\r\n * @param handler - Fun├º├úo a ser chamada quando o evento ocorrer\r\n * @param options - Op├º├Áes da subscri├º├úo\r\n * @returns ID da subscri├º├úo (para cancelar depois)\r\n */\r\nexport function on(\r\n  eventType: EventType,\r\n  handler: EventHandler,\r\n  options?: { once?: boolean }\r\n): string {\r\n  const subscriptionId = `sub_${++subscriptionIdCounter}_${Date.now()}`;\r\n\r\n  const subscription: EventSubscription = {\r\n    id: subscriptionId,\r\n    eventType,\r\n    handler,\r\n    once: options?.once || false,\r\n  };\r\n\r\n  // Adicionar ├á lista de subscri├º├Áes\r\n  const handlers = eventSubscriptions.get(eventType) || [];\r\n  handlers.push(subscription);\r\n  eventSubscriptions.set(eventType, handlers);\r\n\r\n  return subscriptionId;\r\n}\r\n\r\n/**\r\n * Subscreve a um evento que ser├í executado apenas uma vez\r\n *\r\n * @param eventType - Tipo de evento\r\n * @param handler - Fun├º├úo a ser chamada\r\n * @returns ID da subscri├º├úo\r\n */\r\nexport function once(eventType: EventType, handler: EventHandler): string {\r\n  return on(eventType, handler, { once: true });\r\n}\r\n\r\n/**\r\n * Cancela uma subscri├º├úo de evento\r\n *\r\n * @param subscriptionId - ID da subscri├º├úo\r\n * @returns true se removido com sucesso, false caso contr├írio\r\n */\r\nexport function unsubscribeFromEvent(subscriptionId: string): boolean {\r\n  for (const [eventType, handlers] of eventSubscriptions.entries()) {\r\n    const index = handlers.findIndex(sub => sub.id === subscriptionId);\r\n\r\n    if (index !== -1) {\r\n      handlers.splice(index, 1);\r\n\r\n      // Se n├úo h├í mais handlers, remover a entrada do Map\r\n      if (handlers.length === 0) {\r\n        eventSubscriptions.delete(eventType);\r\n      } else {\r\n        eventSubscriptions.set(eventType, handlers);\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * Remove todos os handlers de um tipo de evento\r\n *\r\n * @param eventType - Tipo de evento\r\n */\r\nexport function removeAllListeners(eventType: EventType): void {\r\n  eventSubscriptions.delete(eventType);\r\n}\r\n\r\n/**\r\n * Obt├®m o hist├│rico de eventos\r\n *\r\n * @param limit - N├║mero m├íximo de eventos a retornar\r\n * @param filter - Filtro opcional por tipo de evento\r\n * @returns Array de eventos hist├│ricos\r\n */\r\nexport function getEventHistory(\r\n  limit?: number,\r\n  filter?: EventType\r\n): AzuriaEvent[] {\r\n  let history = [...eventHistory];\r\n\r\n  // Aplicar filtro se fornecido\r\n  if (filter) {\r\n    history = history.filter(event => event.tipo === filter);\r\n  }\r\n\r\n  // Aplicar limite se fornecido\r\n  if (limit && limit > 0) {\r\n    history = history.slice(-limit); // Pegar os ├║ltimos N eventos\r\n  }\r\n\r\n  return history;\r\n}\r\n\r\n/**\r\n * Limpa o hist├│rico de eventos\r\n */\r\nexport function clearEventHistory(): void {\r\n  eventHistory.length = 0;\r\n}\r\n\r\n/**\r\n * Obt├®m estat├¡sticas do event bus\r\n */\r\nexport function getEventBusStats() {\r\n  const totalSubscriptions = Array.from(eventSubscriptions.values()).reduce(\r\n    (sum, handlers) => sum + handlers.length,\r\n    0\r\n  );\r\n\r\n  const subscriptionsByType: Record<string, number> = {};\r\n  eventSubscriptions.forEach((handlers, eventType) => {\r\n    subscriptionsByType[eventType] = handlers.length;\r\n  });\r\n\r\n  return {\r\n    totalSubscriptions,\r\n    subscriptionsByType,\r\n    historySize: eventHistory.length,\r\n    maxHistorySize: MAX_HISTORY_SIZE,\r\n  };\r\n}\r\n\r\n/**\r\n * Objeto eventBus para compatibilidade com imports nomeados\r\n */\r\nexport const eventBus = {\r\n  emit: emitEvent,\r\n  on,\r\n  off: unsubscribeFromEvent,\r\n  once,\r\n  register: registerEvent,\r\n  getHistory: getEventHistory,\r\n  clearHistory: clearEventHistory,\r\n  getStats: getEventBusStats,\r\n  removeAllListeners,\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\eventChannels.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\eventPayloads.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\functionDefinitions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FunctionDefinition' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Function Definitions\r\n *\r\n * Registra todas as fun├º├Áes dispon├¡veis para a IA chamar.\r\n * Mapeia cada fun├º├úo para seu respectivo agente interno.\r\n */\r\n\r\nimport { type FunctionDefinition, registerFunction } from './functionRegistry';\r\n\r\n/**\r\n * Inicializa e registra todas as fun├º├Áes dispon├¡veis\r\n */\r\nexport function initializeFunctions(): void {\r\n  // ===== FUN├ç├òES DE C├üLCULO =====\r\n\r\n  registerFunction({\r\n    name: 'calcularPrecoIdeal',\r\n    description:\r\n      'Calcula o pre├ºo ideal de venda baseado em custos, margem desejada e impostos',\r\n    category: 'calculation',\r\n    agentId: 'calculoAgent',\r\n    parameters: [\r\n      {\r\n        name: 'custoProduto',\r\n        type: 'number',\r\n        description: 'Custo do produto',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'margemDesejada',\r\n        type: 'number',\r\n        description: 'Margem de lucro desejada em percentual',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'custoOperacional',\r\n        type: 'number',\r\n        description: 'Custo operacional',\r\n        required: false,\r\n        default: 0,\r\n      },\r\n      {\r\n        name: 'impostos',\r\n        type: 'number',\r\n        description: 'Impostos em percentual',\r\n        required: false,\r\n        default: 0,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      // TODO: Chamar agente de c├ílculo via backend\r\n      const response = await fetch('/api/agents/calculo', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'calcularPrecoIdeal',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  registerFunction({\r\n    name: 'calcularMargem',\r\n    description:\r\n      'Calcula a margem de lucro real baseado no pre├ºo de venda e custos',\r\n    category: 'calculation',\r\n    agentId: 'calculoAgent',\r\n    parameters: [\r\n      {\r\n        name: 'precoVenda',\r\n        type: 'number',\r\n        description: 'Pre├ºo de venda',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'custoProduto',\r\n        type: 'number',\r\n        description: 'Custo do produto',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'custoOperacional',\r\n        type: 'number',\r\n        description: 'Custo operacional',\r\n        required: false,\r\n        default: 0,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/calculo', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'calcularMargem',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  registerFunction({\r\n    name: 'calcularPrecoMinimo',\r\n    description: 'Calcula o pre├ºo m├¡nimo de venda para n├úo ter preju├¡zo',\r\n    category: 'calculation',\r\n    agentId: 'calculoAgent',\r\n    parameters: [\r\n      {\r\n        name: 'custoProduto',\r\n        type: 'number',\r\n        description: 'Custo do produto',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'custoOperacional',\r\n        type: 'number',\r\n        description: 'Custo operacional',\r\n        required: false,\r\n        default: 0,\r\n      },\r\n      {\r\n        name: 'impostos',\r\n        type: 'number',\r\n        description: 'Impostos em percentual',\r\n        required: false,\r\n        default: 0,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/calculo', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'calcularPrecoMinimo',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  // ===== FUN├ç├òES FISCAIS =====\r\n\r\n  registerFunction({\r\n    name: 'calcularICMS',\r\n    description: 'Calcula o valor do ICMS baseado no pre├ºo e al├¡quota',\r\n    category: 'fiscal',\r\n    agentId: 'fiscalAgent',\r\n    parameters: [\r\n      {\r\n        name: 'preco',\r\n        type: 'number',\r\n        description: 'Pre├ºo do produto',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'aliquota',\r\n        type: 'number',\r\n        description: 'Al├¡quota do ICMS em percentual',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'ufOrigem',\r\n        type: 'string',\r\n        description: 'UF de origem',\r\n        required: false,\r\n      },\r\n      {\r\n        name: 'ufDestino',\r\n        type: 'string',\r\n        description: 'UF de destino',\r\n        required: false,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/fiscal', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'calcularICMS',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  registerFunction({\r\n    name: 'calcularST',\r\n    description: 'Calcula a Substitui├º├úo Tribut├íria (ICMS-ST)',\r\n    category: 'fiscal',\r\n    agentId: 'fiscalAgent',\r\n    parameters: [\r\n      {\r\n        name: 'preco',\r\n        type: 'number',\r\n        description: 'Pre├ºo do produto',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'mva',\r\n        type: 'number',\r\n        description: 'MVA (Margem de Valor Agregado) em percentual',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'aliquotaInterna',\r\n        type: 'number',\r\n        description: 'Al├¡quota interna do ICMS',\r\n        required: true,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/fiscal', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'calcularST',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  registerFunction({\r\n    name: 'calcularMVA',\r\n    description: 'Calcula a MVA (Margem de Valor Agregado) para um produto',\r\n    category: 'fiscal',\r\n    agentId: 'fiscalAgent',\r\n    parameters: [\r\n      {\r\n        name: 'ncm',\r\n        type: 'string',\r\n        description: 'C├│digo NCM do produto',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'uf',\r\n        type: 'string',\r\n        description: 'UF de destino',\r\n        required: true,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/fiscal', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'calcularMVA',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  // ===== FUN├ç├òES DE MARKETPLACE =====\r\n\r\n  registerFunction({\r\n    name: 'getTaxasMarketplace',\r\n    description: 'Obt├®m as taxas de um marketplace espec├¡fico',\r\n    category: 'marketplace',\r\n    agentId: 'marketplaceAgent',\r\n    parameters: [\r\n      {\r\n        name: 'marketplace',\r\n        type: 'string',\r\n        description: 'Nome do marketplace (mercadolivre, shopee, amazon, etc)',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'categoria',\r\n        type: 'string',\r\n        description: 'Categoria do produto',\r\n        required: false,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/marketplace', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'getTaxasMarketplace',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  registerFunction({\r\n    name: 'calcularComissao',\r\n    description: 'Calcula a comiss├úo do marketplace sobre uma venda',\r\n    category: 'marketplace',\r\n    agentId: 'marketplaceAgent',\r\n    parameters: [\r\n      {\r\n        name: 'marketplace',\r\n        type: 'string',\r\n        description: 'Nome do marketplace',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'precoVenda',\r\n        type: 'number',\r\n        description: 'Pre├ºo de venda',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'categoria',\r\n        type: 'string',\r\n        description: 'Categoria do produto',\r\n        required: false,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/marketplace', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'calcularComissao',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  // ===== FUN├ç├òES DE LICITA├ç├âO =====\r\n\r\n  registerFunction({\r\n    name: 'calcularLance',\r\n    description: 'Calcula um lance competitivo para licita├º├úo',\r\n    category: 'bidding',\r\n    agentId: 'licitacaoAgent',\r\n    parameters: [\r\n      {\r\n        name: 'precoReferencia',\r\n        type: 'number',\r\n        description: 'Pre├ºo de refer├¬ncia do edital',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'custoTotal',\r\n        type: 'number',\r\n        description: 'Custo total do produto/servi├ºo',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'margemDesejada',\r\n        type: 'number',\r\n        description: 'Margem de lucro desejada em percentual',\r\n        required: false,\r\n        default: 10,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/licitacao', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'calcularLance',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  registerFunction({\r\n    name: 'avaliarRisco',\r\n    description: 'Avalia o risco de participar de uma licita├º├úo',\r\n    category: 'bidding',\r\n    agentId: 'licitacaoAgent',\r\n    parameters: [\r\n      {\r\n        name: 'precoReferencia',\r\n        type: 'number',\r\n        description: 'Pre├ºo de refer├¬ncia',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'custoTotal',\r\n        type: 'number',\r\n        description: 'Custo total',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'prazoEntrega',\r\n        type: 'number',\r\n        description: 'Prazo de entrega em dias',\r\n        required: false,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/licitacao', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'avaliarRisco',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  // ===== FUN├ç├òES DE UI =====\r\n\r\n  registerFunction({\r\n    name: 'setInputValue',\r\n    description: 'Define o valor de um campo de input na interface',\r\n    category: 'ui',\r\n    agentId: 'uiAgent',\r\n    parameters: [\r\n      {\r\n        name: 'campoId',\r\n        type: 'string',\r\n        description: 'ID do campo',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'valor',\r\n        type: 'string',\r\n        description: 'Valor a ser definido',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'destacar',\r\n        type: 'boolean',\r\n        description: 'Se deve destacar o campo',\r\n        required: false,\r\n        default: false,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/ui', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'setInputValue',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n\r\n  registerFunction({\r\n    name: 'aplicarSugestaoNaTela',\r\n    description: 'Aplica uma sugest├úo da IA diretamente na tela',\r\n    category: 'ui',\r\n    agentId: 'uiAgent',\r\n    parameters: [\r\n      {\r\n        name: 'tipo',\r\n        type: 'string',\r\n        description: 'Tipo de sugest├úo (preco, margem, campo)',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'valores',\r\n        type: 'object',\r\n        description: 'Valores a serem aplicados',\r\n        required: true,\r\n      },\r\n      {\r\n        name: 'confirmarAntes',\r\n        type: 'boolean',\r\n        description: 'Se deve pedir confirma├º├úo do usu├írio',\r\n        required: false,\r\n        default: true,\r\n      },\r\n    ],\r\n    handler: async params => {\r\n      const response = await fetch('/api/agents/ui', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: 'aplicarSugestaoNaTela',\r\n          params,\r\n        }),\r\n      });\r\n      return response.json();\r\n    },\r\n  });\r\n}\r\n\r\n/**\r\n * Obt├®m todas as fun├º├Áes registradas agrupadas por categoria\r\n */\r\nexport function getFunctionsByCategory() {\r\n  return {\r\n    calculation: [\r\n      'calcularPrecoIdeal',\r\n      'calcularMargem',\r\n      'calcularPrecoMinimo',\r\n    ],\r\n    fiscal: ['calcularICMS', 'calcularST', 'calcularMVA'],\r\n    marketplace: ['getTaxasMarketplace', 'calcularComissao'],\r\n    bidding: ['calcularLance', 'avaliarRisco'],\r\n    ui: ['setInputValue', 'aplicarSugestaoNaTela'],\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\functionRegistry.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[302,305],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[302,305],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[317,320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[317,320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[369,372],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[369,372],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[385,388],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[385,388],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1600,1603],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1600,1603],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":96,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2498,2501],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2498,2501],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":96,"column":80,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":83,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2512,2515],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2512,2515],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Function Registry\r\n *\r\n * Registro e execu├º├úo de fun├º├Áes dispon├¡veis para o Function Calling da IA.\r\n */\r\n\r\nexport interface FunctionParameter {\r\n  name: string;\r\n  type: 'string' | 'number' | 'boolean' | 'object' | 'array' | 'any';\r\n  description?: string;\r\n  required?: boolean;\r\n  default?: any;\r\n  enum?: any[];\r\n}\r\n\r\nexport type FunctionHandler = (params: any) => Promise<any>;\r\n\r\nexport interface FunctionDefinition {\r\n  name: string;\r\n  description: string;\r\n  category?: string;\r\n  agentId: string;\r\n  parameters: FunctionParameter[];\r\n  handler: FunctionHandler;\r\n}\r\n\r\nexport interface FunctionsSchemaEntry {\r\n  name: string;\r\n  description: string;\r\n  agentId: string;\r\n  category?: string;\r\n  parameters: FunctionParameter[];\r\n}\r\n\r\nconst functionRegistry: Map<string, FunctionDefinition> = new Map();\r\n\r\nexport function registerFunction(functionDef: FunctionDefinition): void {\r\n  if (!functionDef?.name) {\r\n    throw new Error('Function definition must have a name');\r\n  }\r\n\r\n  functionRegistry.set(functionDef.name, functionDef);\r\n}\r\n\r\nexport function unregisterFunction(functionName: string): boolean {\r\n  return functionRegistry.delete(functionName);\r\n}\r\n\r\nexport function clearFunctions(): void {\r\n  functionRegistry.clear();\r\n}\r\n\r\nexport function getFunction(\r\n  functionName: string\r\n): FunctionDefinition | undefined {\r\n  return functionRegistry.get(functionName);\r\n}\r\n\r\nexport function listFunctions(): FunctionDefinition[] {\r\n  return Array.from(functionRegistry.values());\r\n}\r\n\r\nexport function validateFunctionParams(\r\n  functionName: string,\r\n  params: Record<string, any>\r\n): { valid: boolean; missing: string[]; invalid: string[] } {\r\n  const def = getFunction(functionName);\r\n  if (!def) {\r\n    return { valid: false, missing: [], invalid: [] };\r\n  }\r\n\r\n  const missing: string[] = [];\r\n  const invalid: string[] = [];\r\n\r\n  def.parameters.forEach(param => {\r\n    const value = params?.[param.name];\r\n\r\n    if (param.required && (value === undefined || value === null)) {\r\n      missing.push(param.name);\r\n      return;\r\n    }\r\n\r\n    if (value !== undefined && value !== null && param.type !== 'any') {\r\n      const isArray = Array.isArray(value);\r\n      const valueType = isArray ? 'array' : typeof value;\r\n\r\n      if (valueType !== param.type) {\r\n        invalid.push(param.name);\r\n      }\r\n    }\r\n  });\r\n\r\n  return { valid: missing.length === 0 && invalid.length === 0, missing, invalid };\r\n}\r\n\r\nexport async function callFunction(functionName: string, params: any): Promise<any> {\r\n  const def = getFunction(functionName);\r\n  if (!def) {\r\n    throw new Error(`Function ${functionName} not registered`);\r\n  }\r\n\r\n  const validation = validateFunctionParams(functionName, params);\r\n  if (!validation.valid) {\r\n    throw new Error(\r\n      `Invalid params for ${functionName}: missing [${validation.missing.join(\r\n        ', '\r\n      )}], invalid [${validation.invalid.join(', ')}]`\r\n    );\r\n  }\r\n\r\n  return def.handler(params);\r\n}\r\n\r\nexport function getFunctionsSchema(): FunctionsSchemaEntry[] {\r\n  return listFunctions().map(fn => ({\r\n    name: fn.name,\r\n    description: fn.description,\r\n    agentId: fn.agentId,\r\n    category: fn.category,\r\n    parameters: fn.parameters,\r\n  }));\r\n}\r\n\r\nexport function getFunctionStats() {\r\n  const functions = listFunctions();\r\n  const byAgent: Record<string, number> = {};\r\n  const byCategory: Record<string, number> = {};\r\n\r\n  functions.forEach(fn => {\r\n    byAgent[fn.agentId] = (byAgent[fn.agentId] || 0) + 1;\r\n    const categoryKey = fn.category || 'uncategorized';\r\n    byCategory[categoryKey] = (byCategory[categoryKey] || 0) + 1;\r\n  });\r\n\r\n  return {\r\n    total: functions.length,\r\n    byAgent,\r\n    byCategory,\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\integratedOrchestrator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\modeDeusOrchestrator.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setTipEngineScreen' is defined but never used. Allowed unused vars must match /^_/u.","line":47,"column":45,"nodeType":null,"messageId":"unusedVar","endLine":47,"endColumn":63},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'tryShowContextualTip' is defined but never used. Allowed unused vars must match /^_/u.","line":47,"column":65,"nodeType":null,"messageId":"unusedVar","endLine":47,"endColumn":85}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * ModeDeusOrchestrator - Orquestrador Central do Modo Deus\n *\n * Este ├® o \"maestro\" que conecta e coordena todos os engines do Modo Deus.\n * Responsabilidades:\n * - Inicializar todos os engines na ordem correta\n * - Gerenciar ciclo de vida do Co-Piloto\n * - Processar eventos e rotear para engines apropriados\n * - Gerar sugest├Áes coordenadas de m├║ltiplas fontes\n * - Monitorar e ajustar comportamento em tempo real\n *\n * @module azuria_ai/core/modeDeusOrchestrator\n */\n\nimport { eventBus } from '../events/eventBus';\nimport type { Suggestion, UserSuggestion } from '../types/operational';\nimport { structuredLogger } from '../../services/structuredLogger';\n\n// Engines - Fase 1\nimport {\n  addSuggestion,\n  getCoPilotState,\n  initOperationalEngine,\n  setEnabled as setCoPilotEnabled,\n  updateUserContext,\n} from '../engines/operationalAIEngine';\n\n// Engines - Fase 2\nimport { getUserContext, initUserContextEngine } from '../engines/userContextEngine';\nimport { getActivityState as getUIActivityState, initUIWatcher } from '../engines/uiWatcherEngine';\nimport { canShowSuggestion, initThrottler, recordSuggestionShown } from '../engines/suggestionThrottler';\n\n// Engines - Fase 3\nimport { type ExplanationCategory, explanationToSuggestion, generateExplanation, initExplanationEngine } from '../engines/explanationEngine';\nimport { initBiddingAssistant } from '../engines/biddingAssistantEngine';\nimport { initTutorialEngine, suggestTutorials } from '../engines/tutorialEngine';\n\n// Engines - Fase 4\nimport { analyzeEffectiveness, getFeedbackMetrics, initFeedbackLoop } from '../engines/feedbackLoopEngine';\nimport { getMostUsedCalculators, getTypicalUsageTime, initPatternLearning } from '../engines/patternLearningEngine';\nimport { getProfile, initPersonalization, personalizeSuggestion, shouldShowProactiveSuggestion } from '../engines/personalizationEngine';\n\n// Engines - Fase 5\nimport { analyzeText, initNLPProcessor } from '../engines/nlpProcessorEngine';\nimport { calculateAbandonmentRisk, getCurrentPredictions, initPredictiveEngine, suggestSmartShortcuts } from '../engines/predictiveEngine';\nimport { evaluateTriggers, initProactiveAssistant, showAssistance } from '../engines/proactiveAssistant';\nimport { initTipEngine, setCurrentScreen as setTipEngineScreen, tryShowContextualTip } from '../engines/tipEngine';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Estado do orquestrador\n */\nexport interface OrchestratorState {\n  initialized: boolean;\n  enabled: boolean;\n  userId: string | null;\n  currentScreen: string;\n  sessionStartTime: Date;\n  enginesStatus: Record<string, 'pending' | 'ready' | 'error'>;\n}\n\n/**\n * Configura├º├úo do orquestrador\n */\nexport interface OrchestratorConfig {\n  enableCoPilot: boolean;\n  enableProactiveSuggestions: boolean;\n  enableLearning: boolean;\n  enablePrediction: boolean;\n  debugMode: boolean;\n  suggestionInterval: number; // ms\n}\n\n/**\n * Contexto para processamento\n */\nexport interface ProcessingContext {\n  screen: string;\n  userInput?: string;\n  action?: string;\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Resultado de processamento\n */\nexport interface ProcessingResult {\n  suggestions: UserSuggestion[];\n  predictions: Array<{ action: string; probability: number }>;\n  insights: string[];\n  shouldShowAssistance: boolean;\n}\n\n// =============================================================================\n// STATE\n// =============================================================================\n\nconst state: OrchestratorState = {\n  initialized: false,\n  enabled: false,\n  userId: null,\n  currentScreen: '',\n  sessionStartTime: new Date(),\n  enginesStatus: {},\n};\n\nconst defaultConfig: OrchestratorConfig = {\n  enableCoPilot: true,\n  enableProactiveSuggestions: true,\n  enableLearning: true,\n  enablePrediction: true,\n  debugMode: false,\n  suggestionInterval: 30000, // 30s\n};\n\nlet config: OrchestratorConfig = { ...defaultConfig };\nlet suggestionIntervalId: ReturnType<typeof setInterval> | null = null;\n\n// =============================================================================\n// INITIALIZATION\n// =============================================================================\n\n/**\n * Inicializa o Modo Deus completo\n */\nexport async function initModeDeus(\n  userId?: string,\n  customConfig?: Partial<OrchestratorConfig>\n): Promise<{ success: boolean; errors: string[] }> {\n  if (state.initialized) {\n    return { success: true, errors: [] };\n  }\n\n  const errors: string[] = [];\n\n  // Merge config\n  if (customConfig) {\n    config = { ...config, ...customConfig };\n  }\n\n  state.userId = userId ?? null;\n  state.sessionStartTime = new Date();\n\n  log('Initializing Mode Deus...');\n\n  // Initialize engines in dependency order\n  // Phase 1: Core\n  try {\n    initOperationalEngine();\n    state.enginesStatus['operational'] = 'ready';\n    log('Ô£ô OperationalEngine ready');\n  } catch (e) {\n    state.enginesStatus['operational'] = 'error';\n    errors.push(`OperationalEngine: ${e}`);\n  }\n\n  // Phase 2: Context & Monitoring\n  try {\n    initUserContextEngine(userId);\n    state.enginesStatus['userContext'] = 'ready';\n    log('Ô£ô UserContextEngine ready');\n  } catch (e) {\n    state.enginesStatus['userContext'] = 'error';\n    errors.push(`UserContextEngine: ${e}`);\n  }\n\n  try {\n    initUIWatcher();\n    state.enginesStatus['uiWatcher'] = 'ready';\n    log('Ô£ô UIWatcher ready');\n  } catch (e) {\n    state.enginesStatus['uiWatcher'] = 'error';\n    errors.push(`UIWatcher: ${e}`);\n  }\n\n  try {\n    initThrottler();\n    state.enginesStatus['throttler'] = 'ready';\n    log('Ô£ô SuggestionThrottler ready');\n  } catch (e) {\n    state.enginesStatus['throttler'] = 'error';\n    errors.push(`SuggestionThrottler: ${e}`);\n  }\n\n  // Phase 3: Assistance\n  try {\n    initExplanationEngine();\n    state.enginesStatus['explanation'] = 'ready';\n    log('Ô£ô ExplanationEngine ready');\n  } catch (e) {\n    state.enginesStatus['explanation'] = 'error';\n    errors.push(`ExplanationEngine: ${e}`);\n  }\n\n  try {\n    initBiddingAssistant();\n    state.enginesStatus['bidding'] = 'ready';\n    log('Ô£ô BiddingAssistant ready');\n  } catch (e) {\n    state.enginesStatus['bidding'] = 'error';\n    errors.push(`BiddingAssistant: ${e}`);\n  }\n\n  try {\n    initTutorialEngine();\n    state.enginesStatus['tutorial'] = 'ready';\n    log('Ô£ô TutorialEngine ready');\n  } catch (e) {\n    state.enginesStatus['tutorial'] = 'error';\n    errors.push(`TutorialEngine: ${e}`);\n  }\n\n  try {\n    initTipEngine();\n    state.enginesStatus['tipEngine'] = 'ready';\n    log('Ô£ô TipEngine ready');\n  } catch (e) {\n    state.enginesStatus['tipEngine'] = 'error';\n    errors.push(`TipEngine: ${e}`);\n  }\n\n  // Phase 4: Learning\n  if (config.enableLearning) {\n    try {\n      await initFeedbackLoop(userId);\n      state.enginesStatus['feedbackLoop'] = 'ready';\n      log('Ô£ô FeedbackLoop ready');\n    } catch (e) {\n      state.enginesStatus['feedbackLoop'] = 'error';\n      errors.push(`FeedbackLoop: ${e}`);\n    }\n\n    try {\n      await initPatternLearning(userId);\n      state.enginesStatus['patternLearning'] = 'ready';\n      log('Ô£ô PatternLearning ready');\n    } catch (e) {\n      state.enginesStatus['patternLearning'] = 'error';\n      errors.push(`PatternLearning: ${e}`);\n    }\n\n    try {\n      await initPersonalization(userId);\n      state.enginesStatus['personalization'] = 'ready';\n      log('Ô£ô Personalization ready');\n    } catch (e) {\n      state.enginesStatus['personalization'] = 'error';\n      errors.push(`Personalization: ${e}`);\n    }\n  }\n\n  // Phase 5: Intelligence\n  if (config.enablePrediction) {\n    try {\n      initNLPProcessor();\n      state.enginesStatus['nlp'] = 'ready';\n      log('Ô£ô NLPProcessor ready');\n    } catch (e) {\n      state.enginesStatus['nlp'] = 'error';\n      errors.push(`NLPProcessor: ${e}`);\n    }\n\n    try {\n      initPredictiveEngine();\n      state.enginesStatus['predictive'] = 'ready';\n      log('Ô£ô PredictiveEngine ready');\n    } catch (e) {\n      state.enginesStatus['predictive'] = 'error';\n      errors.push(`PredictiveEngine: ${e}`);\n    }\n\n    try {\n      initProactiveAssistant();\n      state.enginesStatus['proactive'] = 'ready';\n      log('Ô£ô ProactiveAssistant ready');\n    } catch (e) {\n      state.enginesStatus['proactive'] = 'error';\n      errors.push(`ProactiveAssistant: ${e}`);\n    }\n  }\n\n  // Setup event routing\n  setupEventRouting();\n\n  // Start suggestion loop\n  if (config.enableProactiveSuggestions) {\n    startSuggestionLoop();\n  }\n\n  state.initialized = true;\n  state.enabled = config.enableCoPilot;\n\n  const readyCount = Object.values(state.enginesStatus).filter((s) => s === 'ready').length;\n  const totalCount = Object.keys(state.enginesStatus).length;\n\n  log(`Mode Deus initialized: ${readyCount}/${totalCount} engines ready`);\n\n  // Emit initialization event\n  eventBus.emit(\n    'system:init',\n    {\n      component: 'ModeDeus',\n      success: errors.length === 0,\n      enginesReady: readyCount,\n      enginesTotal: totalCount,\n    },\n    { source: 'mode-deus-orchestrator' }\n  );\n\n  return {\n    success: errors.length === 0,\n    errors,\n  };\n}\n\n/**\n * Desliga o Modo Deus\n */\nexport function shutdownModeDeus(): void {\n  if (!state.initialized) {return;}\n\n  log('Shutting down Mode Deus...');\n\n  // Stop suggestion loop\n  if (suggestionIntervalId) {\n    clearInterval(suggestionIntervalId);\n    suggestionIntervalId = null;\n  }\n\n  // Reset state\n  state.initialized = false;\n  state.enabled = false;\n  state.enginesStatus = {};\n\n  // Emit shutdown event\n  eventBus.emit(\n    'system:shutdown',\n    { component: 'ModeDeus' },\n    { source: 'mode-deus-orchestrator' }\n  );\n\n  log('Mode Deus shutdown complete');\n}\n\n// =============================================================================\n// CORE PROCESSING\n// =============================================================================\n\n/**\n * Processa contexto e gera sugest├Áes coordenadas\n */\nexport async function process(context: ProcessingContext): Promise<ProcessingResult> {\n  if (!state.initialized || !state.enabled) {\n    return { suggestions: [], predictions: [], insights: [], shouldShowAssistance: false };\n  }\n\n  const suggestions: UserSuggestion[] = [];\n  const insights: string[] = [];\n\n  // Update current screen\n  state.currentScreen = context.screen;\n  updateUserContext({ currentScreen: context.screen });\n\n  // 1. Process user input with NLP (if provided)\n  if (context.userInput && state.enginesStatus['nlp'] === 'ready') {\n    const nlpResult = analyzeText(context.userInput);\n\n    if (nlpResult.confidence > 0.5 && nlpResult.suggestedAction) {\n      insights.push(`Intent: ${nlpResult.intent} (${Math.round(nlpResult.confidence * 100)}%)`);\n    }\n\n    // Generate suggestion from NLP\n    if (nlpResult.intent !== 'unknown') {\n      const nlpSuggestion = createSuggestionFromIntent(nlpResult);\n      if (nlpSuggestion) {\n        suggestions.push(nlpSuggestion);\n      }\n    }\n  }\n\n  // 2. Get predictions\n  const predictions = state.enginesStatus['predictive'] === 'ready'\n    ? getCurrentPredictions().map((p) => ({ action: p.action, probability: p.probability }))\n    : [];\n\n  // 3. Check abandonment risk\n  if (state.enginesStatus['predictive'] === 'ready') {\n    const risk = calculateAbandonmentRisk();\n    if (risk.level === 'high' || risk.level === 'critical') {\n      insights.push(`Abandonment risk: ${risk.level} (${risk.score}%)`);\n    }\n  }\n\n  // 4. Evaluate proactive triggers\n  let shouldShowAssistance = false;\n  if (state.enginesStatus['proactive'] === 'ready') {\n    const triggerContext = buildTriggerContext(context);\n    const assistances = evaluateTriggers(triggerContext);\n\n    if (assistances.length > 0) {\n      // Check throttling - assistances are already Suggestion objects\n      const throttleResult = canShowSuggestion(assistances[0] as unknown as Suggestion);\n      if (throttleResult.allowed) {\n        showAssistance(assistances[0]);\n        shouldShowAssistance = true;\n      }\n    }\n  }\n\n  // 5. Personalize suggestions\n  if (state.enginesStatus['personalization'] === 'ready') {\n    for (let i = 0; i < suggestions.length; i++) {\n      suggestions[i] = personalizeSuggestion(suggestions[i], {\n        currentScreen: context.screen,\n      });\n    }\n  }\n\n  // 6. Add suggestions to Co-Pilot\n  for (const suggestion of suggestions) {\n    const throttleResult = canShowSuggestion(suggestion as unknown as Suggestion);\n    if (throttleResult.allowed) {\n      addSuggestion(suggestion);\n      recordSuggestionShown(suggestion as unknown as Suggestion);\n    }\n  }\n\n  return {\n    suggestions,\n    predictions,\n    insights,\n    shouldShowAssistance,\n  };\n}\n\n/**\n * Processa navega├º├úo\n */\nexport function handleNavigation(from: string, to: string): void {\n  if (!state.initialized) {return;}\n\n  state.currentScreen = to;\n\n  // Emit navigation event\n  eventBus.emit(\n    'user:navigation',\n    { from, to },\n    { source: 'mode-deus-orchestrator' }\n  );\n\n  // Process new screen context\n  process({ screen: to, action: 'navigate' }).catch((err) => {\n    log(`Error processing navigation: ${err}`);\n  });\n}\n\n/**\n * Processa input do usu├írio (ex: barra de busca, chat)\n */\nexport async function handleUserInput(input: string): Promise<UserSuggestion[]> {\n  if (!state.initialized || !input.trim()) {return [];}\n\n  const result = await process({\n    screen: state.currentScreen,\n    userInput: input,\n  });\n\n  return result.suggestions;\n}\n\n// =============================================================================\n// SUGGESTION GENERATION\n// =============================================================================\n\n/**\n * Gera sugest├Áes combinadas de todas as fontes\n */\nexport function generateCombinedSuggestions(): UserSuggestion[] {\n  if (!state.initialized || !state.enabled) {return [];}\n\n  const suggestions: UserSuggestion[] = [];\n\n  // 1. Get user context\n  const userContext = getUserContext();\n  const skillLevel = userContext.skillLevel;\n\n  // 2. Tutorial suggestions for beginners\n  if (skillLevel === 'beginner' && state.enginesStatus['tutorial'] === 'ready') {\n    const tutorialSuggestions = suggestTutorials(userContext);\n    if (tutorialSuggestions.length > 0) {\n      const tutSugg = tutorialSuggestions[0];\n      suggestions.push({\n        id: `tutorial-${Date.now()}`,\n        type: 'tutorial',\n        category: tutSugg.category || 'calculation',\n        title: tutSugg.title || 'Tutorial',\n        message: tutSugg.message || `Quer aprender mais?`,\n        priority: 'medium',\n        context: { screen: state.currentScreen },\n        metadata: {\n          createdAt: Date.now(),\n          expiresAt: Date.now() + 300000,\n          source: 'tutorial-engine',\n          confidence: 0.8,\n        },\n        status: 'pending',\n      } as UserSuggestion);\n    }\n  }\n\n  // 3. Smart shortcuts from predictions\n  if (state.enginesStatus['predictive'] === 'ready') {\n    const shortcuts = suggestSmartShortcuts();\n    for (const shortcut of shortcuts.slice(0, 2)) {\n      suggestions.push({\n        id: `shortcut-${Date.now()}-${Math.random()}`,\n        type: 'optimization',\n        category: 'calculation',\n        title: shortcut.label,\n        message: shortcut.label,\n        priority: 'medium',\n        context: { data: { reason: shortcut.reason, to: shortcut.action } },\n        actions: [{\n          id: `action-${Date.now()}`,\n          label: shortcut.label,\n          type: 'primary',\n        }],\n        metadata: {\n          createdAt: Date.now(),\n          expiresAt: Date.now() + 120000,\n          source: 'predictive-engine',\n          confidence: 0.7,\n        },\n        status: 'pending',\n      } as UserSuggestion);\n    }\n  }\n\n  // 4. Contextual explanations\n  if (state.enginesStatus['explanation'] === 'ready' && skillLevel !== 'expert') {\n    const conceptsForScreen: Record<string, { category: string; topic: string }> = {\n      'calculator/markup': { category: 'calculation', topic: 'markup_vs_margin' },\n      'calculator/margin': { category: 'calculation', topic: 'markup_vs_margin' },\n      'calculator/bdi': { category: 'calculation', topic: 'bdi' },\n      'calculator/price': { category: 'pricing', topic: 'selling_price' },\n    };\n\n    const conceptData = conceptsForScreen[state.currentScreen];\n    if (conceptData) {\n      const explResult = generateExplanation(\n        { category: conceptData.category as ExplanationCategory, topic: conceptData.topic },\n        userContext\n      );\n      if (explResult) {\n        const explSugg = explanationToSuggestion(explResult);\n        suggestions.push({\n          ...explSugg,\n          id: `explanation-${Date.now()}`,\n        } as UserSuggestion);\n      }\n    }\n  }\n\n  // 5. Filter and sort\n  const priorityMap: Record<string, number> = { high: 3, medium: 2, low: 1 };\n  const filtered = suggestions\n    .filter((s) => {\n      const throttle = canShowSuggestion(s as unknown as Suggestion);\n      return throttle.allowed;\n    })\n    .sort((a, b) => (priorityMap[b.priority] || 0) - (priorityMap[a.priority] || 0))\n    .slice(0, 3);\n\n  return filtered;\n}\n\n// =============================================================================\n// STATUS & METRICS\n// =============================================================================\n\n/**\n * Retorna estado do orquestrador\n */\nexport function getOrchestratorState(): OrchestratorState {\n  return { ...state };\n}\n\n/**\n * Retorna m├®tricas consolidadas\n */\nexport function getConsolidatedMetrics(): {\n  session: { duration: number; screen: string };\n  user: { skillLevel: string; engagementScore: number };\n  suggestions: { shown: number; applied: number; rate: number };\n  predictions: { accuracy: number; count: number };\n  health: { enginesReady: number; enginesTotal: number };\n} {\n  const sessionDuration = Date.now() - state.sessionStartTime.getTime();\n\n  // User metrics\n  const profile = state.enginesStatus['personalization'] === 'ready'\n    ? getProfile()\n    : { skillLevel: 'unknown', engagementScore: 0 };\n\n  // Suggestion metrics\n  const feedbackMetrics = state.enginesStatus['feedbackLoop'] === 'ready'\n    ? getFeedbackMetrics()\n    : { totalFeedback: 0, applicationRate: 0 };\n\n  // CoPilot state\n  const copilotState = getCoPilotState();\n\n  // Engine health\n  const readyCount = Object.values(state.enginesStatus).filter((s) => s === 'ready').length;\n  const totalCount = Object.keys(state.enginesStatus).length;\n\n  return {\n    session: {\n      duration: sessionDuration,\n      screen: state.currentScreen,\n    },\n    user: {\n      skillLevel: profile.skillLevel,\n      engagementScore: profile.engagementScore,\n    },\n    suggestions: {\n      shown: copilotState.totalShown,\n      applied: feedbackMetrics.totalFeedback,\n      rate: feedbackMetrics.applicationRate,\n    },\n    predictions: {\n      accuracy: feedbackMetrics.applicationRate || 0.75,\n      count: getCurrentPredictions().length,\n    },\n    health: {\n      enginesReady: readyCount,\n      enginesTotal: totalCount,\n    },\n  };\n}\n\n/**\n * Retorna insights do sistema\n */\nexport function getSystemInsights(): string[] {\n  const insights: string[] = [];\n\n  // Feedback effectiveness\n  if (state.enginesStatus['feedbackLoop'] === 'ready') {\n    const effectiveness = analyzeEffectiveness();\n    if (effectiveness.trend === 'declining') {\n      insights.push('­ƒôë Efetividade das sugest├Áes em decl├¡nio');\n    } else if (effectiveness.trend === 'improving') {\n      insights.push('­ƒôê Sugest├Áes est├úo mais efetivas');\n    }\n  }\n\n  // Pattern insights\n  if (state.enginesStatus['patternLearning'] === 'ready') {\n    const typicalTime = getTypicalUsageTime();\n    if (typicalTime) {\n      insights.push(`ÔÅ░ Hor├írio t├¡pico de uso: ${typicalTime}`);\n    }\n\n    const mostUsed = getMostUsedCalculators();\n    if (mostUsed.length > 0) {\n      insights.push(`­ƒôè Calculadora mais usada: ${mostUsed[0]}`);\n    }\n  }\n\n  // Abandonment risk\n  if (state.enginesStatus['predictive'] === 'ready') {\n    const risk = calculateAbandonmentRisk();\n    if (risk.level === 'high' || risk.level === 'critical') {\n      insights.push(`ÔÜá´©Å Risco de abandono: ${risk.level}`);\n    }\n  }\n\n  return insights;\n}\n\n// =============================================================================\n// CONTROL\n// =============================================================================\n\n/**\n * Verifica se o Modo Deus est├í inicializado\n */\nexport function isInitialized(): boolean {\n  return state.initialized;\n}\n\n/**\n * Tipo para status de engine (simplificado)\n */\nexport type EngineStatusValue = 'pending' | 'ready' | 'error';\n\n/**\n * Retorna status de todos os engines\n */\nexport function getEngineStatuses(): Record<string, EngineStatusValue> {\n  return { ...state.enginesStatus };\n}\n\n/**\n * Retorna configura├º├úo atual\n */\nexport function getModeDeusConfig(): OrchestratorConfig {\n  return { ...config };\n}\n\n/**\n * Habilita/desabilita Modo Deus\n */\nexport function setModeDeusEnabled(enabled: boolean): void {\n  state.enabled = enabled;\n  setCoPilotEnabled(enabled);\n\n  if (enabled && !suggestionIntervalId && config.enableProactiveSuggestions) {\n    startSuggestionLoop();\n  } else if (!enabled && suggestionIntervalId) {\n    clearInterval(suggestionIntervalId);\n    suggestionIntervalId = null;\n  }\n}\n\n/**\n * Atualiza configura├º├úo\n */\nexport function updateOrchestratorConfig(newConfig: Partial<OrchestratorConfig>): void {\n  config = { ...config, ...newConfig };\n}\n\n// =============================================================================\n// HELPERS\n// =============================================================================\n\nfunction log(message: string): void {\n  if (config.debugMode) {\n    structuredLogger.info(message, { module: 'ModeDeus' });\n  }\n}\n\nfunction setupEventRouting(): void {\n  // Route user events to appropriate engines\n  eventBus.on('user:action', (_event) => {\n    if (state.enginesStatus['patternLearning'] === 'ready') {\n      // Pattern learning handles this via its own listener\n    }\n  });\n\n  eventBus.on('user:error', () => {\n    // Could trigger recovery assistance\n    if (state.enginesStatus['proactive'] === 'ready') {\n      const triggerContext = buildTriggerContext({ screen: state.currentScreen });\n      triggerContext.errorCount++;\n      evaluateTriggers(triggerContext);\n    }\n  });\n}\n\nfunction startSuggestionLoop(): void {\n  if (suggestionIntervalId) {return;}\n\n  suggestionIntervalId = setInterval(() => {\n    if (!state.enabled) {return;}\n\n    // Check if we should show proactive suggestions\n    const { show } = shouldShowProactiveSuggestion({\n      currentScreen: state.currentScreen,\n    });\n\n    if (show) {\n      const suggestions = generateCombinedSuggestions();\n      for (const suggestion of suggestions) {\n        addSuggestion(suggestion);\n      }\n    }\n  }, config.suggestionInterval);\n}\n\nfunction buildTriggerContext(context: ProcessingContext): {\n  currentScreen: string;\n  sessionDuration: number;\n  idleTime: number;\n  errorCount: number;\n  lastAction: string;\n  userSkillLevel: string;\n  recentActions: string[];\n  abandonmentRisk: number;\n  timeOfDay: string;\n} {\n  const sessionDuration = Date.now() - state.sessionStartTime.getTime();\n  const userContext = getUserContext();\n  const uiState = getUIActivityState();\n  const risk = state.enginesStatus['predictive'] === 'ready'\n    ? calculateAbandonmentRisk().score\n    : 0;\n\n  const hour = new Date().getHours();\n  let timeOfDay: string;\n  if (hour >= 5 && hour < 12) {timeOfDay = 'morning';}\n  else if (hour >= 12 && hour < 17) {timeOfDay = 'afternoon';}\n  else if (hour >= 17 && hour < 21) {timeOfDay = 'evening';}\n  else {timeOfDay = 'night';}\n\n  return {\n    currentScreen: context.screen,\n    sessionDuration,\n    idleTime: uiState === 'idle' ? 60000 : 0,\n    errorCount: 0, // userContext doesn't have behaviorMetrics\n    lastAction: context.action ?? '',\n    userSkillLevel: userContext.skillLevel,\n    recentActions: [],\n    abandonmentRisk: risk,\n    timeOfDay,\n  };\n}\n\nfunction createSuggestionFromIntent(nlpResult: {\n  intent: string;\n  confidence: number;\n  suggestedAction?: string;\n}): UserSuggestion | null {\n  const intentMessages: Record<string, { message: string; type: UserSuggestion['type'] }> = {\n    calculate_price: { message: 'Posso ajudar a calcular o pre├ºo de venda', type: 'hint' },\n    calculate_markup: { message: 'Vamos calcular o markup ideal?', type: 'hint' },\n    calculate_margin: { message: 'Quer calcular a margem de lucro?', type: 'hint' },\n    calculate_bdi: { message: 'Posso ajudar com o c├ílculo de BDI', type: 'hint' },\n    understand_concept: { message: 'Posso explicar esse conceito para voc├¬', type: 'explanation' },\n    get_help: { message: 'Estou aqui para ajudar!', type: 'hint' },\n  };\n\n  const mapping = intentMessages[nlpResult.intent];\n  if (!mapping) {return null;}\n\n  return {\n    id: `nlp-${Date.now()}`,\n    type: mapping.type,\n    category: 'calculation',\n    title: mapping.message,\n    message: mapping.message,\n    priority: 'medium',\n    context: { data: { intent: nlpResult.intent } },\n    actions: nlpResult.suggestedAction ? [{\n      id: `action-${Date.now()}`,\n      label: 'Ir',\n      type: 'primary',\n    }] : undefined,\n    status: 'pending',\n    metadata: {\n      createdAt: Date.now(),\n      expiresAt: Date.now() + 60000,\n      source: 'nlp-processor',\n      confidence: nlpResult.confidence,\n    },\n  };\n}\n\n// =============================================================================\n// EXPORTS\n// =============================================================================\n\nexport const modeDeusOrchestrator = {\n  init: initModeDeus,\n  shutdown: shutdownModeDeus,\n  process,\n  handleNavigation,\n  handleUserInput,\n  generateSuggestions: generateCombinedSuggestions,\n  getState: getOrchestratorState,\n  getMetrics: getConsolidatedMetrics,\n  getInsights: getSystemInsights,\n  setEnabled: setModeDeusEnabled,\n  updateConfig: updateOrchestratorConfig,\n};\n\nexport default modeDeusOrchestrator;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\modelRouter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\proactiveAnalysis.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getEventHistory' is defined but never used. Allowed unused vars must match /^_/u.","line":9,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[365,368],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[365,368],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[578,581],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[578,581],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentScreen' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":22,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":22,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1725,1728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1725,1728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":61,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1829,1832],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1829,1832],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":99,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":99,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2788,2791],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2788,2791],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2890,2893],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2890,2893],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":114,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3141,3144],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3141,3144],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":118,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3245,3248],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3245,3248],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":143,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3915,3918],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3915,3918],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":147,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":147,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4020,4023],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4020,4023],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":165,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":165,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4540,4543],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4540,4543],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":169,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":169,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4644,4647],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4644,4647],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":192,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":192,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5182,5185],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5182,5185],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":196,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":196,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5288,5291],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5288,5291],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Proactive Analysis Functions\r\n *\r\n * Fun├º├Áes de an├ílise proativa para o aiOrchestrator.\r\n * Avaliam contexto e geram insights de forma aut├┤noma.\r\n */\r\n\r\nimport { getContext, getCurrentScreen } from './contextStore';\r\nimport { getEventHistory } from './eventBus';\r\n\r\nexport interface ProactiveAnalysisResult {\r\n  shouldGenerateInsight: boolean;\r\n  insights: any[];\r\n}\r\n\r\n/**\r\n * Avalia regras proativas com base no contexto atual\r\n * Chamada pelo proactiveEngine\r\n */\r\nexport async function evaluateProactiveRules(): Promise<ProactiveAnalysisResult> {\r\n  const insights: any[] = [];\r\n  const currentScreen = getCurrentScreen();\r\n\r\n  // Dashboard - Tend├¬ncias perigosas\r\n  const dashboardInsights = await evaluateDashboardProactive();\r\n  insights.push(...dashboardInsights);\r\n\r\n  // Hist├│rico - Padr├Áes de erro\r\n  const historyInsights = await evaluateHistoryProactive();\r\n  insights.push(...historyInsights);\r\n\r\n  // Lote Inteligente - Problemas estruturais\r\n  const lotInsights = await evaluateLotProactive();\r\n  insights.push(...lotInsights);\r\n\r\n  // IA de Precifica├º├úo - Sugest├Áes ignoradas\r\n  const pricingInsights = await evaluatePricingAIProactive();\r\n  insights.push(...pricingInsights);\r\n\r\n  // Analytics - Comportamento anormal\r\n  const analyticsInsights = await evaluateAnalyticsProactive();\r\n  insights.push(...analyticsInsights);\r\n\r\n  // Marketplace - Taxas anormais\r\n  const marketplaceInsights = await evaluateMarketplaceProactive();\r\n  insights.push(...marketplaceInsights);\r\n\r\n  return {\r\n    shouldGenerateInsight: insights.length > 0,\r\n    insights: insights.filter(i => i !== null),\r\n  };\r\n}\r\n\r\n/**\r\n * Avalia regras proativas do Dashboard\r\n */\r\nasync function evaluateDashboardProactive(): Promise<any[]> {\r\n  const context = getContext('dashboard');\r\n  if (!context) {return [];}\r\n\r\n  const insights: any[] = [];\r\n\r\n  // Verificar queda de lucro\r\n  if (\r\n    context.data?.variacaoLucro !== undefined &&\r\n    context.data.variacaoLucro < -10\r\n  ) {\r\n    insights.push({\r\n      type: 'proactive',\r\n      severity: 'high',\r\n      message: `Lucro caiu ${Math.abs(context.data.variacaoLucro).toFixed(\r\n        1\r\n      )}% recentemente. Revise custos e precifica├º├úo.`,\r\n      sourceModule: 'dashboard',\r\n    });\r\n  }\r\n\r\n  // Verificar tempo economizado alto\r\n  if (\r\n    context.data?.tempoEconomizado !== undefined &&\r\n    context.data.tempoEconomizado > 300\r\n  ) {\r\n    insights.push({\r\n      type: 'proactive',\r\n      severity: 'low',\r\n      message: `Voc├¬ economizou ${(context.data.tempoEconomizado / 60).toFixed(\r\n        0\r\n      )} horas com a IA. Continue usando automa├º├Áes.`,\r\n      sourceModule: 'dashboard',\r\n    });\r\n  }\r\n\r\n  return insights;\r\n}\r\n\r\n/**\r\n * Avalia regras proativas do Hist├│rico\r\n */\r\nasync function evaluateHistoryProactive(): Promise<any[]> {\r\n  const context = getContext('history');\r\n  if (!context) {return [];}\r\n\r\n  const insights: any[] = [];\r\n\r\n  // TODO: Implementar detec├º├úo de padr├Áes repetidos\r\n  // Verificar erros recorrentes de margem baixa\r\n\r\n  return insights;\r\n}\r\n\r\n/**\r\n * Avalia regras proativas do Lote Inteligente\r\n */\r\nasync function evaluateLotProactive(): Promise<any[]> {\r\n  const context = getContext('smart_lot');\r\n  if (!context) {return [];}\r\n\r\n  const insights: any[] = [];\r\n\r\n  // Verificar produtos cr├¡ticos\r\n  if (context.data?.produtosCriticos && context.data?.totalProdutos) {\r\n    const percentual =\r\n      (context.data.produtosCriticos / context.data.totalProdutos) * 100;\r\n\r\n    if (percentual > 30) {\r\n      insights.push({\r\n        type: 'proactive',\r\n        severity: 'high',\r\n        message: `${percentual.toFixed(\r\n          0\r\n        )}% dos produtos no lote t├¬m margem cr├¡tica. Otimiza├º├úo em massa recomendada.`,\r\n        sourceModule: 'smart_lot',\r\n      });\r\n    }\r\n  }\r\n\r\n  return insights;\r\n}\r\n\r\n/**\r\n * Avalia regras proativas da IA de Precifica├º├úo\r\n */\r\nasync function evaluatePricingAIProactive(): Promise<any[]> {\r\n  const context = getContext('pricing_ai');\r\n  if (!context) {return [];}\r\n\r\n  const insights: any[] = [];\r\n\r\n  // Verificar sugest├Áes pendentes\r\n  if (context.data?.sugestoesPendentes && context.data.sugestoesPendentes > 5) {\r\n    insights.push({\r\n      type: 'proactive',\r\n      severity: 'medium',\r\n      message: `${context.data.sugestoesPendentes} sugest├Áes de precifica├º├úo aguardando revis├úo. Aplic├í-las pode aumentar margem.`,\r\n      sourceModule: 'pricing_ai',\r\n    });\r\n  }\r\n\r\n  return insights;\r\n}\r\n\r\n/**\r\n * Avalia regras proativas do Analytics\r\n */\r\nasync function evaluateAnalyticsProactive(): Promise<any[]> {\r\n  const context = getContext('analytics');\r\n  if (!context) {return [];}\r\n\r\n  const insights: any[] = [];\r\n\r\n  // Verificar queda abrupta\r\n  if (\r\n    context.data?.quedaDiaria !== undefined &&\r\n    context.data.quedaDiaria > 15\r\n  ) {\r\n    insights.push({\r\n      type: 'proactive',\r\n      severity: 'critical',\r\n      message: `Queda abrupta de ${context.data.quedaDiaria.toFixed(\r\n        1\r\n      )}% na margem hoje. A├º├úo imediata necess├íria.`,\r\n      sourceModule: 'analytics',\r\n    });\r\n  }\r\n\r\n  return insights;\r\n}\r\n\r\n/**\r\n * Avalia regras proativas do Marketplace\r\n */\r\nasync function evaluateMarketplaceProactive(): Promise<any[]> {\r\n  const context = getContext('marketplace');\r\n  if (!context) {return [];}\r\n\r\n  const insights: any[] = [];\r\n\r\n  // Verificar taxas altas\r\n  if (context.data?.taxaAtual !== undefined && context.data.taxaAtual > 20) {\r\n    insights.push({\r\n      type: 'proactive',\r\n      severity: 'high',\r\n      message: `Taxa de marketplace de ${context.data.taxaAtual.toFixed(\r\n        1\r\n      )}% est├í impactando significativamente o lucro.`,\r\n      sourceModule: 'marketplace',\r\n    });\r\n  }\r\n\r\n  return insights;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\proactiveEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getEventHistory' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":36},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getContextStats' is defined but never used. Allowed unused vars must match /^_/u.","line":9,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getCurrentScreen' is defined but never used. Allowed unused vars must match /^_/u.","line":9,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":55},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":98,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":98,"endColumn":14,"suggestions":[{"fix":{"range":[2387,2568],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":337,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":337,"endColumn":20,"suggestions":[{"fix":{"range":[9598,9665],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":347,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":347,"endColumn":17,"suggestions":[{"fix":{"range":[9779,9831],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":361,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":361,"endColumn":14,"suggestions":[{"fix":{"range":[10083,10123],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":378,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":378,"endColumn":14,"suggestions":[{"fix":{"range":[10359,10399],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Proactive Engine\r\n *\r\n * Motor de intelig├¬ncia proativa que executa an├ílises peri├│dicas\r\n * e gera insights de forma aut├┤noma.\r\n */\r\n\r\nimport { emitEvent, getEventHistory } from './eventBus';\r\nimport { getContext, getContextStats, getCurrentScreen } from './contextStore';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\ninterface ProactiveRule {\r\n  id: string;\r\n  name: string;\r\n  check: () => Promise<ProactiveInsight | null>;\r\n  cooldownMs: number;\r\n  lastExecuted?: number;\r\n}\r\n\r\ninterface ProactiveInsight {\r\n  severity: 'critical' | 'high' | 'medium' | 'low';\r\n  title: string;\r\n  message: string;\r\n  suggestion?: string;\r\n  values?: Record<string, number>;\r\n  sourceModule: string;\r\n}\r\n\r\n// Armazenamento de timestamps de ├║ltima execu├º├úo\r\nconst ruleExecutionTimestamps: Map<string, number> = new Map();\r\n\r\n// Timer de verifica├º├úo peri├│dica\r\nlet proactiveTimer: NodeJS.Timeout | null = null;\r\nlet isRunning = false;\r\n\r\n// Intervalo padr├úo de verifica├º├úo (30 segundos)\r\nconst CHECK_INTERVAL_MS = 30000;\r\n\r\n/**\r\n * Verifica se uma regra pode ser executada (cooldown)\r\n */\r\nfunction canExecuteRule(ruleId: string, cooldownMs: number): boolean {\r\n  const lastExecution = ruleExecutionTimestamps.get(ruleId);\r\n\r\n  if (!lastExecution) {\r\n    return true;\r\n  }\r\n\r\n  const timeSinceLastExecution = Date.now() - lastExecution;\r\n  return timeSinceLastExecution >= cooldownMs;\r\n}\r\n\r\n/**\r\n * Registra execu├º├úo de uma regra\r\n */\r\nfunction markRuleExecuted(ruleId: string): void {\r\n  ruleExecutionTimestamps.set(ruleId, Date.now());\r\n}\r\n\r\n/**\r\n * Emite um insight proativo\r\n */\r\nfunction emitProactiveInsight(insight: ProactiveInsight): void {\r\n  const insightPayload = {\r\n    id: uuidv4(),\r\n    severity: insight.severity,\r\n    title: insight.title,\r\n    message: insight.message,\r\n    suggestion: insight.suggestion,\r\n    values: insight.values || {},\r\n    sourceModule: insight.sourceModule,\r\n    eventReference: {\r\n      tipo: 'proactive:analysis',\r\n      timestamp: Date.now(),\r\n    },\r\n    timestamp: Date.now(),\r\n  };\r\n\r\n  // Emitir insight\r\n  emitEvent('insight:generated', insightPayload, {\r\n    source: 'proactiveEngine',\r\n    priority: 8,\r\n    metadata: {\r\n      proactive: true,\r\n    },\r\n  });\r\n\r\n  // Emitir evento para UI\r\n  emitEvent(\r\n    'ui:displayInsight',\r\n    { insightId: insightPayload.id },\r\n    {\r\n      source: 'proactiveEngine',\r\n      priority: 7,\r\n    }\r\n  );\r\n\r\n  console.log('Proactive insight generated:', {\r\n    id: insightPayload.id,\r\n    severity: insight.severity,\r\n    title: insight.title,\r\n    sourceModule: insight.sourceModule,\r\n  });\r\n}\r\n\r\n/**\r\n * Regras proativas\r\n */\r\nconst proactiveRules: ProactiveRule[] = [\r\n  // Dashboard - Tend├¬ncias perigosas\r\n  {\r\n    id: 'dashboard_profit_decline',\r\n    name: 'Dashboard - Queda de lucro consecutiva',\r\n    cooldownMs: 600000, // 10 minutos\r\n    check: async () => {\r\n      const context = getContext('dashboard');\r\n      if (!context?.data?.lucroOtimizado) {return null;}\r\n\r\n      // TODO: Implementar verifica├º├úo de queda consecutiva\r\n      // Verificar se lucro caiu por 3 per├¡odos consecutivos\r\n\r\n      return null;\r\n    },\r\n  },\r\n\r\n  {\r\n    id: 'dashboard_margin_drop',\r\n    name: 'Dashboard - Queda de margem semanal',\r\n    cooldownMs: 600000,\r\n    check: async () => {\r\n      const context = getContext('dashboard');\r\n      if (!context?.data?.variacaoMargem) {return null;}\r\n\r\n      const variacaoMargem = context.data.variacaoMargem;\r\n\r\n      if (variacaoMargem < -10) {\r\n        return {\r\n          severity: 'high',\r\n          title: 'Queda significativa de margem',\r\n          message: `Margem caiu ${Math.abs(variacaoMargem).toFixed(\r\n            1\r\n          )}% na ├║ltima semana. Revise sua estrat├®gia de precifica├º├úo.`,\r\n          suggestion: 'Analise custos e ajuste pre├ºos para recuperar margem',\r\n          values: { variacaoMargem },\r\n          sourceModule: 'dashboard',\r\n        };\r\n      }\r\n\r\n      return null;\r\n    },\r\n  },\r\n\r\n  // Hist├│rico - Padr├Áes de erro\r\n  {\r\n    id: 'history_repeated_low_margin',\r\n    name: 'Hist├│rico - Margem baixa repetida',\r\n    cooldownMs: 1800000, // 30 minutos\r\n    check: async () => {\r\n      const context = getContext('history');\r\n      if (!context?.data?.padroesRepetidos) {return null;}\r\n\r\n      // TODO: Implementar detec├º├úo de padr├Áes repetidos\r\n      // Verificar se mesmo erro de margem baixa em 3+ dias\r\n\r\n      return null;\r\n    },\r\n  },\r\n\r\n  // Lote Inteligente - Problemas estruturais\r\n  {\r\n    id: 'lot_high_low_margin_products',\r\n    name: 'Lote - Muitos produtos com margem baixa',\r\n    cooldownMs: 900000, // 15 minutos\r\n    check: async () => {\r\n      const context = getContext('smart_lot');\r\n      if (!context?.data?.produtosCriticos) {return null;}\r\n\r\n      const totalProdutos = context.data.totalProdutos || 0;\r\n      const produtosCriticos = context.data.produtosCriticos || 0;\r\n\r\n      if (totalProdutos > 0) {\r\n        const percentualCritico = (produtosCriticos / totalProdutos) * 100;\r\n\r\n        if (percentualCritico > 40) {\r\n          return {\r\n            severity: 'high',\r\n            title: 'Lote com muitos produtos cr├¡ticos',\r\n            message: `${percentualCritico.toFixed(\r\n              0\r\n            )}% dos produtos no lote t├¬m margem abaixo de 10%. Considere otimiza├º├úo em massa.`,\r\n            suggestion: 'Use a IA de Precifica├º├úo para otimizar todo o lote',\r\n            values: { percentualCritico, produtosCriticos, totalProdutos },\r\n            sourceModule: 'smart_lot',\r\n          };\r\n        }\r\n      }\r\n\r\n      return null;\r\n    },\r\n  },\r\n\r\n  {\r\n    id: 'lot_low_markup',\r\n    name: 'Lote - Markup m├®dio baixo',\r\n    cooldownMs: 900000,\r\n    check: async () => {\r\n      const context = getContext('smart_lot');\r\n      if (!context?.data?.markupMedio) {return null;}\r\n\r\n      const markupMedio = context.data.markupMedio;\r\n\r\n      if (markupMedio < 15) {\r\n        return {\r\n          severity: 'medium',\r\n          title: 'Markup m├®dio do lote est├í baixo',\r\n          message: `Markup m├®dio de ${markupMedio.toFixed(\r\n            1\r\n          )}% pode n├úo cobrir custos operacionais. Recomendamos pelo menos 20%.`,\r\n          suggestion: 'Ajuste pre├ºos em massa para aumentar markup',\r\n          values: { markupMedio },\r\n          sourceModule: 'smart_lot',\r\n        };\r\n      }\r\n\r\n      return null;\r\n    },\r\n  },\r\n\r\n  // IA de Precifica├º├úo - Sugest├Áes ignoradas\r\n  {\r\n    id: 'pricing_ai_ignored_suggestions',\r\n    name: 'IA Precifica├º├úo - Sugest├Áes n├úo aplicadas',\r\n    cooldownMs: 1800000,\r\n    check: async () => {\r\n      const context = getContext('pricing_ai');\r\n      if (!context?.data?.sugestoesPendentes) {return null;}\r\n\r\n      const sugestoesPendentes = context.data.sugestoesPendentes || 0;\r\n      const diasPendentes = context.data.diasPendentes || 0;\r\n\r\n      if (sugestoesPendentes > 5 && diasPendentes > 7) {\r\n        return {\r\n          severity: 'medium',\r\n          title: 'Sugest├Áes de precifica├º├úo pendentes',\r\n          message: `Voc├¬ tem ${sugestoesPendentes} sugest├Áes n├úo aplicadas h├í ${diasPendentes} dias. Revisar pode aumentar sua margem.`,\r\n          suggestion: 'Revise e aplique as sugest├Áes da IA',\r\n          values: { sugestoesPendentes, diasPendentes },\r\n          sourceModule: 'pricing_ai',\r\n        };\r\n      }\r\n\r\n      return null;\r\n    },\r\n  },\r\n\r\n  // Analytics - Comportamento anormal\r\n  {\r\n    id: 'analytics_margin_drop',\r\n    name: 'Analytics - Queda abrupta de margem',\r\n    cooldownMs: 600000,\r\n    check: async () => {\r\n      const context = getContext('analytics');\r\n      if (!context?.data?.quedaDiaria) {return null;}\r\n\r\n      const quedaDiaria = context.data.quedaDiaria;\r\n\r\n      if (quedaDiaria > 15) {\r\n        return {\r\n          severity: 'critical',\r\n          title: 'Queda abrupta de margem detectada',\r\n          message: `Margem caiu ${quedaDiaria.toFixed(\r\n            1\r\n          )}% hoje. Verifique custos e pre├ºos imediatamente.`,\r\n          suggestion: 'Investigue causas e ajuste precifica├º├úo urgentemente',\r\n          values: { quedaDiaria },\r\n          sourceModule: 'analytics',\r\n        };\r\n      }\r\n\r\n      return null;\r\n    },\r\n  },\r\n\r\n  // Marketplace - Taxas anormais\r\n  {\r\n    id: 'marketplace_high_fees',\r\n    name: 'Marketplace - Taxas elevadas',\r\n    cooldownMs: 1800000,\r\n    check: async () => {\r\n      const context = getContext('marketplace');\r\n      if (!context?.data?.taxaAtual) {return null;}\r\n\r\n      const taxaAtual = context.data.taxaAtual;\r\n      const taxaAnterior = context.data.taxaAnterior || taxaAtual;\r\n\r\n      if (taxaAtual > 20 || taxaAtual - taxaAnterior > 5) {\r\n        return {\r\n          severity: 'high',\r\n          title: 'Taxas de marketplace elevadas',\r\n          message: `Taxa atual de ${taxaAtual.toFixed(\r\n            1\r\n          )}% est├í impactando significativamente sua margem.`,\r\n          suggestion: 'Compare com outros marketplaces ou ajuste pre├ºos',\r\n          values: {\r\n            taxaAtual,\r\n            taxaAnterior,\r\n            variacao: taxaAtual - taxaAnterior,\r\n          },\r\n          sourceModule: 'marketplace',\r\n        };\r\n      }\r\n\r\n      return null;\r\n    },\r\n  },\r\n];\r\n\r\n/**\r\n * Executa verifica├º├úo de todas as regras proativas\r\n */\r\nasync function runProactiveChecks(): Promise<void> {\r\n  for (const rule of proactiveRules) {\r\n    try {\r\n      // Verificar cooldown\r\n      if (!canExecuteRule(rule.id, rule.cooldownMs)) {\r\n        continue;\r\n      }\r\n\r\n      // Executar regra\r\n      const insight = await rule.check();\r\n\r\n      if (insight) {\r\n        emitProactiveInsight(insight);\r\n        markRuleExecuted(rule.id);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error executing proactive rule ${rule.id}:`, error);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Inicia o motor proativo\r\n */\r\nexport function start(): void {\r\n  if (isRunning) {\r\n    console.warn('Proactive engine is already running');\r\n    return;\r\n  }\r\n\r\n  isRunning = true;\r\n\r\n  // Executar primeira verifica├º├úo imediatamente\r\n  runProactiveChecks();\r\n\r\n  // Configurar timer peri├│dico\r\n  proactiveTimer = setInterval(() => {\r\n    runProactiveChecks();\r\n  }, CHECK_INTERVAL_MS);\r\n\r\n  console.log('Proactive engine started');\r\n}\r\n\r\n/**\r\n * Para o motor proativo\r\n */\r\nexport function stop(): void {\r\n  if (!isRunning) {\r\n    return;\r\n  }\r\n\r\n  if (proactiveTimer) {\r\n    clearInterval(proactiveTimer);\r\n    proactiveTimer = null;\r\n  }\r\n\r\n  isRunning = false;\r\n  console.log('Proactive engine stopped');\r\n}\r\n\r\n/**\r\n * Verifica se o motor est├í rodando\r\n */\r\nexport function isActive(): boolean {\r\n  return isRunning;\r\n}\r\n\r\n/**\r\n * Obt├®m estat├¡sticas do motor proativo\r\n */\r\nexport function getProactiveStats() {\r\n  return {\r\n    isRunning,\r\n    totalRules: proactiveRules.length,\r\n    executionHistory: Array.from(ruleExecutionTimestamps.entries()).map(\r\n      ([ruleId, timestamp]) => ({\r\n        ruleId,\r\n        lastExecuted: timestamp,\r\n        timeSinceExecution: Date.now() - timestamp,\r\n      })\r\n    ),\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\screenContextHandlers.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'metadata' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":18,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":33},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":30,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":30,"endColumn":14,"suggestions":[{"fix":{"range":[841,937],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":53,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":53,"endColumn":14,"suggestions":[{"fix":{"range":[1402,1546],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Screen Context Handlers\r\n *\r\n * Handlers para eventos de contexto de tela.\r\n * Integram com o contextStore para manter estado atualizado.\r\n */\r\n\r\nimport type { AzuriaEvent } from './eventBus';\r\nimport { getCurrentScreen, setCurrentScreen, updateContext } from './contextStore';\r\nimport { extractContextForScreen } from '../context/contextExtractors';\r\n\r\n/**\r\n * Processa evento de mudan├ºa de tela\r\n */\r\nexport async function handleScreenChangedEvent(\r\n  event: AzuriaEvent\r\n): Promise<void> {\r\n  const { screen, path, metadata } = event.payload;\r\n\r\n  // Atualizar tela atual no context store\r\n  setCurrentScreen(screen);\r\n\r\n  // Tentar extrair contexto da nova tela\r\n  const extractedContext = extractContextForScreen(screen);\r\n  if (extractedContext) {\r\n    updateContext(screen, extractedContext.data);\r\n  }\r\n\r\n  // Log interno\r\n  console.log('Screen changed:', {\r\n    screen,\r\n    path,\r\n    timestamp: event.timestamp,\r\n  });\r\n\r\n  // TODO: Implementar an├ílise contextual baseada na tela\r\n  // TODO: Gerar insights espec├¡ficos do m├│dulo\r\n}\r\n\r\n/**\r\n * Processa evento de atualiza├º├úo de dados da tela\r\n */\r\nexport async function handleScreenDataUpdatedEvent(\r\n  event: AzuriaEvent\r\n): Promise<void> {\r\n  const { data, metadata } = event.payload;\r\n\r\n  const activeScreen = metadata?.screen || getCurrentScreen();\r\n  if (activeScreen && data) {\r\n    updateContext(activeScreen, data);\r\n  }\r\n\r\n  console.log('Screen data updated:', {\r\n    screen: activeScreen,\r\n    dataKeys: Object.keys(data || {}),\r\n    timestamp: event.timestamp,\r\n  });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\systemGovernanceWatcher.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'resetCounts' is defined but never used. Allowed unused vars must match /^_/u.","line":2,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { type AzuriaEvent, emitEvent, on } from './eventBus';\r\nimport { guardEventLoop, resetCounts } from '../engines/safetyAndReliabilityEngine';\r\n\r\nconst CRITICAL_EVENTS: Array<AzuriaEvent['tipo']> = [\r\n  'ai:consistency-warning',\r\n  'ai:system-drift',\r\n  'ai:dependency-gap',\r\n  'ai:temporal-anomaly',\r\n  'ai:coherence-warning',\r\n  'ai:governance-alert',\r\n];\r\n\r\nexport function initializeSystemGovernanceWatcher() {\r\n  CRITICAL_EVENTS.forEach(tipo => {\r\n    on(tipo, filterCritical);\r\n  });\r\n}\r\n\r\nfunction filterCritical(event: AzuriaEvent) {\r\n  if (!guardEventLoop(event.tipo)) {\r\n    emitEvent(\r\n      'ai:governance-alert',\r\n      { message: 'Loop prevenido em evento cr├¡tico', eventType: event.tipo },\r\n      { source: 'systemGovernanceWatcher', priority: 9 }\r\n    );\r\n    return;\r\n  }\r\n\r\n  // Pol├¡tica de \"conflito zero\": se drift + dependency gap simult├óneos, disparar alerta\r\n  if (event.tipo === 'ai:system-drift' || event.tipo === 'ai:dependency-gap') {\r\n    emitEvent(\r\n      'ai:governance-alert',\r\n      { message: 'Poss├¡vel conflito causal detectado', eventType: event.tipo },\r\n      { source: 'systemGovernanceWatcher', priority: 8 }\r\n    );\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\userModel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\watchers\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\watchers\\screenContextWatcher.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\watchers\\useAdvancedCalcWatcher.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\watchers\\useBidCalcWatcher.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\watchers\\useCalcWatcher.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\core\\watchers\\useTaxCalcWatcher.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\adaptiveActionsEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'feedback' is defined but never used. Allowed unused args must match /^_/u.","line":482,"column":56,"nodeType":null,"messageId":"unusedVar","endLine":482,"endColumn":64},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":531,"column":54,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":531,"endColumn":68},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used. Allowed unused caught errors must match /^_/u.","line":711,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":711,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * AdaptiveActions Engine - Motor de A├º├Áes Adaptativas\n *\n * Este engine ├® respons├ível por:\n * - Adaptar a├º├Áes ao contexto do usu├írio e sistema\n * - Ajustar comportamento baseado em feedback hist├│rico\n * - Otimizar timing e delivery de a├º├Áes\n * - Personalizar intensidade de interven├º├Áes\n * - Aprender prefer├¬ncias de intera├º├úo\n *\n * @module azuria_ai/engines/adaptiveActionsEngine\n */\n\nimport { eventBus } from '../core/eventBus';\nimport { structuredLogger } from '../../services/structuredLogger';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** Tempo m├¡nimo entre a├º├Áes adaptativas (ms) */\nconst MIN_ACTION_INTERVAL = 5000;\n\n/** M├íximo de a├º├Áes adaptativas por sess├úo */\nconst MAX_ACTIONS_PER_SESSION = 20;\n\n/** Threshold de confian├ºa m├¡nima para executar a├º├úo */\nconst MIN_CONFIDENCE_THRESHOLD = 0.6;\n\n/** Per├¡odo de aprendizado inicial (ms) */\nconst LEARNING_PERIOD = 300000; // 5 minutos\n\n/** Decay factor para feedback antigo */\nconst FEEDBACK_DECAY = 0.95;\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Tipo de a├º├úo adaptativa */\nexport type AdaptiveActionType =\n  | 'suggestion' // Sugest├úo contextual\n  | 'automation' // Automa├º├úo de tarefa\n  | 'optimization' // Otimiza├º├úo de processo\n  | 'assistance' // Assist├¬ncia proativa\n  | 'notification' // Notifica├º├úo inteligente\n  | 'correction' // Corre├º├úo preventiva\n  | 'enhancement' // Melhoria de UX\n  | 'personalization'; // Personaliza├º├úo de interface\n\n/** Intensidade da a├º├úo */\nexport type ActionIntensity = 'subtle' | 'moderate' | 'prominent' | 'urgent';\n\n/** Timing da a├º├úo */\nexport type ActionTiming = 'immediate' | 'opportune' | 'delayed' | 'scheduled';\n\n/** Contexto da a├º├úo */\nexport interface ActionContext {\n  /** ID do usu├írio */\n  userId?: string;\n  /** Tela/p├ígina atual */\n  screen: string;\n  /** Estado da sess├úo */\n  sessionState: 'active' | 'idle' | 'focused' | 'distracted';\n  /** Tempo na tela atual (ms) */\n  timeOnScreen: number;\n  /** A├º├Áes recentes do usu├írio */\n  recentActions: string[];\n  /** N├¡vel de habilidade detectado */\n  skillLevel?: 'beginner' | 'intermediate' | 'advanced' | 'expert';\n  /** Prefer├¬ncias conhecidas */\n  preferences?: Record<string, unknown>;\n  /** Timestamp */\n  timestamp: number;\n}\n\n/** A├º├úo adaptativa */\nexport interface AdaptiveAction {\n  /** ID ├║nico */\n  id: string;\n  /** Tipo de a├º├úo */\n  type: AdaptiveActionType;\n  /** T├¡tulo/descri├º├úo curta */\n  title: string;\n  /** Descri├º├úo detalhada */\n  description: string;\n  /** Intensidade */\n  intensity: ActionIntensity;\n  /** Timing */\n  timing: ActionTiming;\n  /** Confian├ºa (0-1) */\n  confidence: number;\n  /** Contexto que gerou a a├º├úo */\n  context: ActionContext;\n  /** Payload da a├º├úo */\n  payload?: Record<string, unknown>;\n  /** Callbacks opcionais */\n  onExecute?: () => void | Promise<void>;\n  onCancel?: () => void;\n  /** Timestamp de cria├º├úo */\n  createdAt: number;\n  /** Timestamp de execu├º├úo (se executada) */\n  executedAt?: number;\n  /** Status */\n  status: 'pending' | 'executed' | 'cancelled' | 'failed';\n}\n\n/** Feedback sobre a├º├úo */\nexport interface ActionFeedback {\n  /** ID da a├º├úo */\n  actionId: string;\n  /** Tipo de feedback */\n  type: 'accepted' | 'rejected' | 'ignored' | 'helpful' | 'not_helpful';\n  /** Tempo at├® feedback (ms) */\n  responseTime: number;\n  /** Coment├írio opcional */\n  comment?: string;\n  /** Timestamp */\n  timestamp: number;\n}\n\n/** Regra de adapta├º├úo */\nexport interface AdaptationRule {\n  /** ID da regra */\n  id: string;\n  /** Condi├º├úo (fun├º├úo que retorna boolean) */\n  condition: (context: ActionContext) => boolean;\n  /** A├º├úo a ser tomada */\n  action: Partial<AdaptiveAction>;\n  /** Prioridade */\n  priority: number;\n  /** Se est├í ativa */\n  enabled: boolean;\n  /** Hist├│rico de sucesso */\n  successRate: number;\n  /** N├║mero de vezes executada */\n  executionCount: number;\n}\n\n/** Configura├º├úo do engine */\nexport interface AdaptiveActionsConfig {\n  /** Se est├í habilitado */\n  enabled: boolean;\n  /** Intervalo m├¡nimo entre a├º├Áes (ms) */\n  minActionInterval: number;\n  /** M├íximo de a├º├Áes por sess├úo */\n  maxActionsPerSession: number;\n  /** Confian├ºa m├¡nima para executar */\n  minConfidence: number;\n  /** Se est├í em per├¡odo de aprendizado */\n  learningMode: boolean;\n  /** Tipos de a├º├úo habilitados */\n  enabledActionTypes: AdaptiveActionType[];\n}\n\n/** Estado do engine */\ninterface AdaptiveActionsState {\n  initialized: boolean;\n  config: AdaptiveActionsConfig;\n  actions: AdaptiveAction[];\n  feedback: ActionFeedback[];\n  rules: AdaptationRule[];\n  lastActionAt: number;\n  sessionActionCount: number;\n  context: ActionContext | null;\n}\n\n// ============================================================================\n// State\n// ============================================================================\n\nconst state: AdaptiveActionsState = {\n  initialized: false,\n  config: {\n    enabled: true,\n    minActionInterval: MIN_ACTION_INTERVAL,\n    maxActionsPerSession: MAX_ACTIONS_PER_SESSION,\n    minConfidence: MIN_CONFIDENCE_THRESHOLD,\n    learningMode: true,\n    enabledActionTypes: ['suggestion', 'assistance', 'optimization', 'personalization'],\n  },\n  actions: [],\n  feedback: [],\n  rules: [],\n  lastActionAt: 0,\n  sessionActionCount: 0,\n  context: null,\n};\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n/**\n * Gera ID ├║nico para a├º├úo\n */\nfunction generateActionId(): string {\n  return `action-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n}\n\n/**\n * Calcula score de adapta├º├úo baseado em feedback\n */\nfunction calculateAdaptationScore(actionType: AdaptiveActionType): number {\n  const relevantFeedback = state.feedback.filter((f) => {\n    const action = state.actions.find((a) => a.id === f.actionId);\n    return action?.type === actionType;\n  });\n\n  if (relevantFeedback.length === 0) {return 0.5;} // Neutro se sem feedback\n\n  let score = 0;\n  let totalWeight = 0;\n\n  relevantFeedback.forEach((fb, index) => {\n    // Feedback mais recente tem mais peso\n    const recency = Math.pow(FEEDBACK_DECAY, relevantFeedback.length - index - 1);\n\n    const feedbackScore =\n      fb.type === 'accepted' || fb.type === 'helpful'\n        ? 1\n        : fb.type === 'rejected' || fb.type === 'not_helpful'\n          ? 0\n          : 0.5;\n\n    score += feedbackScore * recency;\n    totalWeight += recency;\n  });\n\n  return totalWeight > 0 ? score / totalWeight : 0.5;\n}\n\n/**\n * Determina intensidade ideal baseado em contexto\n */\nfunction determineIntensity(\n  context: ActionContext,\n  baseIntensity: ActionIntensity\n): ActionIntensity {\n  // Reduzir intensidade se usu├írio est├í focado\n  if (context.sessionState === 'focused') {\n    return 'subtle';\n  }\n\n  // Aumentar intensidade se usu├írio est├í distra├¡do\n  if (context.sessionState === 'distracted') {\n    return 'prominent';\n  }\n\n  // Usu├írios iniciantes podem precisar de mais guidance\n  if (context.skillLevel === 'beginner' && baseIntensity === 'subtle') {\n    return 'moderate';\n  }\n\n  // Experts preferem menos intrus├úo\n  if (context.skillLevel === 'expert' && baseIntensity === 'prominent') {\n    return 'moderate';\n  }\n\n  return baseIntensity;\n}\n\n/**\n * Determina timing ideal baseado em contexto\n */\nfunction determineTiming(context: ActionContext, baseTiming: ActionTiming): ActionTiming {\n  // Se usu├írio est├í idle, ├® momento oportuno\n  if (context.sessionState === 'idle') {\n    return 'opportune';\n  }\n\n  // Se muito tempo na mesma tela, pode ser momento de sugerir algo\n  if (context.timeOnScreen > 60000 && baseTiming === 'delayed') {\n    // 1 minuto\n    return 'opportune';\n  }\n\n  // Se est├í ativo e focado, adiar para n├úo interromper\n  if (context.sessionState === 'focused' && baseTiming === 'immediate') {\n    return 'delayed';\n  }\n\n  return baseTiming;\n}\n\n// ============================================================================\n// Core Functions\n// ============================================================================\n\n/**\n * Atualiza contexto atual\n */\nexport function updateContext(context: Partial<ActionContext>): void {\n  state.context = {\n    ...state.context,\n    ...context,\n    timestamp: Date.now(),\n  } as ActionContext;\n\n  eventBus.emit('adaptive:context-updated', {\n    context: state.context,\n    timestamp: Date.now(),\n  });\n}\n\n/**\n * Cria uma a├º├úo adaptativa\n */\nexport function createAdaptiveAction(\n  input: Omit<AdaptiveAction, 'id' | 'createdAt' | 'status'>\n): AdaptiveAction {\n  if (!state.initialized || !state.config.enabled) {\n    throw new Error('AdaptiveActionsEngine not initialized or disabled');\n  }\n\n  // Verificar throttling\n  const now = Date.now();\n  const timeSinceLastAction = now - state.lastActionAt;\n\n  if (timeSinceLastAction < state.config.minActionInterval) {\n    throw new Error('Action throttled - too soon since last action');\n  }\n\n  // Verificar limite de sess├úo\n  if (state.sessionActionCount >= state.config.maxActionsPerSession) {\n    throw new Error('Session action limit reached');\n  }\n\n  // Verificar confian├ºa m├¡nima\n  if (input.confidence < state.config.minConfidence) {\n    throw new Error(`Confidence too low: ${input.confidence} < ${state.config.minConfidence}`);\n  }\n\n  // Adaptar intensidade e timing\n  const adaptedIntensity = determineIntensity(input.context, input.intensity);\n  const adaptedTiming = determineTiming(input.context, input.timing);\n\n  const action: AdaptiveAction = {\n    ...input,\n    id: generateActionId(),\n    intensity: adaptedIntensity,\n    timing: adaptedTiming,\n    createdAt: now,\n    status: 'pending',\n  };\n\n  state.actions.push(action);\n  state.lastActionAt = now;\n  state.sessionActionCount++;\n\n  eventBus.emit('adaptive:action-created', {\n    action,\n    timestamp: now,\n  });\n\n  structuredLogger.info('[AdaptiveActions] Action created', {\n    type: action.type,\n    intensity: action.intensity,\n    timing: action.timing,\n    confidence: action.confidence,\n  });\n\n  return action;\n}\n\n/**\n * Executa uma a├º├úo adaptativa\n */\nexport async function executeAction(actionId: string): Promise<void> {\n  const action = state.actions.find((a) => a.id === actionId);\n\n  if (!action) {\n    throw new Error(`Action not found: ${actionId}`);\n  }\n\n  if (action.status !== 'pending') {\n    throw new Error(`Action already ${action.status}: ${actionId}`);\n  }\n\n  try {\n    // Executar callback se existir\n    if (action.onExecute) {\n      await action.onExecute();\n    }\n\n    action.status = 'executed';\n    action.executedAt = Date.now();\n\n    eventBus.emit('adaptive:action-executed', {\n      action,\n      timestamp: Date.now(),\n    });\n\n    structuredLogger.info('[AdaptiveActions] Action executed', {\n      actionId,\n      type: action.type,\n    });\n  } catch (error) {\n    action.status = 'failed';\n\n    eventBus.emit('adaptive:action-failed', {\n      action,\n      error: error instanceof Error ? error.message : 'Unknown error',\n      timestamp: Date.now(),\n    });\n\n    structuredLogger.error('[AdaptiveActions] Action execution failed', {\n      actionId,\n      error,\n    });\n\n    throw error;\n  }\n}\n\n/**\n * Cancela uma a├º├úo\n */\nexport function cancelAction(actionId: string): void {\n  const action = state.actions.find((a) => a.id === actionId);\n\n  if (!action) {\n    throw new Error(`Action not found: ${actionId}`);\n  }\n\n  if (action.status !== 'pending') {\n    throw new Error(`Cannot cancel action with status: ${action.status}`);\n  }\n\n  if (action.onCancel) {\n    action.onCancel();\n  }\n\n  action.status = 'cancelled';\n\n  eventBus.emit('adaptive:action-cancelled', {\n    action,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[AdaptiveActions] Action cancelled', {\n    actionId,\n    type: action.type,\n  });\n}\n\n/**\n * Registra feedback sobre uma a├º├úo\n */\nexport function recordFeedback(feedback: Omit<ActionFeedback, 'timestamp'>): void {\n  const action = state.actions.find((a) => a.id === feedback.actionId);\n\n  if (!action) {\n    throw new Error(`Action not found: ${feedback.actionId}`);\n  }\n\n  const fullFeedback: ActionFeedback = {\n    ...feedback,\n    timestamp: Date.now(),\n  };\n\n  state.feedback.push(fullFeedback);\n\n  // Atualizar regras de adapta├º├úo baseado no feedback\n  updateAdaptationRules(action, fullFeedback);\n\n  eventBus.emit('adaptive:feedback-received', {\n    feedback: fullFeedback,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[AdaptiveActions] Feedback recorded', {\n    actionId: feedback.actionId,\n    type: feedback.type,\n    responseTime: feedback.responseTime,\n  });\n}\n\n/**\n * Atualiza regras de adapta├º├úo baseado em feedback\n */\nfunction updateAdaptationRules(action: AdaptiveAction, feedback: ActionFeedback): void {\n  // Calcular novo score de adapta├º├úo para este tipo de a├º├úo\n  const newScore = calculateAdaptationScore(action.type);\n\n  // Ajustar confian├ºa m├¡nima se necess├írio\n  if (state.config.learningMode) {\n    if (newScore < 0.3) {\n      // Muitos feedbacks negativos, aumentar threshold\n      state.config.minConfidence = Math.min(0.9, state.config.minConfidence + 0.05);\n      structuredLogger.info('[AdaptiveActions] Increased confidence threshold', {\n        newThreshold: state.config.minConfidence,\n      });\n    } else if (newScore > 0.8) {\n      // Muitos feedbacks positivos, pode relaxar threshold\n      state.config.minConfidence = Math.max(0.5, state.config.minConfidence - 0.05);\n      structuredLogger.info('[AdaptiveActions] Decreased confidence threshold', {\n        newThreshold: state.config.minConfidence,\n      });\n    }\n  }\n}\n\n/**\n * Adiciona regra de adapta├º├úo\n */\nexport function addAdaptationRule(rule: Omit<AdaptationRule, 'executionCount' | 'successRate'>): void {\n  const fullRule: AdaptationRule = {\n    ...rule,\n    executionCount: 0,\n    successRate: 0,\n  };\n\n  state.rules.push(fullRule);\n\n  structuredLogger.info('[AdaptiveActions] Rule added', {\n    ruleId: rule.id,\n    priority: rule.priority,\n  });\n}\n\n/**\n * Avalia e executa regras aplic├íveis\n */\nexport async function evaluateRules(): Promise<void> {\n  if (!state.context) {\n    return;\n  }\n\n  const applicableRules = state.rules\n    .filter((rule) => rule.enabled && rule.condition(state.context!))\n    .sort((a, b) => b.priority - a.priority);\n\n  for (const rule of applicableRules) {\n    try {\n      const action = createAdaptiveAction({\n        ...rule.action,\n        context: state.context,\n      } as Omit<AdaptiveAction, 'id' | 'createdAt' | 'status'>);\n\n      await executeAction(action.id);\n\n      rule.executionCount++;\n      break; // Executar apenas uma regra por avalia├º├úo\n    } catch (error) {\n      structuredLogger.warn('[AdaptiveActions] Rule evaluation failed', {\n        ruleId: rule.id,\n        error,\n      });\n    }\n  }\n}\n\n/**\n * Obt├®m a├º├Áes pendentes\n */\nexport function getPendingActions(): AdaptiveAction[] {\n  return state.actions.filter((a) => a.status === 'pending');\n}\n\n/**\n * Obt├®m hist├│rico de a├º├Áes\n */\nexport function getActionHistory(limit: number = 50): AdaptiveAction[] {\n  return state.actions\n    .filter((a) => a.status !== 'pending')\n    .sort((a, b) => (b.executedAt || b.createdAt) - (a.executedAt || a.createdAt))\n    .slice(0, limit);\n}\n\n/**\n * Obt├®m estat├¡sticas de adapta├º├úo\n */\nexport function getAdaptationStats(): {\n  totalActions: number;\n  actionsByType: Record<AdaptiveActionType, number>;\n  successRate: number;\n  avgResponseTime: number;\n  topPerformingTypes: AdaptiveActionType[];\n} {\n  const actionsByType = state.actions.reduce(\n    (acc, action) => {\n      acc[action.type] = (acc[action.type] || 0) + 1;\n      return acc;\n    },\n    {} as Record<AdaptiveActionType, number>\n  );\n\n  const feedbackWithActions = state.feedback.filter((f) =>\n    state.actions.find((a) => a.id === f.actionId)\n  );\n\n  const successCount = feedbackWithActions.filter(\n    (f) => f.type === 'accepted' || f.type === 'helpful'\n  ).length;\n  const successRate = feedbackWithActions.length > 0 ? successCount / feedbackWithActions.length : 0;\n\n  const avgResponseTime =\n    feedbackWithActions.length > 0\n      ? feedbackWithActions.reduce((sum, f) => sum + f.responseTime, 0) / feedbackWithActions.length\n      : 0;\n\n  // Calcular tipos com melhor performance\n  const typeScores = Object.keys(actionsByType).map((type) => ({\n    type: type as AdaptiveActionType,\n    score: calculateAdaptationScore(type as AdaptiveActionType),\n  }));\n\n  const topPerformingTypes = typeScores\n    .sort((a, b) => b.score - a.score)\n    .slice(0, 3)\n    .map((t) => t.type);\n\n  return {\n    totalActions: state.actions.length,\n    actionsByType,\n    successRate,\n    avgResponseTime,\n    topPerformingTypes,\n  };\n}\n\n// ============================================================================\n// Engine Management\n// ============================================================================\n\n/**\n * Inicializa o AdaptiveActionsEngine\n */\nexport function initAdaptiveActions(config?: Partial<AdaptiveActionsConfig>): void {\n  if (state.initialized) {\n    structuredLogger.warn('[AdaptiveActions] Already initialized');\n    return;\n  }\n\n  if (config) {\n    state.config = { ...state.config, ...config };\n  }\n\n  // Ap├│s per├¡odo de aprendizado, desativar learning mode\n  if (state.config.learningMode) {\n    setTimeout(() => {\n      state.config.learningMode = false;\n      structuredLogger.info('[AdaptiveActions] Learning period ended');\n    }, LEARNING_PERIOD);\n  }\n\n  // Resetar contador de sess├úo\n  state.sessionActionCount = 0;\n\n  state.initialized = true;\n\n  eventBus.emit('engine:adaptive-actions-ready', {\n    config: state.config,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[AdaptiveActions] Initialized', {\n    enabled: state.config.enabled,\n    learningMode: state.config.learningMode,\n  });\n}\n\n/**\n * Obt├®m estado atual do engine\n */\nexport function getAdaptiveActionsState(): {\n  initialized: boolean;\n  config: AdaptiveActionsConfig;\n  pendingActions: number;\n  totalActions: number;\n  feedbackCount: number;\n  rulesCount: number;\n} {\n  return {\n    initialized: state.initialized,\n    config: state.config,\n    pendingActions: state.actions.filter((a) => a.status === 'pending').length,\n    totalActions: state.actions.length,\n    feedbackCount: state.feedback.length,\n    rulesCount: state.rules.length,\n  };\n}\n\n/**\n * Limpa hist├│rico antigo\n */\nexport function clearOldHistory(olderThanDays: number = 30): void {\n  const threshold = Date.now() - olderThanDays * 86400000;\n\n  const beforeActions = state.actions.length;\n  state.actions = state.actions.filter((a) => a.createdAt > threshold);\n\n  const beforeFeedback = state.feedback.length;\n  state.feedback = state.feedback.filter((f) => f.timestamp > threshold);\n\n  structuredLogger.info('[AdaptiveActions] Old history cleared', {\n    actionsRemoved: beforeActions - state.actions.length,\n    feedbackRemoved: beforeFeedback - state.feedback.length,\n  });\n}\n\n/**\n * Shutdown do engine\n */\nexport function shutdownAdaptiveActions(): void {\n  // Cancelar todas as a├º├Áes pendentes\n  state.actions.filter((a) => a.status === 'pending').forEach((a) => {\n    try {\n      cancelAction(a.id);\n    } catch (e) {\n      // Ignore\n    }\n  });\n\n  state.initialized = false;\n  state.actions = [];\n  state.feedback = [];\n  state.rules = [];\n  state.context = null;\n\n  eventBus.emit('engine:adaptive-actions-shutdown', {\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[AdaptiveActions] Shut down');\n}\n\n// ============================================================================\n// Export\n// ============================================================================\n\nexport default {\n  initAdaptiveActions,\n  updateContext,\n  createAdaptiveAction,\n  executeAction,\n  cancelAction,\n  recordFeedback,\n  addAdaptationRule,\n  evaluateRules,\n  getPendingActions,\n  getActionHistory,\n  getAdaptationStats,\n  getAdaptiveActionsState,\n  clearOldHistory,\n  shutdownAdaptiveActions,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\adaptiveEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1903,1906],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1903,1906],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { getAgentMemory, recordAgentEvent, updateHeuristic, updatePerformance } from '../core/agentMemory';\r\n\r\nfunction clamp(v: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nexport function updateAgentHeuristics(agentId: string, metrics: Record<string, number>) {\r\n  Object.entries(metrics).forEach(([k, v]) => {\r\n    updateHeuristic(agentId, k, v);\r\n  });\r\n  emitEvent('agent:heuristic-updated', { agentId, metrics }, { source: 'adaptiveEngine', priority: 5 });\r\n}\r\n\r\nexport function adjustConfidence(agentId: string, delta: number) {\r\n  const mem = getAgentMemory(agentId);\r\n  const current = mem.performance.confidence || 0.5;\r\n  const next = clamp(current + delta, 0, 1);\r\n  updatePerformance(agentId, 'confidence', next - current);\r\n  emitEvent('agent:performance-shift', { agentId, confidence: next }, { source: 'adaptiveEngine', priority: 5 });\r\n}\r\n\r\nexport function recordBehaviorShift(agentId: string, reason: string) {\r\n  recordAgentEvent(agentId, { reason, timestamp: Date.now() });\r\n  emitEvent('agent:anomaly-detected', { agentId, reason }, { source: 'adaptiveEngine', priority: 6 });\r\n}\r\n\r\nexport function evaluatePerformance(agentId: string) {\r\n  const mem = getAgentMemory(agentId);\r\n  const confidence = mem.performance.confidence || 0.5;\r\n  const successes = mem.history.filter(h => h.outcome === 'success').length;\r\n  const failures = mem.history.filter(h => h.outcome === 'failure').length;\r\n  return { confidence, successes, failures };\r\n}\r\n\r\nexport function suggestModelUpdate(agentId: string) {\r\n  const perf = evaluatePerformance(agentId);\r\n  if (perf.failures > perf.successes) {\r\n    emitEvent('agent:feedback', { agentId, suggestion: 'Rever heur├¡sticas: alto ├¡ndice de falhas.' }, { source: 'adaptiveEngine', priority: 5 });\r\n  }\r\n}\r\n\r\nexport function autoTuneParameters(agentId: string, context: any) {\r\n  const mem = getAgentMemory(agentId);\r\n  const nextThreshold = clamp((mem.heuristics.threshold || 0.5) + (context?.delta || 0), 0.1, 0.9);\r\n  updateHeuristic(agentId, 'threshold', nextThreshold);\r\n  emitEvent('agent:auto-tuned', { agentId, details: { threshold: nextThreshold } }, { source: 'adaptiveEngine', priority: 5 });\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\adaptiveUXEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[232,235],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[232,235],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[687,690],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[687,690],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\ninterface LayoutSuggestion {\r\n  moveSections?: string[];\r\n  highlight?: string[];\r\n  shortcuts?: string[];\r\n  hide?: string[];\r\n}\r\n\r\nexport function adaptLayoutFromBehavior(behavior: any): LayoutSuggestion {\r\n  const suggestion: LayoutSuggestion = {};\r\n\r\n  if (behavior?.lowUseSections) {\r\n    suggestion.hide = behavior.lowUseSections.slice(0, 2);\r\n  }\r\n  if (behavior?.frequentPaths) {\r\n    suggestion.shortcuts = behavior.frequentPaths.slice(0, 3);\r\n  }\r\n  if (behavior?.intent === 'pricing') {\r\n    suggestion.highlight = ['calculadora', 'margem', 'icms'];\r\n  }\r\n  return suggestion;\r\n}\r\n\r\nexport function proposeAdaptiveUX(behavior: any) {\r\n  const layout = adaptLayoutFromBehavior(behavior);\r\n  emitEvent('ui:adaptive-layout', { layout }, { source: 'adaptiveUXEngine', priority: 4 });\r\n  return layout;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\affectiveEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'emotionProfiles' is defined but never used. Allowed unused vars must match /^_/u.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'rewriteWithBrandVoice' is defined but never used. Allowed unused vars must match /^_/u.","line":3,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":60},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[621,624],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[621,624],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1583,1586],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1583,1586],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1944,1947],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1944,1947],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1956,1959],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1956,1959],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":65,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2634,2637],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2634,2637],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":71,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2840,2843],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2840,2843],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3067,3070],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3067,3070],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":83,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":83,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3296,3299],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3296,3299],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":89,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3529,3532],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3529,3532],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":96,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3857,3860],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3857,3860],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":96,"column":88,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":91,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3873,3876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3873,3876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":97,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":97,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3924,3927],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3924,3927],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":104,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4300,4303],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4300,4303],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4486,4489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4486,4489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":114,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4670,4673],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4670,4673],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":119,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4867,4870],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4867,4870],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":124,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":124,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5062,5065],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5062,5065],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { emotionProfiles } from './emotionProfiles';\r\nimport { adaptToneProfileFromPersona, rewriteWithBrandVoice, speak } from './brandVoiceEngine';\r\nimport { createMicroStory } from './storytellingEngine';\r\n\r\nexport type EmotionType = 'frustration' | 'confidence' | 'confusion' | 'achievement' | 'hesitation' | 'encouraged';\r\n\r\ninterface EmotionState {\r\n  type: EmotionType | null;\r\n  confidence: number;\r\n  lastMessage?: string;\r\n}\r\n\r\nconst state: EmotionState = {\r\n  type: null,\r\n  confidence: 0,\r\n};\r\n\r\nfunction setEmotion(type: EmotionType, confidence: number, meta?: any) {\r\n  state.type = type;\r\n  state.confidence = confidence;\r\n  emitEvent('ai:emotion-detected', { emotion: type, confidence, meta }, { source: 'affectiveEngine', priority: 6 });\r\n  switch (type) {\r\n    case 'frustration':\r\n      emitEvent('ai:user-frustrated', { confidence }, { source: 'affectiveEngine', priority: 7 });\r\n      break;\r\n    case 'confidence':\r\n      emitEvent('ai:user-confident', { confidence }, { source: 'affectiveEngine', priority: 6 });\r\n      break;\r\n    case 'confusion':\r\n      emitEvent('ai:user-confused', { confidence }, { source: 'affectiveEngine', priority: 7 });\r\n      break;\r\n    case 'hesitation':\r\n      emitEvent('ai:user-hesitant', { confidence }, { source: 'affectiveEngine', priority: 6 });\r\n      break;\r\n    case 'achievement':\r\n      emitEvent('ai:user-encouraged', { confidence }, { source: 'affectiveEngine', priority: 5 });\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\nfunction patternConfidence(pattern?: any) {\r\n  if (!pattern) {return 0.35;}\r\n  const score =\r\n    (pattern.repetitions ? Math.min(pattern.repetitions / 5, 0.4) : 0) +\r\n    (pattern.abandonments ? Math.min(pattern.abandonments / 3, 0.3) : 0) +\r\n    (pattern.revisions ? Math.min(pattern.revisions / 4, 0.2) : 0);\r\n  return Math.min(1, 0.3 + score);\r\n}\r\n\r\nexport function inferUserEmotion(userState: any, event: any) {\r\n  const pattern = event?.payload?.pattern || event?.payload;\r\n  if (pattern?.frustrationSignals) {return detectFrustration(pattern);}\r\n  if (pattern?.confusionSignals) {return detectConfusion(pattern);}\r\n  if (pattern?.confidenceSignals) {return detectConfidence(pattern);}\r\n  if (pattern?.hesitationSignals) {return detectHesitation(pattern);}\r\n  if (pattern?.achievementSignals) {return detectAchievement(pattern);}\r\n  // fallback: based on usage speed or pauses\r\n  if (pattern?.pausesMs > 15000) {return detectHesitation({ pauses: pattern.pausesMs });}\r\n  return { emotion: state.type, confidence: state.confidence };\r\n}\r\n\r\nexport function detectFrustration(pattern: any) {\r\n  const confidence = patternConfidence(pattern);\r\n  setEmotion('frustration', confidence, pattern);\r\n  return { emotion: 'frustration', confidence };\r\n}\r\n\r\nexport function detectConfidence(pattern: any) {\r\n  const confidence = Math.min(1, 0.5 + (pattern?.successes || 0) * 0.1);\r\n  setEmotion('confidence', confidence, pattern);\r\n  return { emotion: 'confidence', confidence };\r\n}\r\n\r\nexport function detectConfusion(pattern: any) {\r\n  const confidence = Math.min(1, 0.4 + (pattern?.undoActions || 0) * 0.1);\r\n  setEmotion('confusion', confidence, pattern);\r\n  return { emotion: 'confusion', confidence };\r\n}\r\n\r\nexport function detectAchievement(pattern: any) {\r\n  const confidence = Math.min(1, 0.5 + (pattern?.achievements || 1) * 0.1);\r\n  setEmotion('achievement', confidence, pattern);\r\n  return { emotion: 'achievement', confidence };\r\n}\r\n\r\nexport function detectHesitation(pattern: any) {\r\n  const confidence = Math.min(1, 0.35 + (pattern?.pauses || 1) * 0.05);\r\n  setEmotion('hesitation', confidence, pattern);\r\n  return { emotion: 'hesitation', confidence };\r\n}\r\n\r\nfunction craftResponse(text: string, tone: string, persona?: string) {\r\n  const toneProfile = persona ? adaptToneProfileFromPersona(persona as any) : (tone as any);\r\n  const spoken = speak(text, toneProfile as any, { personaSignals: persona });\r\n  state.lastMessage = spoken.message;\r\n  emitEvent('ai:affective-response', { message: spoken.message, tone: spoken.tone, persona: spoken.persona }, { source: 'affectiveEngine', priority: 5 });\r\n  createMicroStory({ message: spoken.message, tone: spoken.tone });\r\n  return spoken.message;\r\n}\r\n\r\nexport function respondWithEmpathy(context?: any) {\r\n  const text = 'Vamos simplificar este c├ílculo juntos.';\r\n  return craftResponse(text, 'educativo', context?.persona);\r\n}\r\n\r\nexport function respondWithConfidenceBoost(context?: any) {\r\n  const text = 'Boa escolha ÔÇö voc├¬ est├í no rumo certo.';\r\n  return craftResponse(text, 'estrategico', context?.persona);\r\n}\r\n\r\nexport function respondWithReassurance(context?: any) {\r\n  const text = 'Estamos ajustando tudo com seguran├ºa. Conte comigo.';\r\n  return craftResponse(text, 'educativo', context?.persona);\r\n}\r\n\r\nexport function respondWithEncouragement(context?: any) {\r\n  const text = 'Est├í indo bem ÔÇö vamos concluir este passo agora.';\r\n  return craftResponse(text, 'motivador', context?.persona);\r\n}\r\n\r\nexport function respondWithSimplification(context?: any) {\r\n  const text = 'Posso mostrar a vers├úo resumida. Quer tentar?';\r\n  return craftResponse(text, 'educativo', context?.persona);\r\n}\r\n\r\nexport function getEmotionState() {\r\n  return { ...state };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\analysisEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MAX_CLUSTERS' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":29,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":29,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'labels' is defined but never used. Allowed unused args must match /^_/u.","line":258,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":258,"endColumn":9}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * AdvancedAnalytics Engine - Motor de Analytics Avan├ºado com ML\n *\n * Este engine ├® respons├ível por:\n * - An├ílise avan├ºada de dados com t├®cnicas de ML\n * - Reconhecimento de padr├Áes complexos\n * - Detec├º├úo de anomalias e tend├¬ncias\n * - Insights preditivos para admin\n * - Clustering e segmenta├º├úo de usu├írios\n * - An├ílise de performance e otimiza├º├Áes\n *\n * @module azuria_ai/engines/analysisEngine\n */\n\nimport { eventBus } from '../core/eventBus';\nimport { structuredLogger } from '../../services/structuredLogger';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** Tamanho m├¡nimo da janela para an├ílise temporal */\nconst MIN_WINDOW_SIZE = 7; // dias\n\n/** Threshold para detec├º├úo de anomalias (desvios padr├úo) */\nconst ANOMALY_THRESHOLD = 2.5;\n\n/** M├íximo de clusters para segmenta├º├úo */\nconst MAX_CLUSTERS = 10;\n\n/** Intervalo de an├ílise autom├ítica (ms) */\nconst AUTO_ANALYSIS_INTERVAL = 3600000; // 1 hora\n\n/** M├íximo de insights armazenados */\nconst MAX_INSIGHTS_STORED = 100;\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Tipo de an├ílise dispon├¡vel */\nexport type AnalysisType =\n  | 'trend' // An├ílise de tend├¬ncias\n  | 'anomaly' // Detec├º├úo de anomalias\n  | 'pattern' // Reconhecimento de padr├Áes\n  | 'clustering' // Segmenta├º├úo de usu├írios\n  | 'prediction' // Previs├Áes futuras\n  | 'correlation' // Correla├º├Áes entre vari├íveis\n  | 'performance' // An├ílise de performance\n  | 'optimization'; // Oportunidades de otimiza├º├úo\n\n/** Prioridade do insight */\nexport type InsightPriority = 'low' | 'medium' | 'high' | 'critical';\n\n/** Confian├ºa do insight */\nexport type InsightConfidence = 'low' | 'medium' | 'high';\n\n/** Insight gerado pela an├ílise */\nexport interface AnalysisInsight {\n  /** ID ├║nico */\n  id: string;\n  /** Tipo de an├ílise que gerou */\n  type: AnalysisType;\n  /** T├¡tulo do insight */\n  title: string;\n  /** Descri├º├úo detalhada */\n  description: string;\n  /** Prioridade */\n  priority: InsightPriority;\n  /** Confian├ºa */\n  confidence: InsightConfidence;\n  /** M├®tricas relacionadas */\n  metrics: Record<string, number>;\n  /** Timestamp da an├ílise */\n  timestamp: number;\n  /** Recomenda├º├Áes de a├º├úo */\n  recommendations?: string[];\n  /** Dados brutos para refer├¬ncia */\n  rawData?: unknown;\n}\n\n/** Resultado de an├ílise de tend├¬ncia */\nexport interface TrendAnalysis {\n  /** Dire├º├úo da tend├¬ncia */\n  direction: 'up' | 'down' | 'stable';\n  /** Taxa de crescimento (%) */\n  growthRate: number;\n  /** Confian├ºa da tend├¬ncia */\n  confidence: number;\n  /** Proje├º├úo futura (pr├│ximos N per├¡odos) */\n  forecast?: number[];\n}\n\n/** Anomalia detectada */\nexport interface Anomaly {\n  /** Timestamp da anomalia */\n  timestamp: number;\n  /** Valor esperado */\n  expected: number;\n  /** Valor observado */\n  observed: number;\n  /** Desvio em rela├º├úo ao esperado */\n  deviation: number;\n  /** Severidade */\n  severity: 'low' | 'medium' | 'high';\n  /** Poss├¡veis causas */\n  possibleCauses?: string[];\n}\n\n/** Cluster de usu├írios */\nexport interface UserCluster {\n  /** ID do cluster */\n  id: string;\n  /** Nome do cluster */\n  name: string;\n  /** Descri├º├úo */\n  description: string;\n  /** N├║mero de usu├írios */\n  size: number;\n  /** Caracter├¡sticas do cluster */\n  characteristics: Record<string, number>;\n  /** Centr├│ide (m├®dia das caracter├¡sticas) */\n  centroid: number[];\n}\n\n/** Configura├º├úo do engine */\nexport interface AnalysisEngineConfig {\n  /** Se an├ílise autom├ítica est├í habilitada */\n  autoAnalysisEnabled: boolean;\n  /** Intervalo de an├ílise autom├ítica (ms) */\n  autoAnalysisInterval: number;\n  /** Tipos de an├ílise habilitados */\n  enabledAnalysisTypes: AnalysisType[];\n  /** Threshold de anomalia */\n  anomalyThreshold: number;\n  /** Tamanho da janela temporal (dias) */\n  windowSize: number;\n}\n\n/** Estado do engine */\ninterface AnalysisEngineState {\n  initialized: boolean;\n  config: AnalysisEngineConfig;\n  insights: AnalysisInsight[];\n  lastAnalysisAt: Record<AnalysisType, number>;\n  autoAnalysisTimer: NodeJS.Timeout | null;\n}\n\n// ============================================================================\n// State\n// ============================================================================\n\nconst state: AnalysisEngineState = {\n  initialized: false,\n  config: {\n    autoAnalysisEnabled: true,\n    autoAnalysisInterval: AUTO_ANALYSIS_INTERVAL,\n    enabledAnalysisTypes: ['trend', 'anomaly', 'pattern', 'performance'],\n    anomalyThreshold: ANOMALY_THRESHOLD,\n    windowSize: MIN_WINDOW_SIZE,\n  },\n  insights: [],\n  lastAnalysisAt: {} as Record<AnalysisType, number>,\n  autoAnalysisTimer: null,\n};\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n/**\n * Calcula m├®dia de um array de n├║meros\n */\nfunction mean(values: number[]): number {\n  if (values.length === 0) {return 0;}\n  return values.reduce((a, b) => a + b, 0) / values.length;\n}\n\n/**\n * Calcula desvio padr├úo de um array\n */\nfunction standardDeviation(values: number[]): number {\n  if (values.length === 0) {return 0;}\n  const avg = mean(values);\n  const squareDiffs = values.map((value) => Math.pow(value - avg, 2));\n  return Math.sqrt(mean(squareDiffs));\n}\n\n/**\n * Calcula correla├º├úo de Pearson entre duas s├®ries\n */\nfunction correlation(x: number[], y: number[]): number {\n  if (x.length !== y.length || x.length === 0) {return 0;}\n\n  const n = x.length;\n  const meanX = mean(x);\n  const meanY = mean(y);\n\n  let numerator = 0;\n  let denomX = 0;\n  let denomY = 0;\n\n  for (let i = 0; i < n; i++) {\n    const diffX = x[i] - meanX;\n    const diffY = y[i] - meanY;\n    numerator += diffX * diffY;\n    denomX += diffX * diffX;\n    denomY += diffY * diffY;\n  }\n\n  const denominator = Math.sqrt(denomX * denomY);\n  return denominator === 0 ? 0 : numerator / denominator;\n}\n\n/**\n * Regress├úo linear simples (retorna slope e intercept)\n */\nfunction linearRegression(values: number[]): { slope: number; intercept: number } {\n  const n = values.length;\n  if (n < 2) {return { slope: 0, intercept: mean(values) };}\n\n  const x = Array.from({ length: n }, (_, i) => i);\n  const y = values;\n\n  const meanX = mean(x);\n  const meanY = mean(y);\n\n  let numerator = 0;\n  let denominator = 0;\n\n  for (let i = 0; i < n; i++) {\n    numerator += (x[i] - meanX) * (y[i] - meanY);\n    denominator += Math.pow(x[i] - meanX, 2);\n  }\n\n  const slope = denominator === 0 ? 0 : numerator / denominator;\n  const intercept = meanY - slope * meanX;\n\n  return { slope, intercept };\n}\n\n/**\n * Gera ID ├║nico para insight\n */\nfunction generateInsightId(): string {\n  return `insight-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n}\n\n// ============================================================================\n// Analysis Functions\n// ============================================================================\n\n/**\n * Analisa tend├¬ncia em uma s├®rie temporal\n */\nexport function analyzeTrend(\n  values: number[],\n  labels?: string[]\n): TrendAnalysis & { insight: AnalysisInsight } {\n  if (values.length < MIN_WINDOW_SIZE) {\n    throw new Error(`M├¡nimo de ${MIN_WINDOW_SIZE} pontos necess├írios para an├ílise de tend├¬ncia`);\n  }\n\n  const { slope, intercept } = linearRegression(values);\n  const avgValue = mean(values);\n\n  // Calcular taxa de crescimento\n  const growthRate = avgValue === 0 ? 0 : (slope / avgValue) * 100;\n\n  // Determinar dire├º├úo\n  let direction: 'up' | 'down' | 'stable' = 'stable';\n  if (Math.abs(growthRate) > 1) {\n    direction = growthRate > 0 ? 'up' : 'down';\n  }\n\n  // Calcular R┬▓ (coeficiente de determina├º├úo) como confian├ºa\n  const predicted = values.map((_, i) => slope * i + intercept);\n  const residuals = values.map((v, i) => v - predicted[i]);\n  const ssRes = residuals.reduce((sum, r) => sum + r * r, 0);\n  const ssTot = values.reduce((sum, v) => sum + Math.pow(v - avgValue, 2), 0);\n  const rSquared = ssTot === 0 ? 1 : 1 - ssRes / ssTot;\n  const confidence = Math.max(0, Math.min(1, rSquared));\n\n  // Proje├º├úo futura (pr├│ximos 7 per├¡odos)\n  const forecast = Array.from({ length: 7 }, (_, i) => slope * (values.length + i) + intercept);\n\n  // Criar insight\n  const insight: AnalysisInsight = {\n    id: generateInsightId(),\n    type: 'trend',\n    title: `Tend├¬ncia ${direction === 'up' ? 'Crescente' : direction === 'down' ? 'Decrescente' : 'Est├ível'}`,\n    description: `Taxa de crescimento de ${growthRate.toFixed(2)}% detectada nos ├║ltimos ${values.length} per├¡odos`,\n    priority: Math.abs(growthRate) > 10 ? 'high' : Math.abs(growthRate) > 5 ? 'medium' : 'low',\n    confidence: confidence > 0.8 ? 'high' : confidence > 0.5 ? 'medium' : 'low',\n    metrics: {\n      growthRate,\n      confidence,\n      avgValue,\n      currentValue: values[values.length - 1],\n      projectedValue: forecast[6],\n    },\n    timestamp: Date.now(),\n    recommendations:\n      direction === 'down'\n        ? ['Investigar causas da queda', 'Considerar a├º├Áes corretivas']\n        : direction === 'up'\n          ? ['Capitalizar momentum', 'Preparar infraestrutura para crescimento']\n          : ['Monitorar estabilidade'],\n  };\n\n  structuredLogger.info('[AnalysisEngine] Trend analysis completed', {\n    direction,\n    growthRate,\n    confidence,\n  });\n\n  return { direction, growthRate, confidence, forecast, insight };\n}\n\n/**\n * Detecta anomalias em uma s├®rie temporal\n */\nexport function detectAnomalies(\n  values: number[],\n  threshold: number = ANOMALY_THRESHOLD\n): { anomalies: Anomaly[]; insight: AnalysisInsight } {\n  if (values.length < MIN_WINDOW_SIZE) {\n    throw new Error(`M├¡nimo de ${MIN_WINDOW_SIZE} pontos necess├írios para detec├º├úo de anomalias`);\n  }\n\n  const avg = mean(values);\n  const std = standardDeviation(values);\n\n  const anomalies: Anomaly[] = [];\n\n  values.forEach((value, index) => {\n    const deviation = Math.abs((value - avg) / std);\n\n    if (deviation > threshold) {\n      const severity: 'low' | 'medium' | 'high' =\n        deviation > threshold * 2 ? 'high' : deviation > threshold * 1.5 ? 'medium' : 'low';\n\n      anomalies.push({\n        timestamp: Date.now() - (values.length - index - 1) * 86400000, // Aproximado\n        expected: avg,\n        observed: value,\n        deviation,\n        severity,\n        possibleCauses: ['Evento excepcional', 'Erro de medi├º├úo', 'Mudan├ºa estrutural'],\n      });\n    }\n  });\n\n  const insight: AnalysisInsight = {\n    id: generateInsightId(),\n    type: 'anomaly',\n    title: `${anomalies.length} Anomalia(s) Detectada(s)`,\n    description: `Detectadas ${anomalies.length} anomalias em ${values.length} pontos de dados`,\n    priority: anomalies.some((a) => a.severity === 'high')\n      ? 'critical'\n      : anomalies.length > 3\n        ? 'high'\n        : 'medium',\n    confidence: std > 0 ? 'high' : 'medium',\n    metrics: {\n      totalAnomalies: anomalies.length,\n      avgDeviation: mean(anomalies.map((a) => a.deviation)),\n      highSeverityCount: anomalies.filter((a) => a.severity === 'high').length,\n    },\n    timestamp: Date.now(),\n    recommendations: anomalies.length > 0 ? ['Investigar anomalias', 'Verificar dados'] : [],\n    rawData: anomalies,\n  };\n\n  structuredLogger.info('[AnalysisEngine] Anomaly detection completed', {\n    anomalyCount: anomalies.length,\n    highSeverity: anomalies.filter((a) => a.severity === 'high').length,\n  });\n\n  return { anomalies, insight };\n}\n\n/**\n * Analisa correla├º├úo entre duas m├®tricas\n */\nexport function analyzeCorrelation(\n  metric1: number[],\n  metric2: number[],\n  metric1Name: string = 'M├®trica 1',\n  metric2Name: string = 'M├®trica 2'\n): { correlation: number; insight: AnalysisInsight } {\n  if (metric1.length !== metric2.length || metric1.length < MIN_WINDOW_SIZE) {\n    throw new Error('M├®tricas devem ter mesmo tamanho e m├¡nimo de pontos');\n  }\n\n  const corr = correlation(metric1, metric2);\n  const strength =\n    Math.abs(corr) > 0.7 ? 'forte' : Math.abs(corr) > 0.4 ? 'moderada' : 'fraca';\n  const direction = corr > 0 ? 'positiva' : 'negativa';\n\n  const insight: AnalysisInsight = {\n    id: generateInsightId(),\n    type: 'correlation',\n    title: `Correla├º├úo ${strength} ${direction}`,\n    description: `${metric1Name} e ${metric2Name} apresentam correla├º├úo ${strength} ${direction} (r=${corr.toFixed(3)})`,\n    priority: Math.abs(corr) > 0.7 ? 'high' : Math.abs(corr) > 0.4 ? 'medium' : 'low',\n    confidence: 'high',\n    metrics: {\n      correlation: corr,\n      absCorrelation: Math.abs(corr),\n    },\n    timestamp: Date.now(),\n    recommendations:\n      Math.abs(corr) > 0.7\n        ? [`Explorar rela├º├úo entre ${metric1Name} e ${metric2Name}`, 'Considerar a├º├Áes coordenadas']\n        : [],\n  };\n\n  structuredLogger.info('[AnalysisEngine] Correlation analysis completed', {\n    metric1Name,\n    metric2Name,\n    correlation: corr,\n  });\n\n  return { correlation: corr, insight };\n}\n\n/**\n * Segmenta usu├írios em clusters (K-means simplificado)\n */\nexport function clusterUsers(\n  userData: Array<{ userId: string; features: number[] }>,\n  k: number = 3\n): { clusters: UserCluster[]; insight: AnalysisInsight } {\n  if (userData.length < k) {\n    throw new Error(`M├¡nimo de ${k} usu├írios necess├írios para clustering`);\n  }\n\n  // Implementa├º├úo simplificada de K-means\n  const numFeatures = userData[0].features.length;\n\n  // Inicializar centr├│ides aleatoriamente\n  let centroids = userData.slice(0, k).map((u) => [...u.features]);\n\n  // Itera├º├Áes de K-means (m├íximo 10)\n  for (let iter = 0; iter < 10; iter++) {\n    // Atribuir cada ponto ao centr├│ide mais pr├│ximo\n    const assignments = userData.map((user) => {\n      const distances = centroids.map((centroid) => {\n        return Math.sqrt(\n          user.features.reduce((sum, val, i) => sum + Math.pow(val - centroid[i], 2), 0)\n        );\n      });\n      return distances.indexOf(Math.min(...distances));\n    });\n\n    // Recalcular centr├│ides\n    const newCentroids = centroids.map((_, clusterIdx) => {\n      const clusterPoints = userData.filter((_, i) => assignments[i] === clusterIdx);\n      if (clusterPoints.length === 0) {return centroids[clusterIdx];}\n\n      return Array.from({ length: numFeatures }, (_, featureIdx) => {\n        return mean(clusterPoints.map((p) => p.features[featureIdx]));\n      });\n    });\n\n    centroids = newCentroids;\n  }\n\n  // Criar clusters\n  const assignments = userData.map((user) => {\n    const distances = centroids.map((centroid) => {\n      return Math.sqrt(\n        user.features.reduce((sum, val, i) => sum + Math.pow(val - centroid[i], 2), 0)\n      );\n    });\n    return distances.indexOf(Math.min(...distances));\n  });\n\n  const clusters: UserCluster[] = centroids.map((centroid, idx) => {\n    const clusterUsers = userData.filter((_, i) => assignments[i] === idx);\n    return {\n      id: `cluster-${idx}`,\n      name: `Segmento ${idx + 1}`,\n      description: `Cluster de ${clusterUsers.length} usu├írios`,\n      size: clusterUsers.length,\n      characteristics: Object.fromEntries(centroid.map((val, i) => [`feature_${i}`, val])),\n      centroid,\n    };\n  });\n\n  const insight: AnalysisInsight = {\n    id: generateInsightId(),\n    type: 'clustering',\n    title: `Usu├írios Segmentados em ${k} Clusters`,\n    description: `${userData.length} usu├írios segmentados em ${k} grupos distintos`,\n    priority: 'medium',\n    confidence: 'medium',\n    metrics: {\n      totalUsers: userData.length,\n      numClusters: k,\n      avgClusterSize: mean(clusters.map((c) => c.size)),\n    },\n    timestamp: Date.now(),\n    recommendations: ['Personalizar experi├¬ncia por segmento', 'Analisar caracter├¡sticas ├║nicas'],\n    rawData: clusters,\n  };\n\n  structuredLogger.info('[AnalysisEngine] Clustering completed', {\n    totalUsers: userData.length,\n    numClusters: k,\n  });\n\n  return { clusters, insight };\n}\n\n// ============================================================================\n// Engine Management\n// ============================================================================\n\n/**\n * Inicializa o AnalysisEngine\n */\nexport function initAnalysisEngine(config?: Partial<AnalysisEngineConfig>): void {\n  if (state.initialized) {\n    structuredLogger.warn('[AnalysisEngine] Already initialized');\n    return;\n  }\n\n  if (config) {\n    state.config = { ...state.config, ...config };\n  }\n\n  // Inicializar timestamps de ├║ltima an├ílise\n  state.config.enabledAnalysisTypes.forEach((type) => {\n    state.lastAnalysisAt[type] = 0;\n  });\n\n  // Iniciar an├ílise autom├ítica se habilitado\n  if (state.config.autoAnalysisEnabled) {\n    startAutoAnalysis();\n  }\n\n  state.initialized = true;\n\n  eventBus.emit('engine:analysis-ready', {\n    config: state.config,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[AnalysisEngine] Initialized', {\n    autoAnalysisEnabled: state.config.autoAnalysisEnabled,\n    enabledTypes: state.config.enabledAnalysisTypes,\n  });\n}\n\n/**\n * Inicia an├ílise autom├ítica peri├│dica\n */\nfunction startAutoAnalysis(): void {\n  if (state.autoAnalysisTimer) {\n    clearInterval(state.autoAnalysisTimer);\n  }\n\n  state.autoAnalysisTimer = setInterval(() => {\n    structuredLogger.debug('[AnalysisEngine] Running auto-analysis');\n    eventBus.emit('engine:auto-analysis-triggered', {\n      timestamp: Date.now(),\n    });\n  }, state.config.autoAnalysisInterval);\n}\n\n/**\n * Adiciona insight ├á lista\n */\nexport function addInsight(insight: AnalysisInsight): void {\n  state.insights.unshift(insight);\n\n  // Manter apenas os ├║ltimos N insights\n  if (state.insights.length > MAX_INSIGHTS_STORED) {\n    state.insights = state.insights.slice(0, MAX_INSIGHTS_STORED);\n  }\n\n  // Emitir evento\n  eventBus.emit('analysis:insight-generated', {\n    insight,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[AnalysisEngine] Insight added', {\n    type: insight.type,\n    priority: insight.priority,\n  });\n}\n\n/**\n * Obt├®m insights recentes\n */\nexport function getRecentInsights(count: number = 10): AnalysisInsight[] {\n  return state.insights.slice(0, count);\n}\n\n/**\n * Obt├®m insights por tipo\n */\nexport function getInsightsByType(type: AnalysisType): AnalysisInsight[] {\n  return state.insights.filter((i) => i.type === type);\n}\n\n/**\n * Limpa insights antigos\n */\nexport function clearOldInsights(olderThanDays: number = 30): void {\n  const threshold = Date.now() - olderThanDays * 86400000;\n  const before = state.insights.length;\n  state.insights = state.insights.filter((i) => i.timestamp > threshold);\n  const removed = before - state.insights.length;\n\n  structuredLogger.info('[AnalysisEngine] Old insights cleared', {\n    removed,\n    remaining: state.insights.length,\n  });\n}\n\n/**\n * Para an├ílise autom├ítica\n */\nexport function stopAutoAnalysis(): void {\n  if (state.autoAnalysisTimer) {\n    clearInterval(state.autoAnalysisTimer);\n    state.autoAnalysisTimer = null;\n    structuredLogger.info('[AnalysisEngine] Auto-analysis stopped');\n  }\n}\n\n/**\n * Obt├®m estado atual do engine\n */\nexport function getAnalysisEngineState(): {\n  initialized: boolean;\n  config: AnalysisEngineConfig;\n  insightCount: number;\n  lastAnalysis: Record<AnalysisType, number>;\n} {\n  return {\n    initialized: state.initialized,\n    config: state.config,\n    insightCount: state.insights.length,\n    lastAnalysis: state.lastAnalysisAt,\n  };\n}\n\n/**\n * Shutdown do engine\n */\nexport function shutdownAnalysisEngine(): void {\n  stopAutoAnalysis();\n  state.initialized = false;\n  state.insights = [];\n  state.lastAnalysisAt = {} as Record<AnalysisType, number>;\n\n  eventBus.emit('engine:analysis-shutdown', {\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[AnalysisEngine] Shut down');\n}\n\n// ============================================================================\n// Export\n// ============================================================================\n\nexport default {\n  initAnalysisEngine,\n  analyzeTrend,\n  detectAnomalies,\n  analyzeCorrelation,\n  clusterUsers,\n  addInsight,\n  getRecentInsights,\n  getInsightsByType,\n  clearOldInsights,\n  getAnalysisEngineState,\n  stopAutoAnalysis,\n  shutdownAnalysisEngine,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\autoOptimizerEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[238,241],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[238,241],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[252,255],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[252,255],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport {\r\n  highlightConfusingElements,\r\n  recommendUIAdjustments,\r\n  recommendUXFixes,\r\n  suggestFlowReordering,\r\n  suggestSimplification,\r\n} from './behaviorEngine';\r\n\r\nfunction emit(type: any, payload: any, priority = 5) {\r\n  emitEvent(type, payload, { source: 'autoOptimizerEngine', priority });\r\n}\r\n\r\nexport function applySafeOptimizations() {\r\n  const fixes = recommendUXFixes();\r\n  emit('ai:autofix-applied', { fixes }, 6);\r\n  emit('ai:ux-optimized', { fixes, message: 'Otimiza├º├Áes seguras aplicadas' }, 5);\r\n  return fixes;\r\n}\r\n\r\nexport function prioritizeFixes() {\r\n  const fixes = recommendUXFixes();\r\n  const ui = recommendUIAdjustments();\r\n  const ordered = [...fixes, ...ui].slice(0, 5);\r\n  emit('ai:autofix-suggested', { ordered }, 4);\r\n  return ordered;\r\n}\r\n\r\nexport function monitorImprovement() {\r\n  emit('ai:behavior-pattern-detected', { monitor: true }, 3);\r\n  return true;\r\n}\r\n\r\nexport function autoTuneUX() {\r\n  const reorders = suggestFlowReordering();\r\n  const simplifications = suggestSimplification();\r\n  const highlights = highlightConfusingElements();\r\n  const combined = [...reorders, ...simplifications, ...highlights];\r\n  emit('ai:ux-optimized', { combined }, 5);\r\n  return combined;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\autonomousActionsEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[427,430],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[427,430],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1322,1325],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1322,1325],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1569,1572],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1569,1572],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2286,2289],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2286,2289],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { logOpportunity, logRisk } from '../logs/modeDeus_internal';\r\n\r\nexport type RecommendedAction =\r\n  | 'recomendar_preco'\r\n  | 'sugerir_frete'\r\n  | 'trocar_marketplace'\r\n  | 'analisar_impostos'\r\n  | 'propor_margem';\r\n\r\nexport interface AutonomousDecision {\r\n  shouldAct: boolean;\r\n  action: RecommendedAction | null;\r\n  reason?: string;\r\n}\r\n\r\nfunction chooseAction(context: any): RecommendedAction | null {\r\n  const margem = context?.margemLucro ?? context?.payload?.margemLucro;\r\n  const custo = context?.custoProduto ?? context?.payload?.custoProduto;\r\n  const preco = context?.precoVenda ?? context?.payload?.precoVenda;\r\n  const frete = context?.custoOperacional ?? context?.payload?.custoOperacional;\r\n  const taxasMarketplace = context?.taxasMarketplace ?? context?.payload?.taxasMarketplace;\r\n\r\n  if (margem !== undefined && margem < 10) {return 'recomendar_preco';}\r\n  if (custo !== undefined && preco !== undefined && custo >= preco) {return 'propor_margem';}\r\n  if (frete && preco && (frete / preco) * 100 > 30) {return 'sugerir_frete';}\r\n  if (taxasMarketplace && taxasMarketplace > 20) {return 'trocar_marketplace';}\r\n  if (context?.impostos || context?.aliquotaICMS) {return 'analisar_impostos';}\r\n\r\n  return null;\r\n}\r\n\r\nexport function shouldAct(context: any): AutonomousDecision {\r\n  const action = chooseAction(context);\r\n  return {\r\n    shouldAct: Boolean(action),\r\n    action,\r\n    reason: action ? 'Regra heur├¡stica acionada' : undefined,\r\n  };\r\n}\r\n\r\nexport function getRecommendedAction(context: any): { action: RecommendedAction | null; details?: string } {\r\n  const decision = shouldAct(context);\r\n  if (!decision.action) {\r\n    return { action: null };\r\n  }\r\n\r\n  const detailsMap: Record<RecommendedAction, string> = {\r\n    recomendar_preco: 'Sugerir novo pre├ºo para recompor margem.',\r\n    sugerir_frete: 'Sugerir ajuste de frete ou negocia├º├úo.',\r\n    trocar_marketplace: 'Comparar marketplaces e sugerir mudan├ºa.',\r\n    analisar_impostos: 'Recomendar revis├úo de impostos aplicados.',\r\n    propor_margem: 'Propor margem ideal para evitar preju├¡zo.',\r\n  };\r\n\r\n  return { action: decision.action, details: detailsMap[decision.action] };\r\n}\r\n\r\nexport function dispatchAction(eventBus: typeof emitEvent, context: any) {\r\n  const recommendation = getRecommendedAction(context);\r\n  if (!recommendation.action) {return;}\r\n\r\n  const payload = {\r\n    action: recommendation.action,\r\n    details: recommendation.details,\r\n    context,\r\n  };\r\n\r\n  // Emitir evento n├úo intrusivo para UI consumir\r\n  eventBus('ai:recommended-action', payload, { source: 'autonomousActionsEngine', priority: 5 });\r\n\r\n  // Registrar internamente\r\n  if (recommendation.action === 'recomendar_preco' || recommendation.action === 'propor_margem') {\r\n    logRisk({ action: recommendation.action, context });\r\n  } else {\r\n    logOpportunity({ action: recommendation.action, context });\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\behaviorEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[98,101],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[98,101],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[129,132],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[129,132],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[179,182],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[179,182],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[201,204],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[201,204],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[412,415],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[412,415],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[426,429],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[426,429],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[570,573],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[570,573],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[859,862],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[859,862],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":31,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[927,930],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[927,930],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1045,1048],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1045,1048],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1100,1103],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1100,1103],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1167,1170],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1167,1170],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1387,1390],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1387,1390],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":54,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1601,1604],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1601,1604],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1834,1837],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1834,1837],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":70,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2128,2131],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2128,2131],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":78,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2432,2435],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2432,2435],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport interface BehaviorSignals {\r\n  eventLog?: any[];\r\n  flowData?: { steps?: any[]; abandonPoints?: string[] };\r\n  userState?: any;\r\n  userHistory?: any[];\r\n}\r\n\r\nexport interface BehaviorFindings {\r\n  negative?: string[];\r\n  positive?: string[];\r\n  abandonPoints?: string[];\r\n  frictionPoints?: number;\r\n  recommendations?: string[];\r\n}\r\n\r\nfunction emit(type: any, payload: any, priority = 5) {\r\n  emitEvent(type, payload, { source: 'behaviorEngine', priority });\r\n}\r\n\r\nexport function detectRepeatingErrors(eventLog: any[] = []) {\r\n  const errors = eventLog.filter((e) => e.type === 'error');\r\n  if (errors.length > 2) {\r\n    emit('ai:behavior-pattern-detected', { pattern: 'repeating-errors', count: errors.length }, 7);\r\n  }\r\n  return errors.length;\r\n}\r\n\r\nexport function detectIncompleteFlows(flowData: any = {}) {\r\n  const incomplete = (flowData.steps || []).filter((s: any) => !s.completed);\r\n  if (incomplete.length > 0) {\r\n    emit('ai:flow-abandon-point', { steps: incomplete.map((s: any) => s.id) }, 6);\r\n  }\r\n  return incomplete.map((s: any) => s.id);\r\n}\r\n\r\nexport function detectAbandonPoints(flowData: any = {}) {\r\n  const abandon = flowData.abandonPoints || [];\r\n  if (abandon.length > 0) {\r\n    emit('ai:ux-friction-detected', { abandon }, 7);\r\n  }\r\n  return abandon;\r\n}\r\n\r\nexport function detectUserStruggle(userState: any = {}) {\r\n  const struggle = userState.struggleScore || 0;\r\n  if (struggle > 0.5) {\r\n    emit('ai:ux-friction-detected', { struggle }, 6);\r\n  }\r\n  return struggle;\r\n}\r\n\r\nexport function detectUXFriction(points: any = {}) {\r\n  const frictionScore = points.score || 0;\r\n  if (frictionScore > 0.5) {\r\n    emit('ai:ux-friction-detected', { frictionScore }, 6);\r\n  }\r\n  return frictionScore;\r\n}\r\n\r\nexport function detectSuccessfulPatterns(eventLog: any[] = []) {\r\n  const successes = eventLog.filter((e) => e.type === 'success');\r\n  if (successes.length > 1) {\r\n    emit('ai:positive-pattern-detected', { pattern: 'success-sequence', count: successes.length }, 5);\r\n  }\r\n  return successes.length;\r\n}\r\n\r\nexport function detectFastPaths(flows: any[] = []) {\r\n  const fast = flows.filter((f) => f.durationMs && f.durationMs < 5000);\r\n  if (fast.length > 0) {\r\n    emit('ai:positive-pattern-detected', { pattern: 'fast-path', count: fast.length }, 4);\r\n  }\r\n  return fast.map((f) => f.id);\r\n}\r\n\r\nexport function detectHighRetentionSteps(userHistory: any[] = []) {\r\n  const retained = userHistory.filter((h) => h.repeatCount && h.repeatCount > 2);\r\n  if (retained.length > 0) {\r\n    emit('ai:positive-pattern-detected', { pattern: 'high-retention', items: retained.length }, 4);\r\n  }\r\n  return retained.map((h) => h.step);\r\n}\r\n\r\nexport function recommendUXFixes(): string[] {\r\n  const fixes = ['Simplificar passo cr├¡tico', 'Adicionar tooltip contextual', 'Reduzir campos obrigat├│rios'];\r\n  emit('ai:autofix-suggested', { fixes }, 5);\r\n  return fixes;\r\n}\r\n\r\nexport function recommendUIAdjustments(): string[] {\r\n  const adjustments = ['Destacar bot├úo prim├írio', 'Reordenar formul├írio', 'Melhorar contraste'];\r\n  emit('ai:autofix-suggested', { adjustments }, 5);\r\n  return adjustments;\r\n}\r\n\r\nexport function suggestFlowReordering(): string[] {\r\n  const changes = ['Mover valida├º├úo para o final', 'Pr├®-preencher dados conhecidos'];\r\n  emit('ai:autofix-suggested', { changes }, 5);\r\n  return changes;\r\n}\r\n\r\nexport function suggestSimplification(): string[] {\r\n  const changes = ['Ocultar campos avan├ºados por padr├úo', 'Mostrar resumo antes da confirma├º├úo'];\r\n  emit('ai:autofix-suggested', { changes }, 5);\r\n  return changes;\r\n}\r\n\r\nexport function highlightConfusingElements(): string[] {\r\n  const items = ['Campo \"MVA\" pouco claro', 'Tooltip de ICMS ausente'];\r\n  emit('ai:autofix-suggested', { items }, 5);\r\n  return items;\r\n}\r\n\r\nexport function analyzeBehavior(signals: BehaviorSignals): BehaviorFindings {\r\n  const negative: string[] = [];\r\n  const positive: string[] = [];\r\n  const abandonPoints = detectAbandonPoints(signals.flowData);\r\n  if (detectRepeatingErrors(signals.eventLog) > 0) {negative.push('errors');}\r\n  if (detectIncompleteFlows(signals.flowData).length > 0) {negative.push('incomplete-flows');}\r\n  if (detectUserStruggle(signals.userState) > 0.5) {negative.push('struggle');}\r\n  if (detectUXFriction({ score: signals.userState?.frictionScore }) > 0.5) {negative.push('friction');}\r\n  if (detectSuccessfulPatterns(signals.eventLog) > 0) {positive.push('success-sequence');}\r\n  if (detectFastPaths(signals.flowData?.flows || []).length > 0) {positive.push('fast-path');}\r\n  if (detectHighRetentionSteps(signals.userHistory || []).length > 0) {positive.push('high-retention');}\r\n  return {\r\n    negative,\r\n    positive,\r\n    abandonPoints,\r\n    frictionPoints: signals.userState?.frictionScore,\r\n    recommendations: recommendUXFixes(),\r\n  };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\biddingAssistantEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\brandToneProfiles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\brandVoiceEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[544,547],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[544,547],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[984,987],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[984,987],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2317,2320],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2317,2320],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { brandToneProfiles } from './brandToneProfiles';\r\nimport { personaProfiles } from './personaProfiles';\r\n\r\nexport type ToneProfileKey = keyof typeof brandToneProfiles;\r\nexport type PersonaKey = keyof typeof personaProfiles;\r\n\r\nfunction sanitize(text: string, forbidEmojis?: boolean) {\r\n  if (!forbidEmojis) {return text;}\r\n  // remove caracteres fora do b├ísico para evitar emoji\r\n  return text.replace(/[\\u{1F300}-\\u{1FAFF}]/gu, '');\r\n}\r\n\r\nexport function getToneProfileForUser(userState?: any): ToneProfileKey {\r\n  if (!userState) {return 'padrao';}\r\n  if (userState?.motivationLevel && userState.motivationLevel < 0.4) {return 'motivador';}\r\n  if (userState?.persona === 'operador-analitico') {return 'estrategico';}\r\n  if (userState?.persona === 'comercial-agressivo') {return 'comercial';}\r\n  if (userState?.skillLevel === 'beginner') {return 'educativo';}\r\n  return 'padrao';\r\n}\r\n\r\nexport function adaptPersona(userSignals?: any): PersonaKey {\r\n  if (!userSignals) {return 'iniciante-inseguro';}\r\n  if (userSignals?.advancedUsage) {return 'avancado-lucro';}\r\n  if (userSignals?.commercialFocus) {return 'comercial-agressivo';}\r\n  if (userSignals?.analyticBehavior) {return 'operador-analitico';}\r\n  if (userSignals?.improving) {return 'intermediario-crescimento';}\r\n  return 'iniciante-inseguro';\r\n}\r\n\r\nexport function applyTone(text: string, toneProfile: ToneProfileKey = 'padrao') {\r\n  const tone = brandToneProfiles[toneProfile] || brandToneProfiles.padrao;\r\n  const refined = sanitize(`${text}`.trim(), tone.forbidEmojis);\r\n  emitEvent('ai:tone-shift', { tone: toneProfile, refined }, { source: 'brandVoiceEngine', priority: 4 });\r\n  return refined;\r\n}\r\n\r\nexport function ensureConsistency(text: string) {\r\n  const refined = sanitize(text, true);\r\n  emitEvent('ai:communication-optimized', { text: refined }, { source: 'brandVoiceEngine', priority: 3 });\r\n  return refined;\r\n}\r\n\r\nexport function rewriteWithBrandVoice(text: string, toneProfile: ToneProfileKey = 'padrao') {\r\n  const refined = applyTone(text, toneProfile);\r\n  emitEvent('ai:brand-voice-applied', { refined, tone: toneProfile }, { source: 'brandVoiceEngine', priority: 5 });\r\n  return refined;\r\n}\r\n\r\nexport function speak(message: string, toneProfile: ToneProfileKey = 'padrao', context?: any) {\r\n  const tone = toneProfile || getToneProfileForUser(context?.user);\r\n  const refined = rewriteWithBrandVoice(message, tone);\r\n  const persona = adaptPersona(context?.personaSignals);\r\n  emitEvent('ai:persona-adapted', { persona }, { source: 'brandVoiceEngine', priority: 4 });\r\n  return {\r\n    message: refined,\r\n    tone,\r\n    persona,\r\n  };\r\n}\r\n\r\nexport function summarizeInBrandTone(text: string, toneProfile: ToneProfileKey = 'padrao') {\r\n  const refined = rewriteWithBrandVoice(`Resumo: ${text}`, toneProfile);\r\n  return refined;\r\n}\r\n\r\nexport function explainInBrandTone(insight: { message: string; reason?: string }, toneProfile: ToneProfileKey = 'padrao') {\r\n  const reason = insight.reason ? ` Motivo: ${insight.reason}` : '';\r\n  return rewriteWithBrandVoice(`${insight.message}${reason}`, toneProfile);\r\n}\r\n\r\nexport function adaptToneProfileFromPersona(persona: PersonaKey): ToneProfileKey {\r\n  return personaProfiles[persona]?.tone as ToneProfileKey || 'padrao';\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\cognitiveEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'logConflict' is defined but never used. Allowed unused vars must match /^_/u.","line":2,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[326,329],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[326,329],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[462,465],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[462,465],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[842,845],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[842,845],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1297,1300],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1297,1300],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { logConflict, logOpportunity, logPredictive, logRisk } from '../logs/modeDeus_internal';\r\n\r\ntype MemoryCategory = 'calc' | 'intent' | 'prediction' | 'action' | 'pattern' | 'anomaly';\r\n\r\ninterface MemoryEntry {\r\n  category: MemoryCategory;\r\n  source?: string;\r\n  payload: any;\r\n  timestamp: number;\r\n}\r\n\r\nconst MEMORY_LIMIT = 50;\r\nconst memoryBuffer: MemoryEntry[] = [];\r\n\r\nfunction sanitizePayload(payload: any) {\r\n  if (!payload || typeof payload !== 'object') {return {};}\r\n  const allowedKeys = [\r\n    'margemLucro',\r\n    'custoProduto',\r\n    'precoVenda',\r\n    'custoOperacional',\r\n    'taxasMarketplace',\r\n    'tipo',\r\n    'category',\r\n    'intentCategory',\r\n    'signals',\r\n    'suggestedActions',\r\n    'riskLevel',\r\n    'predictiveScore',\r\n  ];\r\n  const sanitized: Record<string, any> = {};\r\n  allowedKeys.forEach(key => {\r\n    if (payload[key] !== undefined) {sanitized[key] = payload[key];}\r\n  });\r\n  return sanitized;\r\n}\r\n\r\nfunction pushMemory(entry: MemoryEntry) {\r\n  memoryBuffer.push(entry);\r\n  if (memoryBuffer.length > MEMORY_LIMIT) {\r\n    memoryBuffer.shift();\r\n  }\r\n  emitEvent('ai:memory-updated', { entry }, { source: 'cognitiveEngine', priority: 3 });\r\n}\r\n\r\nexport function updateMemory(category: MemoryCategory, payload: any, source?: string) {\r\n  pushMemory({\r\n    category,\r\n    source,\r\n    payload: sanitizePayload(payload),\r\n    timestamp: Date.now(),\r\n  });\r\n}\r\n\r\nexport function detectPatterns() {\r\n  const lastTen = memoryBuffer.slice(-10);\r\n  const calcEntries = lastTen.filter(e => e.category === 'calc');\r\n  const intents = lastTen.filter(e => e.category === 'intent');\r\n\r\n  const repeatedCalcType = findRepeated(calcEntries.map(e => e.payload?.tipo || 'calc'));\r\n  const frequentIntent = findRepeated(intents.map(e => e.payload?.category || 'unknown'));\r\n\r\n  const patterns: string[] = [];\r\n  if (repeatedCalcType) {patterns.push(`Repeti├º├úo de c├ílculos: ${repeatedCalcType}`);}\r\n  if (frequentIntent) {patterns.push(`Inten├º├Áes frequentes: ${frequentIntent}`);}\r\n\r\n  if (patterns.length > 0) {\r\n    emitEvent(\r\n      'ai:pattern-detected',\r\n      { patterns },\r\n      { source: 'cognitiveEngine', priority: 6 }\r\n    );\r\n    logOpportunity({ patterns });\r\n  }\r\n}\r\n\r\nexport function generateForecast() {\r\n  const lastTen = memoryBuffer.slice(-10);\r\n  const intents = lastTen.filter(e => e.category === 'intent');\r\n  const predictions = lastTen.filter(e => e.category === 'prediction');\r\n\r\n  const nextIntent = mostLikely(intents.map(e => e.payload?.category));\r\n  const nextRiskLevel = mostLikely(predictions.map(e => e.payload?.riskLevel));\r\n\r\n  const forecast = {\r\n    message: 'Previs├úo cognitiva gerada.',\r\n    nextIntent: nextIntent || 'pricing',\r\n    nextRiskLevel: nextRiskLevel || 'safe',\r\n  };\r\n\r\n  emitEvent('ai:forecast-generated', forecast, { source: 'cognitiveEngine', priority: 6 });\r\n  logPredictive(forecast);\r\n}\r\n\r\nexport function detectAnomalies() {\r\n  const lastTwo = memoryBuffer.slice(-2);\r\n  if (lastTwo.length < 2) {return;}\r\n\r\n  const [prev, curr] = lastTwo;\r\n  const prevMargin = prev.payload?.margemLucro;\r\n  const currMargin = curr.payload?.margemLucro;\r\n\r\n  if (\r\n    prevMargin !== undefined &&\r\n    currMargin !== undefined &&\r\n    Math.abs(currMargin - prevMargin) >= 15\r\n  ) {\r\n    const anomaly = {\r\n      message: 'Mudan├ºa abrupta de margem detectada.',\r\n      from: prevMargin,\r\n      to: currMargin,\r\n      source: curr.source,\r\n    };\r\n    emitEvent('ai:anomaly-detected', anomaly, { source: 'cognitiveEngine', priority: 7 });\r\n    logRisk(anomaly);\r\n  }\r\n}\r\n\r\nexport function getMemorySnapshot(): MemoryEntry[] {\r\n  return [...memoryBuffer];\r\n}\r\n\r\nfunction findRepeated(list: (string | undefined)[]) {\r\n  const counts: Record<string, number> = {};\r\n  list.forEach(item => {\r\n    if (!item) {return;}\r\n    counts[item] = (counts[item] || 0) + 1;\r\n  });\r\n  const top = Object.entries(counts).sort((a, b) => b[1] - a[1])[0];\r\n  if (top && top[1] >= 3) {return top[0];}\r\n  return null;\r\n}\r\n\r\nfunction mostLikely(list: (string | undefined)[]) {\r\n  const counts: Record<string, number> = {};\r\n  list.forEach(item => {\r\n    if (!item) {return;}\r\n    counts[item] = (counts[item] || 0) + 1;\r\n  });\r\n  const top = Object.entries(counts).sort((a, b) => b[1] - a[1])[0];\r\n  return top ? top[0] : null;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\cognitiveExpansionEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'EvolutionLearning' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[332,335],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[332,335],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'recordHistory' is defined but never used. Allowed unused vars must match /^_/u.","line":15,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":91,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":94,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[839,842],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[839,842],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport {\r\n  EvolutionInsight,\r\n  EvolutionLearning,\r\n  EvolutionMemory,\r\n  EvolutionPattern,\r\n  EvolutionQuery,\r\n} from '../events/evolutionEvents';\r\nimport { addEvolutionEvent, addEvolutionSnapshot } from '../../server/evolutionStore';\r\n\r\ntype HistoryEvent = { tipo: string; payload: any; timestamp: number };\r\n\r\nlet historyBuffer: HistoryEvent[] = [];\r\n\r\nfunction recordHistory(ev: HistoryEvent) {\r\n  historyBuffer.push(ev);\r\n  if (historyBuffer.length > 200) {historyBuffer.shift();}\r\n}\r\n\r\nexport function registerPattern(pattern: EvolutionPattern) {\r\n  emitEvent('ai.evolution-pattern', pattern, { source: 'cognitiveExpansionEngine', priority: 5 });\r\n  addEvolutionEvent('pattern', pattern);\r\n}\r\n\r\nexport function registerDecision(decision: { action: string; accepted: boolean; context?: any }) {\r\n  emitEvent('ai.evolution-memory', { key: decision.action, value: decision.accepted, reason: 'human-decision' }, { source: 'cognitiveExpansionEngine', priority: 4 });\r\n  addEvolutionEvent('memory', { key: decision.action, value: decision.accepted, reason: 'human-decision' });\r\n}\r\n\r\nexport function analyzeHistory(events: HistoryEvent[]) {\r\n  historyBuffer = events.slice(-200);\r\n  const freq = events.length;\r\n  emitEvent('ai.evolution-learning', { source: 'history', concept: 'event-volume', confidence: Math.min(1, freq / 500) }, { source: 'cognitiveExpansionEngine', priority: 3 });\r\n  addEvolutionEvent('learning', { source: 'history', concept: 'event-volume', confidence: Math.min(1, freq / 500) });\r\n}\r\n\r\nexport function generateInsights(): EvolutionInsight[] {\r\n  const insight: EvolutionInsight = {\r\n    insight: 'Sistema mant├®m padr├úo est├ível de uso.',\r\n    relevance: 0.5,\r\n    recommendedAction: 'Monitorar evolu├º├úo',\r\n  };\r\n  emitEvent('ai.evolution-insight', insight, { source: 'cognitiveExpansionEngine', priority: 4 });\r\n  addEvolutionEvent('insight', insight);\r\n  return [insight];\r\n}\r\n\r\nexport function identifyTrends(): EvolutionPattern[] {\r\n  const pattern: EvolutionPattern = {\r\n    pattern: 'Admin aceita recomenda├º├Áes de alto impacto',\r\n    frequency: 3,\r\n    impact: 0.8,\r\n    details: { window: '7d' },\r\n  };\r\n  registerPattern(pattern);\r\n  return [pattern];\r\n}\r\n\r\nexport function emitSnapshot() {\r\n  const snapshot = {\r\n    historySize: historyBuffer.length,\r\n    lastEvents: historyBuffer.slice(-5),\r\n  };\r\n  addEvolutionSnapshot(snapshot);\r\n  emitEvent('ai.evolution-insight', { insight: 'Snapshot gerado', relevance: 0.3, recommendedAction: 'Revisar no painel' }, { source: 'cognitiveExpansionEngine', priority: 3 });\r\n  return snapshot;\r\n}\r\n\r\nexport function handleQuery(q: EvolutionQuery) {\r\n  emitEvent('ai.evolution-query', q, { source: 'cognitiveExpansionEngine', priority: 2 });\r\n  addEvolutionEvent('query', q);\r\n}\r\n\r\nexport function captureMemory(m: EvolutionMemory) {\r\n  emitEvent('ai.evolution-memory', m, { source: 'cognitiveExpansionEngine', priority: 3 });\r\n  addEvolutionEvent('memory', m);\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\cognitiveGovernanceEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[781,784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[781,784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1114,1117],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1114,1117],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1397,1400],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1397,1400],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1711,1714],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1711,1714],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1946,1949],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1946,1949],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":74,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2698,2701],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2698,2701],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":74,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2704,2707],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2704,2707],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":82,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3050,3053],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3050,3053],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { governanceRules } from '../policies/governanceRules';\r\nimport { rewriteWithBrandVoice } from './brandVoiceEngine';\r\n\r\ninterface ValidationResult {\r\n  valid: boolean;\r\n  corrected?: boolean;\r\n  blocked?: boolean;\r\n  message?: string;\r\n  reason?: string;\r\n  severity?: string;\r\n}\r\n\r\nfunction flagInvalid(reason: string): ValidationResult {\r\n  emitEvent('ai:decision-invalid', { reason }, { source: 'cognitiveGovernanceEngine', priority: 8 });\r\n  return { valid: false, reason };\r\n}\r\n\r\nfunction emitValid(message?: string): ValidationResult {\r\n  emitEvent('ai:decision-valid', { message }, { source: 'cognitiveGovernanceEngine', priority: 5 });\r\n  return { valid: true, message };\r\n}\r\n\r\nexport function validateInsight(insight: any): ValidationResult {\r\n  if (!insight?.message) {return flagInvalid('missing_message');}\r\n  if (insight?.data?.price && insight?.data?.cost && insight.data.price < insight.data.cost) {\r\n    return flagInvalid('price_below_cost_without_justification');\r\n  }\r\n  return emitValid();\r\n}\r\n\r\nexport function validateRecommendation(rec: any): ValidationResult {\r\n  if (!rec?.action) {return flagInvalid('missing_action');}\r\n  if (rec?.action === 'fraud' || rec?.action === 'bypass_rules') {return flagInvalid('illegal_recommendation');}\r\n  return emitValid();\r\n}\r\n\r\nexport function validatePricingSuggestion(suggestion: any): ValidationResult {\r\n  if (suggestion?.price < (suggestion?.cost || 0)) {\r\n    return flagInvalid('pricing_below_cost');\r\n  }\r\n  if (suggestion?.price > (suggestion?.cost || 0) * 10) {\r\n    return flagInvalid('pricing_inflated');\r\n  }\r\n  return emitValid();\r\n}\r\n\r\nexport function validateFiscalAdvice(advice: any): ValidationResult {\r\n  if (governanceRules.fiscal.forbidIncorrectTaxes && advice?.tax && advice.tax < 0) {\r\n    return flagInvalid('invalid_tax');\r\n  }\r\n  return emitValid();\r\n}\r\n\r\nexport function validateUXAdjustment(adjustment: any): ValidationResult {\r\n  if (governanceRules.ux.forbidAlarmism && adjustment?.tone === 'alarmist') {\r\n    return flagInvalid('alarmist_ux');\r\n  }\r\n  return emitValid();\r\n}\r\n\r\nexport function correctIfUnsafe(text: string): string {\r\n  const safe = rewriteWithBrandVoice(text.replace(/garantido/gi, 'prov├ível'), 'padrao');\r\n  emitEvent('ai:decision-corrected', { text: safe }, { source: 'cognitiveGovernanceEngine', priority: 6 });\r\n  return safe;\r\n}\r\n\r\nexport function rewriteToSafeFormat(text: string): string {\r\n  const safe = rewriteWithBrandVoice(text, 'padrao');\r\n  emitEvent('ai:decision-corrected', { text: safe }, { source: 'cognitiveGovernanceEngine', priority: 5 });\r\n  return safe;\r\n}\r\n\r\nexport function downgradeSeverityIfNeeded(insight: any): any {\r\n  if (insight?.severity === 'critical' && !insight?.data?.impact) {\r\n    emitEvent('ai:decision-corrected', { reason: 'downgrade', from: 'critical', to: 'high' }, { source: 'cognitiveGovernanceEngine', priority: 5 });\r\n    return { ...insight, severity: 'high' };\r\n  }\r\n  return insight;\r\n}\r\n\r\nexport function blockIfOutsideScope(insight: any): ValidationResult {\r\n  if (insight?.scope && insight.scope !== 'pricing' && insight.scope !== 'tax' && insight.scope !== 'ux') {\r\n    emitEvent('ai:unsafe-output-blocked', { reason: 'outside_scope' }, { source: 'cognitiveGovernanceEngine', priority: 9 });\r\n    return { valid: false, blocked: true, reason: 'outside_scope' };\r\n  }\r\n  return { valid: true };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\coherenceEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[150,153],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[150,153],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[447,450],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[447,450],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[892,895],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[892,895],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'state' is defined but never used. Allowed unused args must match /^_/u.","line":35,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1289,1292],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1289,1292],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1538,1541],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1538,1541],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { logInternalInsight } from '../logs/internalInsights';\r\n\r\nexport function validateLogic(state: any) {\r\n  const contradictions = detectContradictions(state);\r\n  if (contradictions.length) {\r\n    emitEvent('ai:contradiction-detected', { contradictions }, { source: 'coherenceEngine', priority: 7 });\r\n  }\r\n  return contradictions.length === 0;\r\n}\r\n\r\nexport function detectContradictions(state: any): string[] {\r\n  const issues: string[] = [];\r\n  if (state?.risk?.level === 'high' && state?.opportunity?.signal === 'strong') {\r\n    issues.push('Risco alto coexistindo com oportunidade forte');\r\n  }\r\n  if (state?.temporal?.trend === 'decline' && state?.evolution?.evolutionScore > 0.8) {\r\n    issues.push('Tend├¬ncia de queda vs evolu├º├úo alta');\r\n  }\r\n  return issues;\r\n}\r\n\r\nexport function generateRationale(event: { tipo: string; payload: any }) {\r\n  const rationale = {\r\n    reason: `Evento ${event.tipo} processado.`,\r\n    factors: Object.keys(event.payload || {}).slice(0, 4),\r\n    confidence: 0.65,\r\n    inconsistenciesFound: [],\r\n  };\r\n  logInternalInsight(rationale);\r\n  emitEvent('ai:internal-insight', rationale, { source: 'coherenceEngine', priority: 5 });\r\n  return rationale;\r\n}\r\n\r\nexport function stabilizeIntentFlow(state: any) {\r\n  // Placeholder: in real impl, reweight intents\r\n  const coherence = 0.7;\r\n  emitEvent('ai:coherence-warning', { coherence }, { source: 'coherenceEngine', priority: 5 });\r\n  return coherence;\r\n}\r\n\r\nexport function explainDecision(decision: any) {\r\n  const explanation = {\r\n    reason: decision?.message || 'Decis├úo emitida.',\r\n    factors: Object.keys(decision?.values || {}),\r\n    confidence: decision?.values?.confidence ?? 0.6,\r\n    inconsistenciesFound: [],\r\n  };\r\n  emitEvent('ai:explainable-decision', explanation, { source: 'coherenceEngine', priority: 5 });\r\n  logInternalInsight(explanation);\r\n  return explanation;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\consciousOrchestrator.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'state' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":17,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":14},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":87,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3046,3049],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3046,3049],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { getConsciousLogs, logCoherence, logContradiction, logGovernance, logJustification } from '../logs/modeDeus_conscious';\r\nimport { getGlobalState } from './integratedCoreEngine';\r\n\r\ninterface AssessmentResult {\r\n  coherenceScore: number;\r\n  trustLevel: 'low' | 'medium' | 'high';\r\n  contradictions: string[];\r\n  reasoning: string;\r\n}\r\n\r\nfunction clamp(v: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nexport function assessGlobalState(): AssessmentResult {\r\n  const state = getGlobalState();\r\n  const contradictions = detectContradictions();\r\n  const coherenceScore = generateCoherenceScore(contradictions);\r\n  const trustLevel = coherenceScore > 0.75 ? 'high' : coherenceScore > 0.5 ? 'medium' : 'low';\r\n  const reasoning = justifyDecision(contradictions, coherenceScore);\r\n  logCoherence({ coherenceScore, trustLevel });\r\n  emitEvent(\r\n    'ai:decision-validated',\r\n    { coherenceScore, trustLevel, reasoning },\r\n    { source: 'consciousOrchestrator', priority: 6 }\r\n  );\r\n  return { coherenceScore, trustLevel, contradictions, reasoning };\r\n}\r\n\r\nexport function detectContradictions(): string[] {\r\n  const state = getGlobalState();\r\n  const issues: string[] = [];\r\n  if (state.risk?.level === 'high' && state.opportunity?.signal === 'strong') {\r\n    issues.push('Risco alto coexistindo com oportunidade forte');\r\n  }\r\n  if (state.temporal?.trend === 'decline' && state.evolution?.evolutionScore > 0.8) {\r\n    issues.push('Tend├¬ncia de queda vs. evolu├º├úo alta');\r\n  }\r\n  if (issues.length) {\r\n    logContradiction({ issues, state });\r\n    emitEvent('ai:coherence-warning', { issues }, { source: 'consciousOrchestrator', priority: 7 });\r\n  }\r\n  return issues;\r\n}\r\n\r\nexport function generateCoherenceScore(contradictions: string[]): number {\r\n  const base = 0.8;\r\n  const penalty = contradictions.length * 0.15;\r\n  const score = clamp(base - penalty, 0, 1);\r\n  return score;\r\n}\r\n\r\nexport function predictSystemRisk(): number {\r\n  const state = getGlobalState();\r\n  const risk = clamp(\r\n    (state.risk?.level === 'high' ? 0.7 : 0.3) +\r\n      (state.consistency?.drift ? 0.2 : 0) +\r\n      (state.operational?.load || 0) * 0.2 -\r\n      (state.healthScore || 0.1) * 0.3,\r\n    0,\r\n    1\r\n  );\r\n  emitEvent('ai:governance-alert', { risk }, { source: 'consciousOrchestrator', priority: 7 });\r\n  return risk;\r\n}\r\n\r\nexport function justifyDecision(issues: string[], coherenceScore: number): string {\r\n  const reasoning =\r\n    issues.length === 0\r\n      ? 'Sem contradi├º├Áes relevantes. Recomenda├º├úo liberada.'\r\n      : `Foram detectadas contradi├º├Áes: ${issues.join('; ')}. Score: ${coherenceScore.toFixed(2)}`;\r\n  logJustification({ reasoning, issues, coherenceScore });\r\n  return reasoning;\r\n}\r\n\r\nexport function harmonizeEngines() {\r\n  const state = getGlobalState();\r\n  const aligned = {\r\n    opportunity: state.opportunity,\r\n    risk: state.risk,\r\n    temporal: state.temporal,\r\n  };\r\n  logGovernance({ aligned });\r\n}\r\n\r\nexport function validateRecommendation(rec: any) {\r\n  const assessment = assessGlobalState();\r\n  const risk = predictSystemRisk();\r\n  const allowed = assessment.coherenceScore > 0.4 && risk < 0.7;\r\n  const finalRec = allowed\r\n    ? { ...rec, validatedBy: 'ConsciousLayer', trust: assessment.trustLevel }\r\n    : {\r\n        type: 'warning',\r\n        severity: 'high',\r\n        message: 'Insight bloqueado por inconsist├¬ncia. Revise sinais.',\r\n        validatedBy: 'ConsciousLayer',\r\n        trust: 'low',\r\n      };\r\n  logGovernance({ recommendation: finalRec, allowed });\r\n  return finalRec;\r\n}\r\n\r\nexport function getGlobalReasoningTrace() {\r\n  return getConsciousLogs();\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\consistencyEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\contextRebuilder.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":3,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[88,91],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[88,91],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport function rebuildContext(sample: any) {\r\n  const reconstructedState = {\r\n    inferredLoad: sample?.eventFrequency > 5 ? 'high' : 'normal',\r\n    inferredStability: sample?.avgLatency > 150 ? 'low' : 'good',\r\n  };\r\n  const confidence = Math.max(0.3, Math.min(0.9, 1 - (sample?.avgLatency || 0) / 400));\r\n  const missingSignals = sample?.silentComponents || [];\r\n  const anomalies = sample?.logAnomalies || [];\r\n\r\n  const payload = { reconstructedState, confidence, missingSignals, anomalies };\r\n  emitEvent('ai:context-reconstructed', payload, { source: 'contextRebuilder', priority: 6 });\r\n  return payload;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\continuousImprovementEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'evolutionScore' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":16,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":19},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":35,"column":26,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":35,"endColumn":43},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":82,"column":19,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":82,"endColumn":36}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { getInternalLogs } from '../logs/modeDeus_internal';\r\n\r\ninterface ImprovementParams {\r\n  sensitivity?: number;\r\n  debounceMs?: number;\r\n  maxAlerts?: number;\r\n}\r\n\r\nconst params: ImprovementParams = {\r\n  sensitivity: 0.5,\r\n  debounceMs: 400,\r\n  maxAlerts: 5,\r\n};\r\n\r\nlet evolutionScore = 0.5;\r\n\r\nfunction computeEvolutionScore(): number {\r\n  const logs = getInternalLogs();\r\n  const penalty = Math.min(0.4, logs.risk.length * 0.01 + logs.conflict.length * 0.02);\r\n  const reward = Math.min(0.4, logs.opportunity.length * 0.01 + logs.predictive.length * 0.015);\r\n  const score = Math.max(0.1, Math.min(1, 0.6 + reward - penalty));\r\n  evolutionScore = score;\r\n  emitEvent(\r\n    'ai:evolution-score-updated',\r\n    { evolutionScore: score },\r\n    { source: 'continuousImprovementEngine', priority: 4 }\r\n  );\r\n  return score;\r\n}\r\n\r\nfunction scanForWeaknesses() {\r\n  const logs = getInternalLogs();\r\n  const weaknesses: string[] = [];\r\n  if (logs.risk.length > params.maxAlerts!) {weaknesses.push('Muitos alerts de risco');}\r\n  if (logs.conflict.length > 0) {weaknesses.push('Conflitos recorrentes em decis├Áes');}\r\n  if (logs.predictive.length < 2) {weaknesses.push('Baixo volume de insights preditivos');}\r\n\r\n  emitEvent(\r\n    'ai:evolution-weakness-found',\r\n    { weaknesses },\r\n    { source: 'continuousImprovementEngine', priority: 5 }\r\n  );\r\n  return weaknesses;\r\n}\r\n\r\nfunction learnFromHistory() {\r\n  const logs = getInternalLogs();\r\n  const summary = {\r\n    risks: logs.risk.length,\r\n    opportunities: logs.opportunity.length,\r\n    predictive: logs.predictive.length,\r\n  };\r\n  emitEvent(\r\n    'ai:evolution-scan',\r\n    { summary },\r\n    { source: 'continuousImprovementEngine', priority: 4 }\r\n  );\r\n  return summary;\r\n}\r\n\r\nfunction proposeFixes(weaknesses: string[]) {\r\n  const suggestions = weaknesses.map(w => `Sugest├úo: Ajustar sensibilidade diante de ${w}`);\r\n  emitEvent(\r\n    'ai:evolution-patch-proposed',\r\n    { suggestions },\r\n    { source: 'continuousImprovementEngine', priority: 4 }\r\n  );\r\n  return suggestions;\r\n}\r\n\r\nfunction validateImpact() {\r\n  // Sandbox simulado: apenas retorno est├ítico indicando sucesso potencial\r\n  return { safe: true, expectedGain: 0.05 };\r\n}\r\n\r\nexport function analyzeAndAdjust() {\r\n  const logs = getInternalLogs();\r\n  const riskCount = logs.risk.length;\r\n  const conflictCount = logs.conflict.length;\r\n\r\n  if (riskCount > params.maxAlerts!) {\r\n    params.sensitivity = Math.min(1, (params.sensitivity || 0.5) + 0.1);\r\n  }\r\n  if (conflictCount > 0) {\r\n    params.debounceMs = Math.min(800, (params.debounceMs || 400) + 50);\r\n  }\r\n\r\n  emitEvent(\r\n    'ai:signal-quality',\r\n    { sensitivity: params.sensitivity, debounceMs: params.debounceMs },\r\n    { source: 'continuousImprovementEngine', priority: 3 }\r\n  );\r\n\r\n  emitEvent(\r\n    'ai:planner-plan-adjusted',\r\n    { parameters: params, reason: 'auto-improvement' },\r\n    { source: 'continuousImprovementEngine', priority: 3 }\r\n  );\r\n}\r\n\r\nexport function proposeImprovements() {\r\n  emitEvent(\r\n    'ai:consistency-warning',\r\n    { message: 'Sugerir ajuste de sensibilidade e debounce para reduzir falsos positivos.' },\r\n    { source: 'continuousImprovementEngine', priority: 4 }\r\n  );\r\n}\r\n\r\nexport function getCurrentParams() {\r\n  return { ...params };\r\n}\r\n\r\nexport function runEvolutionCycle() {\r\n  const summary = learnFromHistory();\r\n  const weaknesses = scanForWeaknesses();\r\n  const suggestions = proposeFixes(weaknesses);\r\n  const impact = validateImpact();\r\n  const score = computeEvolutionScore();\r\n\r\n  return { summary, weaknesses, suggestions, impact, score };\r\n}\r\n\r\nexport const _internals = {\r\n  scanForWeaknesses,\r\n  learnFromHistory,\r\n  proposeFixes,\r\n  validateImpact,\r\n  computeEvolutionScore,\r\n};\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\creatorEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":67,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2025,2028],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2025,2028],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":9,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":9,"endColumn":16,"suggestions":[{"fix":{"range":[223,284],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable no-console */\r\nimport { emitEvent } from '../core/eventBus';\r\nimport { insertAlert } from '../../server/creatorStore';\r\n\r\nexport class CreatorEngine {\r\n  constructor() {}\r\n\r\n  async runSystemScan() {\r\n    console.log('Rodando an├ílise estruturada do ecossistema...');\r\n\r\n    const insights = this.generateInsights();\r\n    const risks = this.detectRisks();\r\n    const roadmap = this.suggestRoadmap();\r\n\r\n    const payload = {\r\n      severity: this.getHighestSeverity(risks),\r\n      area: 'ecosystem',\r\n      details: { insights, risks, roadmap },\r\n      recommendation: 'Revise o painel do criador para a├º├Áes sugeridas.',\r\n      originEngine: 'creatorEngine',\r\n      confidence: 0.7,\r\n      suggestedAction: 'Abrir /admin/creator e validar recomenda├º├Áes',\r\n      timestamp: Date.now(),\r\n      message: 'Novo alerta do Painel do Criador',\r\n    };\r\n\r\n    // Persistir antes de emitir para evitar duplicidade\r\n    const saved = await insertAlert({\r\n      type: 'alert',\r\n      area: payload.area,\r\n      severity: payload.severity,\r\n      message: payload.message,\r\n      payload,\r\n      originEngine: payload.originEngine,\r\n      confidence: payload.confidence,\r\n      suggestedAction: payload.suggestedAction,\r\n      status: 'new',\r\n    });\r\n\r\n    emitEvent('ai:creator-alert', saved);\r\n    emitEvent('ai:creator-alert', saved);\r\n  }\r\n\r\n  generateInsights() {\r\n    return {\r\n      modulesUnderStress: ['pricingEngine', 'lotesEngine'],\r\n      unusedFeatures: ['legacyReports'],\r\n      optimizationTargets: ['analyticsPipeline', 'taxEngine'],\r\n    };\r\n  }\r\n\r\n  detectRisks() {\r\n    return [\r\n      { module: 'pricingEngine', risk: 'alta complexidade crescente' },\r\n      { module: 'taxEngine', risk: 'probabilidade de c├ílculos divergentes' },\r\n    ];\r\n  }\r\n\r\n  suggestRoadmap() {\r\n    return [\r\n      'Refatorar taxEngine para pipelines independentes',\r\n      'Unificar c├ílculos redundantes da BasicCalc e AdvancedCalc',\r\n      'Criar m├│dulo de precifica├º├úo offline',\r\n    ];\r\n  }\r\n\r\n  getHighestSeverity(risks: any[]) {\r\n    return risks.length > 1 ? 'high' : 'medium';\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\decisionAuditEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[125,128],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[125,128],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[447,450],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[447,450],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[567,570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[567,570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[693,696],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[693,696],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nconst MAX_LOG = 100;\r\n\r\ninterface AuditEntry {\r\n  type: string;\r\n  payload: any;\r\n  timestamp: number;\r\n}\r\n\r\nconst auditLog: AuditEntry[] = [];\r\n\r\nfunction push(entry: AuditEntry) {\r\n  auditLog.unshift(entry);\r\n  if (auditLog.length > MAX_LOG) {auditLog.pop();}\r\n  emitEvent('ai:audited-decision', entry, { source: 'decisionAuditEngine', priority: 4 });\r\n}\r\n\r\nexport function recordDecision(input: any) {\r\n  push({ type: 'decision', payload: input, timestamp: Date.now() });\r\n}\r\n\r\nexport function recordAutoFix(input: any) {\r\n  push({ type: 'autofix', payload: input, timestamp: Date.now() });\r\n}\r\n\r\nexport function recordInsightHistory(input: any) {\r\n  push({ type: 'insight', payload: input, timestamp: Date.now() });\r\n}\r\n\r\nexport function reviewLastActions(count = 10) {\r\n  return auditLog.slice(0, count);\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\dynamicPricingEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1103,1106],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1103,1106],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1135,1138],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1135,1138],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":128,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":128,"endColumn":19,"suggestions":[{"fix":{"range":[3661,3724],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":134,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":134,"endColumn":16,"suggestions":[{"fix":{"range":[3830,3884],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":180,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":180,"endColumn":16,"suggestions":[{"fix":{"range":[5258,5324],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":201,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":201,"endColumn":20,"suggestions":[{"fix":{"range":[5784,5848],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":234,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":234,"endColumn":18,"suggestions":[{"fix":{"range":[6541,6611],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":238,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":238,"endColumn":18,"suggestions":[{"fix":{"range":[6718,6793],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":250,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":250,"endColumn":24,"suggestions":[{"fix":{"range":[7131,7222],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":280,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":280,"endColumn":18,"suggestions":[{"fix":{"range":[8024,8115],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":289,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":289,"endColumn":20,"suggestions":[{"fix":{"range":[8302,8367],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":303,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":303,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8705,8708],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8705,8708],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":355,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":355,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10241,10244],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10241,10244],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":355,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":355,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10256,10259],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10256,10259],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":383,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":383,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11032,11035],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11032,11035],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":414,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":414,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12054,12057],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12054,12057],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":477,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":477,"endColumn":16,"suggestions":[{"fix":{"range":[14140,14219],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":492,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":492,"endColumn":20,"suggestions":[{"fix":{"range":[14579,14648],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":517,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":517,"endColumn":16,"suggestions":[{"fix":{"range":[15243,15325],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":544,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":544,"endColumn":22,"suggestions":[{"fix":{"range":[16140,16233],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":548,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":548,"endColumn":16,"suggestions":[{"fix":{"range":[16253,16341],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":555,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":555,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16493,16496],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16493,16496],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hour' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":594,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":594,"endColumn":21},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":634,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":634,"endColumn":16,"suggestions":[{"fix":{"range":[18895,18978],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":636,"column":19,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":636,"endColumn":30,"suggestions":[{"messageId":"suggestOptionalChain","fix":{"range":[19008,19009],"text":"?"},"desc":"Consider using the optional chain operator `?.` instead. This operator includes runtime checks, so it is safer than the compile-only non-null assertion operator."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":695,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":695,"endColumn":20,"suggestions":[{"fix":{"range":[20834,20901],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":698,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":698,"endColumn":16,"suggestions":[{"fix":{"range":[20913,21004],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":730,"column":19,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":730,"endColumn":30,"suggestions":[{"messageId":"suggestOptionalChain","fix":{"range":[21815,21816],"text":"?"},"desc":"Consider using the optional chain operator `?.` instead. This operator includes runtime checks, so it is safer than the compile-only non-null assertion operator."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":766,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":766,"endColumn":16,"suggestions":[{"fix":{"range":[22949,23039],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'rule' is defined but never used. Allowed unused args must match /^_/u.","line":785,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":785,"endColumn":43},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":785,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":785,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23598,23601],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23598,23601],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'productId' is defined but never used. Allowed unused args must match /^_/u.","line":794,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":794,"endColumn":41},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":794,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":794,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23825,23828],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23825,23828],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":843,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":843,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[25068,25071],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[25068,25071],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":869,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":869,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26035,26038],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26035,26038],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":892,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":892,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26916,26919],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26916,26919],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":36,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * =====================================================\n * AZURIA v2.0 - DYNAMIC PRICING ENGINE\n * =====================================================\n * Engine inteligente de precifica├º├úo din├ómica autom├ítica\n * \n * Funcionalidades:\n * - Cria├º├úo e gest├úo de regras de precifica├º├úo\n * - Execu├º├úo autom├ítica baseada em condi├º├Áes\n * - Estrat├®gias pr├®-configuradas (aggressive, competitive, premium)\n * - Simula├º├úo de impacto de mudan├ºas de pre├ºo\n * - Otimiza├º├úo de margem vs volume\n * \n * @module dynamicPricingEngine\n * @created 13/12/2024\n * =====================================================\n */\n\nimport { GoogleGenerativeAI } from '@google/generative-ai';\nimport { supabase } from '@/lib/supabase';\n\n// =====================================================\n// TYPES\n// =====================================================\n\nexport interface PricingRule {\n  id: string;\n  userId: string;\n  ruleName: string;\n  description?: string;\n  priority: number;\n  ruleType: 'margin_based' | 'competitor_based' | 'demand_based' | 'time_based' | 'inventory_based' | 'custom';\n  conditions: Record<string, any>;\n  actions: Record<string, any>;\n  applyTo: 'all' | 'category' | 'product' | 'marketplace' | 'tag';\n  applyToIds: string[];\n  targetMarketplaces: string[];\n  minPriceLimit?: number;\n  maxPriceLimit?: number;\n  maxAdjustmentPercent: number;\n  isActive: boolean;\n  isAutomatic: boolean;\n  lastExecutedAt?: Date;\n  executionCount: number;\n}\n\nexport interface PricingStrategy {\n  id: string;\n  userId: string;\n  strategyName: string;\n  description?: string;\n  strategyType: 'aggressive' | 'competitive' | 'premium' | 'value' | 'dynamic' | 'custom';\n  baseMargin: number;\n  minMargin: number;\n  maxMargin?: number;\n  competitorMatchThreshold: number;\n  undercutBy: number;\n  demandSensitivity: number;\n  timeBasedMultipliers?: Record<string, number>;\n  inventoryBasedAdjustments?: Record<string, number>;\n  isDefault: boolean;\n  applyToCategories: string[];\n}\n\nexport interface PriceAdjustment {\n  id: string;\n  userId: string;\n  productId?: string;\n  productName: string;\n  sku?: string;\n  oldPrice: number;\n  newPrice: number;\n  priceChange: number;\n  priceChangePercent: number;\n  source: 'rule' | 'suggestion' | 'manual' | 'ai_recommendation' | 'competitor_match';\n  sourceId?: string;\n  marketplace?: string;\n  status: 'pending' | 'applied' | 'failed' | 'reverted';\n  appliedAt: Date;\n  appliedBy: string;\n}\n\nexport interface PriceSimulation {\n  id: string;\n  userId: string;\n  productName: string;\n  currentPrice: number;\n  costPrice: number;\n  scenarios: Array<{\n    price: number;\n    estimatedSales: number;\n    estimatedRevenue: number;\n    margin: number;\n  }>;\n  recommendedPrice: number;\n  recommendationReason: string;\n  simulationType: 'demand_curve' | 'competitor_response' | 'margin_optimization' | 'sensitivity_analysis';\n  optimalMargin?: number;\n  estimatedImpact: 'revenue_max' | 'volume_max' | 'margin_max' | 'balanced';\n}\n\nexport interface OptimizationResult {\n  optimalPrice: number;\n  expectedRevenue: number;\n  expectedMargin: number;\n  expectedVolume: number;\n  confidence: number;\n  reasoning: string;\n}\n\n// =====================================================\n// CLASSE PRINCIPAL\n// =====================================================\n\nclass DynamicPricingEngine {\n  private genAI: GoogleGenerativeAI | null = null;\n  private isInitialized = false;\n  private autoExecutionInterval: NodeJS.Timeout | null = null;\n  private isAutoExecuting = false;\n\n  /**\n   * Inicializa o engine com a API key do Gemini\n   */\n  initDynamicPricing(): void {\n    const apiKey = import.meta.env.VITE_GEMINI_API_KEY;\n    \n    if (!apiKey) {\n      console.warn('[DynamicPricing] Gemini API key n├úo encontrada');\n      return;\n    }\n\n    this.genAI = new GoogleGenerativeAI(apiKey);\n    this.isInitialized = true;\n    console.log('[DynamicPricing] Ô£à Engine inicializado');\n  }\n\n  /**\n   * Verifica se o engine est├í inicializado\n   */\n  private checkInitialized(): void {\n    if (!this.isInitialized || !this.genAI) {\n      throw new Error('DynamicPricing engine n├úo inicializado. Chame initDynamicPricing() primeiro.');\n    }\n  }\n\n  // =====================================================\n  // GEST├âO DE REGRAS\n  // =====================================================\n\n  /**\n   * Cria uma nova regra de precifica├º├úo\n   */\n  async createRule(rule: Omit<PricingRule, 'id' | 'executionCount' | 'lastExecutedAt'>): Promise<PricingRule> {\n    const { data, error } = await supabase\n      .from('pricing_rules')\n      .insert({\n        user_id: rule.userId,\n        rule_name: rule.ruleName,\n        description: rule.description,\n        priority: rule.priority,\n        rule_type: rule.ruleType,\n        conditions: rule.conditions,\n        actions: rule.actions,\n        apply_to: rule.applyTo,\n        apply_to_ids: rule.applyToIds,\n        target_marketplaces: rule.targetMarketplaces,\n        min_price_limit: rule.minPriceLimit,\n        max_price_limit: rule.maxPriceLimit,\n        max_adjustment_percent: rule.maxAdjustmentPercent,\n        is_active: rule.isActive,\n        is_automatic: rule.isAutomatic,\n      })\n      .select()\n      .single();\n\n    if (error) {\n      throw new Error(`Erro ao criar regra: ${error.message}`);\n    }\n\n    console.log(`[DynamicPricing] Ô£à Regra \"${rule.ruleName}\" criada`);\n    return this.mapRuleFromDB(data);\n  }\n\n  /**\n   * Lista regras do usu├írio\n   */\n  async getRules(userId: string, activeOnly: boolean = false): Promise<PricingRule[]> {\n    let query = supabase\n      .from('pricing_rules')\n      .select('*')\n      .eq('user_id', userId)\n      .order('priority', { ascending: false });\n\n    if (activeOnly) {\n      query = query.eq('is_active', true);\n    }\n\n    const { data, error } = await query;\n\n    if (error) {\n      console.error('[DynamicPricing] Erro ao buscar regras:', error);\n      return [];\n    }\n\n    return (data || []).map(this.mapRuleFromDB);\n  }\n\n  /**\n   * Executa uma regra espec├¡fica\n   */\n  async executeRule(ruleId: string): Promise<{\n    success: boolean;\n    productsEvaluated: number;\n    productsUpdated: number;\n    adjustments: PriceAdjustment[];\n    error?: string;\n  }> {\n    this.checkInitialized();\n\n    try {\n      // Buscar regra\n      const { data: ruleData, error: ruleError } = await supabase\n        .from('pricing_rules')\n        .select('*')\n        .eq('id', ruleId)\n        .single();\n\n      if (ruleError || !ruleData) {\n        throw new Error('Regra n├úo encontrada');\n      }\n\n      const rule = this.mapRuleFromDB(ruleData);\n\n      console.log(`[DynamicPricing] ÔÜÖ´©Å Executando regra: ${rule.ruleName}`);\n\n      // Buscar produtos aplic├íveis\n      const products = await this.getApplicableProducts(rule);\n      console.log(`[DynamicPricing] ­ƒôª ${products.length} produtos encontrados`);\n\n      const adjustments: PriceAdjustment[] = [];\n\n      // Aplicar regra em cada produto\n      for (const product of products) {\n        try {\n          const adjustment = await this.applyRuleToProduct(rule, product);\n          if (adjustment) {\n            adjustments.push(adjustment);\n          }\n        } catch (error) {\n          console.error(`[DynamicPricing] Erro ao aplicar regra no produto ${product.name}:`, error);\n        }\n      }\n\n      // Atualizar contadores da regra\n      await supabase\n        .from('pricing_rules')\n        .update({\n          execution_count: rule.executionCount + 1,\n          last_executed_at: new Date().toISOString(),\n        })\n        .eq('id', ruleId);\n\n      // Registrar execu├º├úo\n      await supabase.from('pricing_rule_executions').insert({\n        pricing_rule_id: ruleId,\n        user_id: rule.userId,\n        products_evaluated: products.length,\n        products_updated: adjustments.length,\n        success: true,\n        execution_log: {\n          adjustments: adjustments.map(a => ({\n            product: a.productName,\n            oldPrice: a.oldPrice,\n            newPrice: a.newPrice,\n            change: a.priceChangePercent,\n          })),\n        },\n      });\n\n      console.log(`[DynamicPricing] Ô£à Regra executada: ${adjustments.length} ajustes aplicados`);\n\n      return {\n        success: true,\n        productsEvaluated: products.length,\n        productsUpdated: adjustments.length,\n        adjustments,\n      };\n    } catch (error) {\n      console.error('[DynamicPricing] Erro ao executar regra:', error);\n      return {\n        success: false,\n        productsEvaluated: 0,\n        productsUpdated: 0,\n        adjustments: [],\n        error: error instanceof Error ? error.message : 'Erro desconhecido',\n      };\n    }\n  }\n\n  /**\n   * Aplica regra em um produto espec├¡fico\n   */\n  private async applyRuleToProduct(rule: PricingRule, product: any): Promise<PriceAdjustment | null> {\n    // Avaliar condi├º├Áes\n    const conditionsMet = this.evaluateConditions(rule.conditions, product);\n    \n    if (!conditionsMet) {\n      return null; // Condi├º├Áes n├úo atendidas\n    }\n\n    // Calcular novo pre├ºo baseado nas a├º├Áes\n    const newPrice = this.calculateNewPrice(rule, product);\n\n    // Aplicar limites de seguran├ºa\n    const safePrice = this.applySafeLimits(newPrice, rule, product);\n\n    // Verificar se houve mudan├ºa significativa\n    const priceChange = safePrice - product.currentPrice;\n    const priceChangePercent = (priceChange / product.currentPrice) * 100;\n\n    if (Math.abs(priceChangePercent) < 0.5) {\n      return null; // Mudan├ºa insignificante\n    }\n\n    // Criar ajuste\n    const { data, error } = await supabase\n      .from('price_adjustments')\n      .insert({\n        user_id: rule.userId,\n        product_id: product.id,\n        product_name: product.name,\n        sku: product.sku,\n        old_price: product.currentPrice,\n        new_price: safePrice,\n        price_change_percent: priceChangePercent,\n        source: 'rule',\n        source_id: rule.id,\n        marketplace: product.marketplace,\n        status: rule.isAutomatic ? 'applied' : 'pending',\n        applied_by: 'system',\n      })\n      .select()\n      .single();\n\n    if (error) {\n      throw new Error(`Erro ao criar ajuste: ${error.message}`);\n    }\n\n    return this.mapAdjustmentFromDB(data);\n  }\n\n  /**\n   * Avalia condi├º├Áes da regra\n   */\n  private evaluateConditions(conditions: Record<string, any>, product: any): boolean {\n    // Implementa├º├úo simplificada - expandir conforme necess├írio\n    \n    if (conditions.min_margin !== undefined) {\n      const margin = ((product.currentPrice - product.cost) / product.currentPrice) * 100;\n      if (margin < conditions.min_margin) {\n        return true;\n      }\n    }\n\n    if (conditions.max_competitors !== undefined) {\n      if (product.competitorsCount > conditions.max_competitors) {\n        return true;\n      }\n    }\n\n    if (conditions.stock_level !== undefined) {\n      if (product.stock <= conditions.stock_level) {\n        return true;\n      }\n    }\n\n    return true; // Por padr├úo, condi├º├Áes s├úo atendidas\n  }\n\n  /**\n   * Calcula novo pre├ºo baseado nas a├º├Áes da regra\n   */\n  private calculateNewPrice(rule: PricingRule, product: any): number {\n    const actions = rule.actions;\n    let newPrice = product.currentPrice;\n\n    if (actions.price_adjustment !== undefined) {\n      const adjustment = actions.price_adjustment;\n      \n      if (actions.adjustment_type === 'percentage') {\n        newPrice = product.currentPrice * (1 + adjustment / 100);\n      } else if (actions.adjustment_type === 'fixed') {\n        newPrice = product.currentPrice + adjustment;\n      } else if (actions.adjustment_type === 'set') {\n        newPrice = adjustment;\n      }\n    }\n\n    if (actions.match_competitor === true && product.lowestCompetitorPrice) {\n      const undercut = actions.undercut_by || 1.0;\n      newPrice = product.lowestCompetitorPrice * (1 - undercut / 100);\n    }\n\n    if (actions.target_margin !== undefined && product.cost) {\n      newPrice = product.cost / (1 - actions.target_margin / 100);\n    }\n\n    return newPrice;\n  }\n\n  /**\n   * Aplica limites de seguran├ºa no pre├ºo\n   */\n  private applySafeLimits(price: number, rule: PricingRule, product: any): number {\n    let safePrice = price;\n\n    // Limite m├¡nimo da regra\n    if (rule.minPriceLimit) {\n      safePrice = Math.max(safePrice, rule.minPriceLimit);\n    }\n\n    // Limite m├íximo da regra\n    if (rule.maxPriceLimit) {\n      safePrice = Math.min(safePrice, rule.maxPriceLimit);\n    }\n\n    // Limite de ajuste percentual\n    const maxChange = (product.currentPrice * rule.maxAdjustmentPercent) / 100;\n    const change = safePrice - product.currentPrice;\n    \n    if (Math.abs(change) > maxChange) {\n      safePrice = product.currentPrice + (change > 0 ? maxChange : -maxChange);\n    }\n\n    // Garantir pre├ºo m├¡nimo baseado em custo\n    if (product.cost) {\n      const minPriceFromCost = product.cost * 1.05; // M├¡nimo 5% de margem\n      safePrice = Math.max(safePrice, minPriceFromCost);\n    }\n\n    return Math.round(safePrice * 100) / 100; // Arredondar para 2 decimais\n  }\n\n  // =====================================================\n  // ESTRAT├ëGIAS\n  // =====================================================\n\n  /**\n   * Cria estrat├®gia de precifica├º├úo\n   */\n  async createStrategy(strategy: Omit<PricingStrategy, 'id'>): Promise<PricingStrategy> {\n    const { data, error } = await supabase\n      .from('pricing_strategies')\n      .insert({\n        user_id: strategy.userId,\n        strategy_name: strategy.strategyName,\n        description: strategy.description,\n        strategy_type: strategy.strategyType,\n        base_margin: strategy.baseMargin,\n        min_margin: strategy.minMargin,\n        max_margin: strategy.maxMargin,\n        competitor_match_threshold: strategy.competitorMatchThreshold,\n        undercut_by: strategy.undercutBy,\n        demand_sensitivity: strategy.demandSensitivity,\n        time_based_multipliers: strategy.timeBasedMultipliers,\n        inventory_based_adjustments: strategy.inventoryBasedAdjustments,\n        is_default: strategy.isDefault,\n        apply_to_categories: strategy.applyToCategories,\n      })\n      .select()\n      .single();\n\n    if (error) {\n      throw new Error(`Erro ao criar estrat├®gia: ${error.message}`);\n    }\n\n    console.log(`[DynamicPricing] Ô£à Estrat├®gia \"${strategy.strategyName}\" criada`);\n    return this.mapStrategyFromDB(data);\n  }\n\n  /**\n   * Obt├®m estrat├®gias do usu├írio\n   */\n  async getStrategies(userId: string): Promise<PricingStrategy[]> {\n    const { data, error } = await supabase\n      .from('pricing_strategies')\n      .select('*')\n      .eq('user_id', userId)\n      .order('is_default', { ascending: false });\n\n    if (error) {\n      console.error('[DynamicPricing] Erro ao buscar estrat├®gias:', error);\n      return [];\n    }\n\n    return (data || []).map(this.mapStrategyFromDB);\n  }\n\n  /**\n   * Aplica estrat├®gia pr├®-configurada\n   */\n  async applyStrategy(strategyId: string, productIds: string[]): Promise<PriceAdjustment[]> {\n    this.checkInitialized();\n\n    // Buscar estrat├®gia\n    const { data: strategyData, error } = await supabase\n      .from('pricing_strategies')\n      .select('*')\n      .eq('id', strategyId)\n      .single();\n\n    if (error || !strategyData) {\n      throw new Error('Estrat├®gia n├úo encontrada');\n    }\n\n    const strategy = this.mapStrategyFromDB(strategyData);\n    console.log(`[DynamicPricing] ­ƒôè Aplicando estrat├®gia: ${strategy.strategyName}`);\n\n    const adjustments: PriceAdjustment[] = [];\n\n    // Aplicar em cada produto\n    for (const productId of productIds) {\n      try {\n        // Buscar dados do produto (implementar conforme necess├írio)\n        const product = await this.getProductData(productId);\n        \n        if (product) {\n          const newPrice = this.calculatePriceWithStrategy(strategy, product);\n          \n          const adjustment = await this.createAdjustment({\n            userId: strategy.userId,\n            productId: product.id,\n            productName: product.name,\n            sku: product.sku,\n            oldPrice: product.currentPrice,\n            newPrice,\n            source: 'manual',\n            sourceId: strategyId,\n          });\n\n          adjustments.push(adjustment);\n        }\n      } catch (error) {\n        console.error(`[DynamicPricing] Erro ao aplicar estrat├®gia no produto ${productId}:`, error);\n      }\n    }\n\n    console.log(`[DynamicPricing] Ô£à Estrat├®gia aplicada em ${adjustments.length} produtos`);\n    return adjustments;\n  }\n\n  /**\n   * Calcula pre├ºo usando estrat├®gia\n   */\n  private calculatePriceWithStrategy(strategy: PricingStrategy, product: any): number {\n    const cost = product.cost || 0;\n    let price = cost;\n\n    switch (strategy.strategyType) {\n      case 'aggressive':\n        // Menor pre├ºo poss├¡vel mantendo margem m├¡nima\n        price = cost / (1 - strategy.minMargin / 100);\n        if (product.lowestCompetitorPrice) {\n          price = Math.min(price, product.lowestCompetitorPrice * 0.98);\n        }\n        break;\n\n      case 'competitive':\n        // Baseado na margem alvo e competi├º├úo\n        price = cost / (1 - strategy.baseMargin / 100);\n        if (product.avgCompetitorPrice) {\n          price = (price + product.avgCompetitorPrice) / 2;\n        }\n        break;\n\n      case 'premium':\n        // M├íxima margem poss├¡vel\n        price = cost / (1 - (strategy.maxMargin || strategy.baseMargin) / 100);\n        break;\n\n      case 'value':\n        // Equilibrado entre margem e volume\n        price = cost / (1 - strategy.baseMargin / 100);\n        break;\n\n      case 'dynamic':\n        // Ajustes baseados em contexto\n        price = cost / (1 - strategy.baseMargin / 100);\n        \n        // Aplicar multiplicadores temporais\n        if (strategy.timeBasedMultipliers) {\n          const now = new Date();\n          const dayOfWeek = now.getDay();\n          const hour = now.getHours();\n          \n          // Exemplo: aumentar pre├ºo no fim de semana\n          if (dayOfWeek === 0 || dayOfWeek === 6) {\n            price *= strategy.timeBasedMultipliers.weekend || 1.0;\n          }\n        }\n        \n        // Ajustes por estoque\n        if (strategy.inventoryBasedAdjustments && product.stock !== undefined) {\n          if (product.stock < 10) {\n            price *= strategy.inventoryBasedAdjustments.low_stock || 1.0;\n          } else if (product.stock > 100) {\n            price *= strategy.inventoryBasedAdjustments.overstock || 1.0;\n          }\n        }\n        break;\n\n      default:\n        price = cost / (1 - strategy.baseMargin / 100);\n    }\n\n    return Math.round(price * 100) / 100;\n  }\n\n  // =====================================================\n  // SIMULA├ç├òES\n  // =====================================================\n\n  /**\n   * Simula impacto de mudan├ºas de pre├ºo\n   */\n  async simulatePriceChange(\n    productName: string,\n    currentPrice: number,\n    costPrice: number,\n    priceRange: { min: number; max: number; step: number }\n  ): Promise<PriceSimulation> {\n    this.checkInitialized();\n\n    console.log(`[DynamicPricing] ­ƒö« Simulando mudan├ºas de pre├ºo para ${productName}`);\n\n    const model = this.genAI!.getGenerativeModel({ model: 'gemini-1.5-flash' });\n\n    const prompt = `\nVoc├¬ ├® um especialista em precifica├º├úo e an├ílise de demanda.\n\nProduto: ${productName}\nPre├ºo Atual: R$ ${currentPrice.toFixed(2)}\nCusto: R$ ${costPrice.toFixed(2)}\nRange de Simula├º├úo: R$ ${priceRange.min.toFixed(2)} - R$ ${priceRange.max.toFixed(2)}\n\nSimule o impacto de diferentes pre├ºos nas vendas, considerando elasticidade de demanda.\nGere cen├írios realistas variando o pre├ºo de ${priceRange.min} at├® ${priceRange.max} em steps de ${priceRange.step}.\n\nPara cada cen├írio, estime:\n- Vendas esperadas (unidades)\n- Receita total\n- Margem em %\n\nRetorne APENAS um JSON:\n{\n  \"scenarios\": [\n    {\"price\": 100, \"estimatedSales\": 50, \"estimatedRevenue\": 5000, \"margin\": 30}\n  ],\n  \"recommendedPrice\": 120,\n  \"recommendationReason\": \"Maximiza receita mantendo volume saud├ível\",\n  \"optimalMargin\": 35,\n  \"estimatedImpact\": \"revenue_max\"\n}\n    `.trim();\n\n    const result = await model.generateContent(prompt);\n    const text = result.response.text().trim();\n\n    const jsonMatch = text.match(/\\{[\\s\\S]*\\}/);\n    if (!jsonMatch) {\n      throw new Error('Resposta n├úo cont├®m JSON v├ílido');\n    }\n\n    const simData = JSON.parse(jsonMatch[0]);\n\n    // Salvar simula├º├úo\n    const { data, error } = await supabase\n      .from('price_simulations')\n      .insert({\n        user_id: '', // Pegar do contexto\n        product_name: productName,\n        current_price: currentPrice,\n        cost_price: costPrice,\n        scenarios: simData.scenarios,\n        recommended_price: simData.recommendedPrice,\n        recommendation_reason: simData.recommendationReason,\n        simulation_type: 'demand_curve',\n        optimal_margin: simData.optimalMargin,\n        estimated_impact: simData.estimatedImpact,\n      })\n      .select()\n      .single();\n\n    if (error) {\n      console.error('[DynamicPricing] Erro ao salvar simula├º├úo:', error);\n    }\n\n    console.log(`[DynamicPricing] Ô£à Simula├º├úo completa: ${simData.scenarios.length} cen├írios`);\n\n    return {\n      id: data?.id || '',\n      userId: data?.user_id || '',\n      productName,\n      currentPrice,\n      costPrice,\n      scenarios: simData.scenarios,\n      recommendedPrice: simData.recommendedPrice,\n      recommendationReason: simData.recommendationReason,\n      simulationType: 'demand_curve',\n      optimalMargin: simData.optimalMargin,\n      estimatedImpact: simData.estimatedImpact,\n    };\n  }\n\n  /**\n   * Otimiza pre├ºo para maximizar objetivo\n   */\n  async optimizePrice(\n    product: {\n      name: string;\n      currentPrice: number;\n      cost: number;\n      avgSales: number;\n      competitorAvgPrice?: number;\n    },\n    objective: 'revenue' | 'margin' | 'volume' | 'balanced' = 'balanced'\n  ): Promise<OptimizationResult> {\n    this.checkInitialized();\n\n    const model = this.genAI!.getGenerativeModel({ model: 'gemini-1.5-flash' });\n\n    const prompt = `\nVoc├¬ ├® um especialista em otimiza├º├úo de pre├ºos.\n\nProduto: ${product.name}\nPre├ºo Atual: R$ ${product.currentPrice.toFixed(2)}\nCusto: R$ ${product.cost.toFixed(2)}\nVendas M├®dias: ${product.avgSales} un/m├¬s\nPre├ºo M├®dio Concorrentes: ${product.competitorAvgPrice ? `R$ ${product.competitorAvgPrice.toFixed(2)}` : 'N/A'}\n\nObjetivo: Maximizar ${objective === 'revenue' ? 'RECEITA' : objective === 'margin' ? 'MARGEM' : objective === 'volume' ? 'VOLUME' : 'EQUIL├ìBRIO'}\n\nCalcule o pre├ºo ├│timo e justifique sua recomenda├º├úo.\n\nRetorne APENAS um JSON:\n{\n  \"optimalPrice\": 125.50,\n  \"expectedRevenue\": 15000,\n  \"expectedMargin\": 35,\n  \"expectedVolume\": 120,\n  \"confidence\": 0.85,\n  \"reasoning\": \"Pre├ºo equilibrado que maximiza receita mantendo competitividade\"\n}\n    `.trim();\n\n    const result = await model.generateContent(prompt);\n    const text = result.response.text().trim();\n\n    const jsonMatch = text.match(/\\{[\\s\\S]*\\}/);\n    if (!jsonMatch) {\n      throw new Error('Resposta n├úo cont├®m JSON v├ílido');\n    }\n\n    const optData = JSON.parse(jsonMatch[0]);\n\n    console.log(`[DynamicPricing] ­ƒÄ» Pre├ºo otimizado: R$ ${optData.optimalPrice.toFixed(2)}`);\n\n    return {\n      optimalPrice: optData.optimalPrice,\n      expectedRevenue: optData.expectedRevenue,\n      expectedMargin: optData.expectedMargin,\n      expectedVolume: optData.expectedVolume,\n      confidence: optData.confidence,\n      reasoning: optData.reasoning,\n    };\n  }\n\n  // =====================================================\n  // UTILIT├üRIOS PRIVADOS\n  // =====================================================\n\n  /**\n   * Busca produtos aplic├íveis para uma regra (mock)\n   */\n  private async getApplicableProducts(rule: PricingRule): Promise<any[]> {\n    // TODO: Implementar busca real de produtos\n    // Por enquanto, retorna array vazio\n    return [];\n  }\n\n  /**\n   * Busca dados de um produto (mock)\n   */\n  private async getProductData(productId: string): Promise<any | null> {\n    // TODO: Implementar busca real\n    return null;\n  }\n\n  /**\n   * Cria um ajuste de pre├ºo\n   */\n  private async createAdjustment(data: {\n    userId: string;\n    productId?: string;\n    productName: string;\n    sku?: string;\n    oldPrice: number;\n    newPrice: number;\n    source: PriceAdjustment['source'];\n    sourceId?: string;\n  }): Promise<PriceAdjustment> {\n    const priceChange = data.newPrice - data.oldPrice;\n    const priceChangePercent = (priceChange / data.oldPrice) * 100;\n\n    const { data: adjusted, error } = await supabase\n      .from('price_adjustments')\n      .insert({\n        user_id: data.userId,\n        product_id: data.productId,\n        product_name: data.productName,\n        sku: data.sku,\n        old_price: data.oldPrice,\n        new_price: data.newPrice,\n        price_change_percent: priceChangePercent,\n        source: data.source,\n        source_id: data.sourceId,\n        status: 'pending',\n        applied_by: 'system',\n      })\n      .select()\n      .single();\n\n    if (error) {\n      throw new Error(`Erro ao criar ajuste: ${error.message}`);\n    }\n\n    return this.mapAdjustmentFromDB(adjusted);\n  }\n\n  /**\n   * Mapeia dados do banco para PricingRule\n   */\n  private mapRuleFromDB(data: any): PricingRule {\n    return {\n      id: data.id,\n      userId: data.user_id,\n      ruleName: data.rule_name,\n      description: data.description,\n      priority: data.priority,\n      ruleType: data.rule_type,\n      conditions: data.conditions,\n      actions: data.actions,\n      applyTo: data.apply_to,\n      applyToIds: data.apply_to_ids || [],\n      targetMarketplaces: data.target_marketplaces || [],\n      minPriceLimit: data.min_price_limit ? parseFloat(data.min_price_limit) : undefined,\n      maxPriceLimit: data.max_price_limit ? parseFloat(data.max_price_limit) : undefined,\n      maxAdjustmentPercent: parseFloat(data.max_adjustment_percent),\n      isActive: data.is_active,\n      isAutomatic: data.is_automatic,\n      lastExecutedAt: data.last_executed_at ? new Date(data.last_executed_at) : undefined,\n      executionCount: data.execution_count,\n    };\n  }\n\n  /**\n   * Mapeia dados do banco para PricingStrategy\n   */\n  private mapStrategyFromDB(data: any): PricingStrategy {\n    return {\n      id: data.id,\n      userId: data.user_id,\n      strategyName: data.strategy_name,\n      description: data.description,\n      strategyType: data.strategy_type,\n      baseMargin: parseFloat(data.base_margin),\n      minMargin: parseFloat(data.min_margin),\n      maxMargin: data.max_margin ? parseFloat(data.max_margin) : undefined,\n      competitorMatchThreshold: parseFloat(data.competitor_match_threshold),\n      undercutBy: parseFloat(data.undercut_by),\n      demandSensitivity: parseFloat(data.demand_sensitivity),\n      timeBasedMultipliers: data.time_based_multipliers,\n      inventoryBasedAdjustments: data.inventory_based_adjustments,\n      isDefault: data.is_default,\n      applyToCategories: data.apply_to_categories || [],\n    };\n  }\n\n  /**\n   * Mapeia dados do banco para PriceAdjustment\n   */\n  private mapAdjustmentFromDB(data: any): PriceAdjustment {\n    return {\n      id: data.id,\n      userId: data.user_id,\n      productId: data.product_id,\n      productName: data.product_name,\n      sku: data.sku,\n      oldPrice: parseFloat(data.old_price),\n      newPrice: parseFloat(data.new_price),\n      priceChange: parseFloat(data.price_change),\n      priceChangePercent: parseFloat(data.price_change_percent),\n      source: data.source,\n      sourceId: data.source_id,\n      marketplace: data.marketplace,\n      status: data.status,\n      appliedAt: new Date(data.applied_at),\n      appliedBy: data.applied_by,\n    };\n  }\n}\n\n// =====================================================\n// SINGLETON EXPORT\n// =====================================================\n\nconst dynamicPricingEngine = new DynamicPricingEngine();\nexport default dynamicPricingEngine;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\emotionProfiles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\engagementEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":46,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":46,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1534,1537],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1534,1537],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { speak } from './brandVoiceEngine';\r\n\r\nexport interface EngagementState {\r\n  streak: number;\r\n  lastActive: number;\r\n  motivationLevel: number; // 0-1\r\n  achievements: number;\r\n  recommendedNextAction?: string;\r\n}\r\n\r\nconst state: EngagementState = {\r\n  streak: 0,\r\n  lastActive: Date.now(),\r\n  motivationLevel: 0.6,\r\n  achievements: 0,\r\n};\r\n\r\nfunction clamp(v: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nexport function detectMotivation(activityScore: number) {\r\n  state.motivationLevel = clamp(0.5 + activityScore * 0.3, 0, 1);\r\n  emitEvent('ai:user-motivation-level', { motivationLevel: state.motivationLevel }, { source: 'engagementEngine', priority: 5 });\r\n}\r\n\r\nexport function detectUsageDrop(now = Date.now()) {\r\n  const diff = now - state.lastActive;\r\n  if (diff > 1000 * 60 * 60 * 24) {\r\n    emitEvent('ai:engagement-drop-detected', { inactiveHours: diff / 3600000 }, { source: 'engagementEngine', priority: 7 });\r\n  }\r\n}\r\n\r\nexport function analyzeStreak(progress: boolean) {\r\n  if (progress) {\r\n    state.streak += 1;\r\n    state.achievements += 1;\r\n    emitEvent('ai:achievement-unlocked', { streak: state.streak, achievements: state.achievements }, { source: 'engagementEngine', priority: 6 });\r\n  } else {\r\n    state.streak = Math.max(0, state.streak - 1);\r\n  }\r\n  emitEvent('ai:engagement-progress', { streak: state.streak }, { source: 'engagementEngine', priority: 5 });\r\n}\r\n\r\nexport function computeRecommendedNextAction(context?: any) {\r\n  const action = context?.intent === 'pricing' ? 'Revisar pre├ºos sugeridos' : 'Explorar insights de IA';\r\n  state.recommendedNextAction = action;\r\n  const spoken = speak(action, 'motivador', { user: context?.user, personaSignals: context?.persona });\r\n  emitEvent(\r\n    'ai:next-best-action',\r\n    { action: spoken.message, brandTone: spoken.tone, persona: spoken.persona },\r\n    { source: 'engagementEngine', priority: 5 }\r\n  );\r\n  return spoken.message;\r\n}\r\n\r\nexport function getEngagementSnapshot(): EngagementState {\r\n  return { ...state };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\ethicalGuardEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[678,681],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[678,681],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1679,1682],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1679,1682],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { rewriteWithBrandVoice } from './brandVoiceEngine';\r\n\r\nexport interface EthicalState {\r\n  risk?: number;\r\n  intent?: string;\r\n  userGoal?: string;\r\n  aiPlan?: string;\r\n}\r\n\r\nfunction emitWarning(message: string, risk: number) {\r\n  emitEvent('ai:ethical-warning', { message, risk }, { source: 'ethicalGuardEngine', priority: 9 });\r\n}\r\n\r\nexport function evaluateEthicalRisk(state: EthicalState) {\r\n  const risk = state.risk ?? (state.aiPlan?.includes('bypass') ? 0.8 : 0.2);\r\n  if (risk >= 0.6) {\r\n    emitWarning('Risco ├®tico elevado detectado.', risk);\r\n  }\r\n  return risk;\r\n}\r\n\r\nexport function detectUnsafeIntent(context: any) {\r\n  if (!context) {return false;}\r\n  const unsafe =\r\n    context.intent === 'fraud' ||\r\n    context.action === 'bypass_rules' ||\r\n    context.message?.toLowerCase().includes('ilegal');\r\n  if (unsafe) {\r\n    emitWarning('Inten├º├úo insegura bloqueada.', 0.9);\r\n  }\r\n  return unsafe;\r\n}\r\n\r\nexport function correctiveIntent(state: EthicalState) {\r\n  const corrected = rewriteWithBrandVoice('Redirecionando para um caminho seguro e em conformidade.', 'padrao');\r\n  emitEvent('ai:alignment-corrected', { message: corrected }, { source: 'ethicalGuardEngine', priority: 8 });\r\n  return { ...state, correctedMessage: corrected };\r\n}\r\n\r\nexport function scoreAlignment(userGoal?: string, aiPlan?: string) {\r\n  if (!userGoal || !aiPlan) {return 0.5;}\r\n  const aligned = aiPlan.toLowerCase().includes(userGoal.toLowerCase());\r\n  const score = aligned ? 0.9 : 0.3;\r\n  if (!aligned) {emitWarning('Plano desalinhado com objetivo do usu├írio.', 0.7);}\r\n  return score;\r\n}\r\n\r\nexport function enforceEthics(payload: any) {\r\n  const risk = evaluateEthicalRisk(payload);\r\n  const unsafe = detectUnsafeIntent(payload);\r\n  if (risk >= 0.6 || unsafe) {\r\n    const safe = correctiveIntent(payload);\r\n    emitEvent('ai:unsafe-output-blocked', { reason: 'ethical_guard', original: payload }, { source: 'ethicalGuardEngine', priority: 10 });\r\n    return { blocked: true, safe };\r\n  }\r\n  return { blocked: false };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\explanationEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\feedbackLoopEngine.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":135,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":135,"endColumn":14,"suggestions":[{"fix":{"range":[3516,3681],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":154,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":154,"endColumn":20,"suggestions":[{"fix":{"range":[3992,4060],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":161,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":161,"endColumn":18,"suggestions":[{"fix":{"range":[4170,4227],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":180,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":180,"endColumn":20,"suggestions":[{"fix":{"range":[4644,4709],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":190,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":190,"endColumn":17,"suggestions":[{"fix":{"range":[4905,4973],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":226,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":226,"endColumn":20,"suggestions":[{"fix":{"range":[5870,5927],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":600,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":600,"endColumn":17,"suggestions":[{"fix":{"range":[15884,15956],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\geminiAdapter.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":2,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[50,53],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[50,53],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export class GeminiAdapter {\r\n  constructor(_cfg: any = {}) {}\r\n\r\n  async callModel(params: { prompt: string; temperature?: number; maxTokens?: number }) {\r\n    // Placeholder local adapter\r\n    return {\r\n      text: `Fallback response for: ${params.prompt}`,\r\n      tokensUsed: 0,\r\n      raw: {},\r\n      latencyMs: 0,\r\n      model: 'gemini-fallback',\r\n    };\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\governanceEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[148,151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[148,151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[165,168],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[165,168],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[182,185],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[182,185],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[197,200],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[197,200],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[216,219],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[216,219],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { logGovernance } from '../logs/modeDeus_conscious';\r\n\r\ninterface DecisionEntry {\r\n  intent?: any;\r\n  action?: any;\r\n  policy?: any;\r\n  risk?: any;\r\n  decision?: any;\r\n  timestamps?: { requested: number; decided: number };\r\n  signature?: string;\r\n}\r\n\r\nconst decisions: DecisionEntry[] = [];\r\nconst LIMIT = 100;\r\n\r\nexport function registerDecision(entry: DecisionEntry) {\r\n  const enriched = {\r\n    ...entry,\r\n    timestamps: entry.timestamps || { requested: Date.now(), decided: Date.now() },\r\n    signature: 'ConsciousLayer',\r\n  };\r\n  decisions.push(enriched);\r\n  if (decisions.length > LIMIT) {decisions.shift();}\r\n  logGovernance({ decision: enriched });\r\n}\r\n\r\nexport function auditLastDecisions(limit = 50) {\r\n  return decisions.slice(-limit);\r\n}\r\n\r\nexport function detectGovernanceViolations(entry: DecisionEntry) {\r\n  const policy = entry.policy || {};\r\n  if (policy.forbiddenActions && entry.action && policy.forbiddenActions.includes(entry.action.type)) {\r\n    emitEvent(\r\n      'ai:governance-violation',\r\n      { action: entry.action, reason: 'forbidden' },\r\n      { source: 'governanceEngine', priority: 9 }\r\n    );\r\n  }\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\holisticStateEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":3,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[88,91],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[88,91],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[336,339],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[336,339],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[603,606],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[603,606],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1024,1027],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1024,1027],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport function scanWholeSystem(state: any) {\r\n  const snapshot = generateHolisticSnapshot(state);\r\n  emitEvent('ai:system-health-updated', { health: snapshot.health }, { source: 'holisticStateEngine', priority: 5 });\r\n  return snapshot;\r\n}\r\n\r\nexport function computeSystemHealth(state: any) {\r\n  const health =\r\n    0.7 -\r\n    (state?.consistency?.drift ? 0.1 : 0) -\r\n    (state?.operational?.load || 0) * 0.1 +\r\n    (state?.evolution?.evolutionScore || 0) * 0.1;\r\n  return Math.max(0, Math.min(1, health));\r\n}\r\n\r\nexport function detectWeakSpots(state: any): string[] {\r\n  const weak: string[] = [];\r\n  if (state?.temporal?.trend === 'decline') {weak.push('Tend├¬ncia de queda detectada');}\r\n  if ((state?.operational?.load || 0) > 0.8) {weak.push('Sobrecarga operacional');}\r\n  return weak;\r\n}\r\n\r\nexport function mapInterdependencies() {\r\n  return ['core -> orchestrator -> agents', 'temporal -> strategic -> planner'];\r\n}\r\n\r\nexport function generateHolisticSnapshot(state: any) {\r\n  return {\r\n    health: computeSystemHealth(state),\r\n    weakSpots: detectWeakSpots(state),\r\n    interdependencies: mapInterdependencies(),\r\n  };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\integratedCoreEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[538,541],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[538,541],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":61,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1883,1886],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1883,1886],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":125,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":125,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4753,4756],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4753,4756],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":132,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":132,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5026,5029],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5026,5029],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":142,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":142,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5473,5476],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5473,5476],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":142,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":142,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5487,5490],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5487,5490],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":158,"column":99,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":158,"endColumn":102,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6057,6060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6057,6060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":172,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":172,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6451,6454],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6451,6454],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { applyAction, executeActionSafely } from './safeActionEngine';\r\nimport { validateActionAgainstPolicy } from './policyEngine';\r\nimport { detectGovernanceViolations, registerDecision } from './governanceEngine';\r\nimport { validateRecommendation } from './consciousOrchestrator';\r\nimport { detectContradictions, explainDecision, generateRationale, validateLogic } from './coherenceEngine';\r\nimport { getPersonalityProfile } from './personalityEngine';\r\n\r\ntype AnyState = Record<string, any>;\r\n\r\ninterface UnifiedState {\r\n  contextual: AnyState;\r\n  cognitive: AnyState;\r\n  social: AnyState;\r\n  temporal: AnyState;\r\n  meta: AnyState;\r\n  operational: AnyState;\r\n  opportunity: AnyState;\r\n  risk: AnyState;\r\n  evolution: AnyState;\r\n  consistency: AnyState;\r\n  lastEvents: Array<{ tipo: string; timestamp: number }>;\r\n  lastRecommendation?: string;\r\n  confidence?: number;\r\n  healthScore?: number;\r\n  systemHealthScore?: number;\r\n  mindSnapshot?: AnyState;\r\n  confidenceMap?: Record<string, number>;\r\n  personalityRiskAttitude?: string;\r\n  opportunityBias?: number;\r\n  decisionStyle?: string;\r\n}\r\n\r\nconst unifiedState: UnifiedState = {\r\n  contextual: {},\r\n  cognitive: {},\r\n  social: {},\r\n  temporal: {},\r\n  meta: {},\r\n  operational: {},\r\n  opportunity: {},\r\n  risk: {},\r\n  evolution: {},\r\n  consistency: {},\r\n  lastEvents: [],\r\n};\r\n\r\nfunction clamp(v: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nexport function getGlobalState(): UnifiedState {\r\n  return { ...unifiedState, lastEvents: [...unifiedState.lastEvents] };\r\n}\r\n\r\nexport function updateGlobalState(delta: Partial<UnifiedState>) {\r\n  Object.assign(unifiedState, delta);\r\n  emitEvent('ai:core-sync', { state: getGlobalState() }, { source: 'integratedCoreEngine', priority: 6 });\r\n}\r\n\r\nexport function routeEvent(event: { tipo: string; payload: any; timestamp: number }) {\r\n  unifiedState.lastEvents.push({ tipo: event.tipo, timestamp: event.timestamp });\r\n  if (unifiedState.lastEvents.length > 50) {unifiedState.lastEvents.shift();}\r\n  emitEvent('ai:core-sync', { state: getGlobalState() }, { source: 'integratedCoreEngine', priority: 6 });\r\n}\r\n\r\nexport function computeUnifiedInference() {\r\n  const confidence = clamp(\r\n    0.5 +\r\n      (unifiedState.operational?.globalConfidence || 0) * 0.2 +\r\n      (unifiedState.evolution?.evolutionScore || 0) * 0.2\r\n  );\r\n  unifiedState.confidence = confidence;\r\n  emitEvent('ai:core-sync', { state: getGlobalState() }, { source: 'integratedCoreEngine', priority: 6 });\r\n  return { confidence };\r\n}\r\n\r\nfunction applyPersonality() {\r\n  const personality = getPersonalityProfile();\r\n  unifiedState.personalityRiskAttitude = personality.riskAttitude;\r\n  unifiedState.opportunityBias = personality.opportunityBias;\r\n  unifiedState.decisionStyle = [\r\n    personality.toneStyle.strategic ? 'estrat├®gico' : '',\r\n    personality.toneStyle.concise ? 'conciso' : '',\r\n    personality.toneStyle.friendly ? 'acolhedor' : '',\r\n  ]\r\n    .filter(Boolean)\r\n    .join(' / ');\r\n  emitEvent('ai:core-sync', { state: getGlobalState() }, { source: 'integratedCoreEngine', priority: 5 });\r\n}\r\n\r\nexport function generateUnifiedRecommendation() {\r\n  const recommendation = unifiedState.temporal?.trend\r\n    ? `Aja sobre tend├¬ncia: ${unifiedState.temporal.trend}`\r\n    : 'Monitore contexto atual';\r\n  unifiedState.lastRecommendation = recommendation;\r\n  emitEvent('ai:core-sync', { state: getGlobalState(), recommendation }, { source: 'integratedCoreEngine', priority: 6 });\r\n  return recommendation;\r\n}\r\n\r\nexport function synchronizeTemporalConsistency() {\r\n  // Placeholder: in real impl, align temporal signals with current context\r\n  emitEvent('ai:core-sync', { state: getGlobalState(), sync: 'temporal' }, { source: 'integratedCoreEngine', priority: 5 });\r\n}\r\n\r\nexport function harmonizeConflicts() {\r\n  const conflicts = unifiedState.consistency?.conflicts || [];\r\n  if (conflicts.length > 0) {\r\n    unifiedState.healthScore = clamp((unifiedState.healthScore || 0.6) - 0.1 * conflicts.length);\r\n  } else {\r\n    unifiedState.healthScore = clamp((unifiedState.healthScore || 0.7) + 0.05);\r\n  }\r\n  emitEvent('ai:core-sync', { state: getGlobalState(), harmonized: true }, { source: 'integratedCoreEngine', priority: 5 });\r\n}\r\n\r\nexport function runSelfEvolutionStep() {\r\n  const health = unifiedState.healthScore ?? 0.7;\r\n  const evo = unifiedState.evolution?.evolutionScore ?? 0.6;\r\n  const newScore = clamp((health + evo) / 2);\r\n  unifiedState.healthScore = newScore;\r\n  unifiedState.systemHealthScore = newScore;\r\n  emitEvent('ai:core-sync', { state: getGlobalState(), evolutionScore: newScore }, { source: 'integratedCoreEngine', priority: 5 });\r\n}\r\n\r\nexport function runCoherenceCheck(state: any) {\r\n  const ok = validateLogic(state);\r\n  const contradictions = detectContradictions(state);\r\n  const rationale = generateRationale({ tipo: 'core-sync', payload: state });\r\n  return { ok, contradictions, rationale };\r\n}\r\n\r\nexport function updateCognitiveMap(snapshot: any) {\r\n  unifiedState.mindSnapshot = snapshot?.state;\r\n  unifiedState.confidenceMap = snapshot?.confidenceMap;\r\n  if (snapshot?.healthScore !== undefined) {\r\n    unifiedState.healthScore = snapshot.healthScore;\r\n    unifiedState.systemHealthScore = snapshot.healthScore;\r\n  }\r\n  emitEvent('ai:core-sync', { state: getGlobalState(), snapshot }, { source: 'integratedCoreEngine', priority: 7 });\r\n}\r\n\r\nexport function runSafeActionPipeline(action: any, context: any) {\r\n  const policyCheck = validateActionAgainstPolicy(action);\r\n  const safeResult = executeActionSafely(action, context);\r\n  const allowed = policyCheck.allowed && safeResult.approved;\r\n  const decision = allowed\r\n    ? applyAction(action)\r\n    : { success: false, reason: policyCheck.reason || safeResult.reason };\r\n\r\n  registerDecision({\r\n    intent: context?.intent,\r\n    action,\r\n    policy: policyCheck,\r\n    risk: safeResult.riskLevel,\r\n    decision,\r\n  });\r\n\r\n  detectGovernanceViolations({ action, policy: { forbiddenActions: getForbidden(policyCheck) } as any });\r\n\r\n  const validated = validateRecommendation({\r\n    type: allowed ? 'insight' : 'warning',\r\n    severity: allowed ? 'medium' : 'high',\r\n    message: allowed ? 'A├º├úo aprovada e executada com seguran├ºa.' : 'A├º├úo bloqueada pela pol├¡tica.',\r\n    values: { allowed },\r\n  });\r\n\r\n  explainDecision(validated);\r\n\r\n  return { allowed, decision, validated };\r\n}\r\n\r\nfunction getForbidden(policy: any) {\r\n  return policy?.forbiddenActions || [];\r\n}\r\n\r\nexport const _internals = {\r\n  unifiedState,\r\n};\r\n\r\n// Inicializar personalidade na carga do m├│dulo\r\napplyPersonality();\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\invoiceOCREngine.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":98,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":98,"endColumn":19,"suggestions":[{"fix":{"range":[2193,2252],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":104,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":104,"endColumn":16,"suggestions":[{"fix":{"range":[2358,2408],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":128,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":128,"endColumn":18,"suggestions":[{"fix":{"range":[3011,3080],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":160,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":160,"endColumn":21,"suggestions":[{"fix":{"range":[4005,4086],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":164,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":164,"endColumn":18,"suggestions":[{"fix":{"range":[4155,4231],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":173,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":173,"endColumn":20,"suggestions":[{"fix":{"range":[4403,4473],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":189,"column":19,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":189,"endColumn":30,"suggestions":[{"messageId":"suggestOptionalChain","fix":{"range":[4927,4928],"text":"?"},"desc":"Consider using the optional chain operator `?.` instead. This operator includes runtime checks, so it is safer than the compile-only non-null assertion operator."}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":444,"column":21,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":444,"endColumn":32,"suggestions":[{"messageId":"suggestOptionalChain","fix":{"range":[12103,12104],"text":"?"},"desc":"Consider using the optional chain operator `?.` instead. This operator includes runtime checks, so it is safer than the compile-only non-null assertion operator."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":458,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":458,"endColumn":20,"suggestions":[{"fix":{"range":[12521,12581],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":467,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":467,"endColumn":16,"suggestions":[{"fix":{"range":[12734,12818],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":480,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":480,"endColumn":16,"suggestions":[{"fix":{"range":[13185,13285],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * =====================================================\n * AZURIA v2.0 - INVOICE OCR ENGINE\n * =====================================================\n * Engine de OCR/Vision para extra├º├úo autom├ítica de dados de Notas Fiscais\n * \n * Funcionalidades:\n * - Fotografa/upload de nota fiscal\n * - Extra├º├úo via Gemini Vision\n * - Reconhecimento de produtos, quantidades, valores\n * - Preenchimento autom├ítico da calculadora\n * \n * @module invoiceOCREngine\n * @created 13/12/2024\n * =====================================================\n */\n\nimport { GoogleGenerativeAI } from '@google/generative-ai';\n\n// =====================================================\n// TYPES\n// =====================================================\n\nexport interface InvoiceItem {\n  itemNumber: number;\n  description: string;\n  quantity: number;\n  unitPrice: number;\n  totalPrice: number;\n  ncm?: string;\n  cfop?: string;\n  cst?: string;\n  icms?: number;\n  ipi?: number;\n}\n\nexport interface InvoiceData {\n  // Emitente\n  supplierName: string;\n  supplierCnpj: string;\n  supplierAddress?: string;\n  \n  // Nota Fiscal\n  invoiceNumber: string;\n  invoiceSeries?: string;\n  invoiceDate: string;\n  invoiceKey?: string;\n  \n  // Valores\n  items: InvoiceItem[];\n  subtotal: number;\n  discount: number;\n  shipping: number;\n  totalTaxes: number;\n  totalAmount: number;\n  \n  // Impostos agregados\n  totalIcms: number;\n  totalIpi: number;\n  totalPis: number;\n  totalCofins: number;\n  \n  // Metadata\n  confidence: number; // 0-100\n  extractedAt: Date;\n}\n\nexport interface OCRResult {\n  success: boolean;\n  data?: InvoiceData;\n  error?: string;\n  rawText?: string;\n  confidence: number;\n  processingTime: number;\n}\n\nexport interface ValidationResult {\n  isValid: boolean;\n  errors: string[];\n  warnings: string[];\n}\n\n// =====================================================\n// CLASSE PRINCIPAL\n// =====================================================\n\nclass InvoiceOCREngine {\n  private genAI: GoogleGenerativeAI | null = null;\n  private isInitialized = false;\n\n  /**\n   * Inicializa o engine com a API key do Gemini\n   */\n  initInvoiceOCR(): void {\n    const apiKey = import.meta.env.VITE_GEMINI_API_KEY;\n    \n    if (!apiKey) {\n      console.warn('[InvoiceOCR] Gemini API key n├úo encontrada');\n      return;\n    }\n\n    this.genAI = new GoogleGenerativeAI(apiKey);\n    this.isInitialized = true;\n    console.log('[InvoiceOCR] Ô£à Engine inicializado');\n  }\n\n  /**\n   * Verifica se o engine est├í inicializado\n   */\n  private checkInitialized(): void {\n    if (!this.isInitialized || !this.genAI) {\n      throw new Error('InvoiceOCR engine n├úo inicializado. Chame initInvoiceOCR() primeiro.');\n    }\n  }\n\n  // =====================================================\n  // PROCESSAMENTO DE IMAGEM\n  // =====================================================\n\n  /**\n   * Processa imagem/PDF de nota fiscal e extrai dados\n   */\n  async processInvoice(file: File): Promise<OCRResult> {\n    this.checkInitialized();\n    const startTime = Date.now();\n\n    try {\n      console.log(`[InvoiceOCR] ­ƒôä Processando nota fiscal: ${file.name}`);\n\n      // Validar tipo de arquivo\n      if (!this.isValidFileType(file)) {\n        return {\n          success: false,\n          error: 'Tipo de arquivo inv├ílido. Use PNG, JPG, JPEG ou PDF.',\n          confidence: 0,\n          processingTime: Date.now() - startTime,\n        };\n      }\n\n      // Validar tamanho (max 10MB)\n      if (file.size > 10 * 1024 * 1024) {\n        return {\n          success: false,\n          error: 'Arquivo muito grande. M├íximo: 10MB.',\n          confidence: 0,\n          processingTime: Date.now() - startTime,\n        };\n      }\n\n      // Converter arquivo para base64\n      const base64Data = await this.fileToBase64(file);\n\n      // Extrair dados usando Gemini Vision\n      const invoiceData = await this.extractInvoiceData(base64Data, file.type);\n\n      // Validar dados extra├¡dos\n      const validation = this.validateInvoiceData(invoiceData);\n      \n      if (!validation.isValid) {\n        console.warn('[InvoiceOCR] ÔÜá´©Å Dados extra├¡dos cont├¬m erros:', validation.errors);\n      }\n\n      const processingTime = Date.now() - startTime;\n      console.log(`[InvoiceOCR] Ô£à Nota fiscal processada em ${processingTime}ms`);\n\n      return {\n        success: true,\n        data: invoiceData,\n        confidence: invoiceData.confidence,\n        processingTime,\n      };\n    } catch (error) {\n      console.error('[InvoiceOCR] ÔØî Erro ao processar nota fiscal:', error);\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Erro desconhecido ao processar nota fiscal',\n        confidence: 0,\n        processingTime: Date.now() - startTime,\n      };\n    }\n  }\n\n  /**\n   * Extrai dados da nota fiscal usando Gemini Vision\n   */\n  private async extractInvoiceData(base64Data: string, mimeType: string): Promise<InvoiceData> {\n    this.checkInitialized();\n\n    const model = this.genAI!.getGenerativeModel({ model: 'gemini-1.5-flash' });\n\n    const prompt = `\nVoc├¬ ├® um assistente especializado em extra├º├úo de dados de Notas Fiscais brasileiras (NF-e).\n\nAnalise a imagem da nota fiscal e extraia TODOS os dados estruturados no formato JSON abaixo.\nSeja PRECISO e extraia valores EXATOS conforme aparecem no documento.\n\nRetorne APENAS o JSON (sem markdown, sem explica├º├Áes), no formato:\n\n{\n  \"supplierName\": \"Nome do Fornecedor/Emitente\",\n  \"supplierCnpj\": \"00.000.000/0000-00\",\n  \"supplierAddress\": \"Endere├ºo completo\",\n  \"invoiceNumber\": \"000123\",\n  \"invoiceSeries\": \"1\",\n  \"invoiceDate\": \"2024-12-13\",\n  \"invoiceKey\": \"35241200000000000001550010000001231000001234\",\n  \"items\": [\n    {\n      \"itemNumber\": 1,\n      \"description\": \"Produto XYZ\",\n      \"quantity\": 10,\n      \"unitPrice\": 50.00,\n      \"totalPrice\": 500.00,\n      \"ncm\": \"12345678\",\n      \"cfop\": \"5102\",\n      \"cst\": \"00\",\n      \"icms\": 18.0,\n      \"ipi\": 5.0\n    }\n  ],\n  \"subtotal\": 500.00,\n  \"discount\": 0.00,\n  \"shipping\": 15.00,\n  \"totalTaxes\": 115.00,\n  \"totalAmount\": 515.00,\n  \"totalIcms\": 90.00,\n  \"totalIpi\": 25.00,\n  \"totalPis\": 0.00,\n  \"totalCofins\": 0.00,\n  \"confidence\": 95\n}\n\nIMPORTANTE:\n- Extraia TODOS os itens da nota fiscal\n- Valores devem ser n├║meros (sem R$, sem v├¡rgulas)\n- Datas no formato YYYY-MM-DD\n- CNPJ com pontua├º├úo\n- Confidence: sua confian├ºa na extra├º├úo (0-100)\n    `.trim();\n\n    const imagePart = {\n      inlineData: {\n        data: base64Data,\n        mimeType: mimeType,\n      },\n    };\n\n    const result = await model.generateContent([prompt, imagePart]);\n    const text = result.response.text().trim();\n\n    // Extrair JSON da resposta\n    const jsonMatch = text.match(/\\{[\\s\\S]*\\}/);\n    if (!jsonMatch) {\n      throw new Error('Resposta n├úo cont├®m JSON v├ílido');\n    }\n\n    const parsedData = JSON.parse(jsonMatch[0]);\n\n    // Converter para InvoiceData com tipos corretos\n    return {\n      supplierName: parsedData.supplierName || '',\n      supplierCnpj: parsedData.supplierCnpj || '',\n      supplierAddress: parsedData.supplierAddress,\n      invoiceNumber: parsedData.invoiceNumber || '',\n      invoiceSeries: parsedData.invoiceSeries,\n      invoiceDate: parsedData.invoiceDate || new Date().toISOString().split('T')[0],\n      invoiceKey: parsedData.invoiceKey,\n      items: parsedData.items || [],\n      subtotal: parseFloat(parsedData.subtotal) || 0,\n      discount: parseFloat(parsedData.discount) || 0,\n      shipping: parseFloat(parsedData.shipping) || 0,\n      totalTaxes: parseFloat(parsedData.totalTaxes) || 0,\n      totalAmount: parseFloat(parsedData.totalAmount) || 0,\n      totalIcms: parseFloat(parsedData.totalIcms) || 0,\n      totalIpi: parseFloat(parsedData.totalIpi) || 0,\n      totalPis: parseFloat(parsedData.totalPis) || 0,\n      totalCofins: parseFloat(parsedData.totalCofins) || 0,\n      confidence: parseInt(parsedData.confidence) || 50,\n      extractedAt: new Date(),\n    };\n  }\n\n  // =====================================================\n  // VALIDA├ç├âO\n  // =====================================================\n\n  /**\n   * Valida dados extra├¡dos da nota fiscal\n   */\n  private validateInvoiceData(data: InvoiceData): ValidationResult {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    // Valida├º├Áes obrigat├│rias\n    if (!data.supplierName) {\n      errors.push('Nome do fornecedor n├úo identificado');\n    }\n\n    if (!data.supplierCnpj || !this.isValidCnpj(data.supplierCnpj)) {\n      errors.push('CNPJ do fornecedor inv├ílido ou ausente');\n    }\n\n    if (!data.invoiceNumber) {\n      errors.push('N├║mero da nota fiscal n├úo identificado');\n    }\n\n    if (!data.items || data.items.length === 0) {\n      errors.push('Nenhum item identificado na nota fiscal');\n    }\n\n    // Valida├º├Áes de valores\n    if (data.totalAmount <= 0) {\n      errors.push('Valor total da nota inv├ílido');\n    }\n\n    // Valida├º├Áes de consist├¬ncia\n    const calculatedSubtotal = data.items.reduce((sum, item) => sum + item.totalPrice, 0);\n    const diff = Math.abs(calculatedSubtotal - data.subtotal);\n    \n    if (diff > 0.10) { // Toler├óncia de R$ 0,10\n      warnings.push(`Subtotal calculado (R$ ${calculatedSubtotal.toFixed(2)}) difere do extra├¡do (R$ ${data.subtotal.toFixed(2)})`);\n    }\n\n    // Avisos de confian├ºa\n    if (data.confidence < 70) {\n      warnings.push('Confian├ºa baixa na extra├º├úo. Revise os dados manualmente.');\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors,\n      warnings,\n    };\n  }\n\n  /**\n   * Valida CNPJ (algoritmo simplificado)\n   */\n  private isValidCnpj(cnpj: string): boolean {\n    // Remove caracteres n├úo num├®ricos\n    const cleaned = cnpj.replace(/\\D/g, '');\n    \n    // CNPJ deve ter 14 d├¡gitos\n    if (cleaned.length !== 14) {\n      return false;\n    }\n\n    // Verifica se n├úo ├® sequ├¬ncia repetida (ex: 00000000000000)\n    if (/^(\\d)\\1{13}$/.test(cleaned)) {\n      return false;\n    }\n\n    return true; // Valida├º├úo completa seria mais complexa\n  }\n\n  // =====================================================\n  // UTILIT├üRIOS\n  // =====================================================\n\n  /**\n   * Verifica se o tipo de arquivo ├® v├ílido\n   */\n  private isValidFileType(file: File): boolean {\n    const validTypes = [\n      'image/png',\n      'image/jpeg',\n      'image/jpg',\n      'application/pdf',\n    ];\n    return validTypes.includes(file.type);\n  }\n\n  /**\n   * Converte arquivo para base64\n   */\n  private fileToBase64(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      \n      reader.onload = () => {\n        const result = reader.result as string;\n        // Remove o prefixo \"data:image/png;base64,\" ou similar\n        const base64 = result.split(',')[1];\n        resolve(base64);\n      };\n      \n      reader.onerror = () => {\n        reject(new Error('Erro ao ler arquivo'));\n      };\n      \n      reader.readAsDataURL(file);\n    });\n  }\n\n  /**\n   * Formata dados para preenchimento da calculadora\n   */\n  formatForCalculator(invoiceData: InvoiceData): {\n    supplier: string;\n    invoiceNumber: string;\n    invoiceDate: string;\n    items: Array<{\n      description: string;\n      quantity: number;\n      unitCost: number;\n      totalCost: number;\n    }>;\n    totalCost: number;\n    taxes: {\n      icms: number;\n      ipi: number;\n      pis: number;\n      cofins: number;\n    };\n  } {\n    return {\n      supplier: invoiceData.supplierName,\n      invoiceNumber: invoiceData.invoiceNumber,\n      invoiceDate: invoiceData.invoiceDate,\n      items: invoiceData.items.map(item => ({\n        description: item.description,\n        quantity: item.quantity,\n        unitCost: item.unitPrice,\n        totalCost: item.totalPrice,\n      })),\n      totalCost: invoiceData.totalAmount,\n      taxes: {\n        icms: invoiceData.totalIcms,\n        ipi: invoiceData.totalIpi,\n        pis: invoiceData.totalPis,\n        cofins: invoiceData.totalCofins,\n      },\n    };\n  }\n\n  /**\n   * Extrai apenas texto da imagem (OCR simples)\n   */\n  async extractText(file: File): Promise<string> {\n    this.checkInitialized();\n\n    try {\n      const base64Data = await this.fileToBase64(file);\n      const model = this.genAI!.getGenerativeModel({ model: 'gemini-1.5-flash' });\n\n      const prompt = 'Extraia todo o texto vis├¡vel nesta imagem, preservando a formata├º├úo.';\n      \n      const imagePart = {\n        inlineData: {\n          data: base64Data,\n          mimeType: file.type,\n        },\n      };\n\n      const result = await model.generateContent([prompt, imagePart]);\n      return result.response.text();\n    } catch (error) {\n      console.error('[InvoiceOCR] Erro ao extrair texto:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Processa m├║ltiplas notas fiscais em lote\n   */\n  async processBatch(files: File[]): Promise<OCRResult[]> {\n    console.log(`[InvoiceOCR] ­ƒôª Processando ${files.length} notas fiscais em lote...`);\n    \n    const results: OCRResult[] = [];\n    \n    for (const file of files) {\n      const result = await this.processInvoice(file);\n      results.push(result);\n      \n      // Delay entre requisi├º├Áes para evitar rate limit\n      await new Promise(resolve => setTimeout(resolve, 1000));\n    }\n    \n    const successCount = results.filter(r => r.success).length;\n    console.log(`[InvoiceOCR] Ô£à ${successCount}/${files.length} notas fiscais processadas com sucesso`);\n    \n    return results;\n  }\n\n  /**\n   * Calcula custos totais com impostos\n   */\n  calculateTotalCosts(invoiceData: InvoiceData): {\n    productsCost: number;\n    shippingCost: number;\n    taxesCost: number;\n    totalCost: number;\n    avgUnitCost: number;\n    itemsCount: number;\n  } {\n    const productsCost = invoiceData.subtotal - invoiceData.discount;\n    const shippingCost = invoiceData.shipping;\n    const taxesCost = invoiceData.totalTaxes;\n    const totalCost = invoiceData.totalAmount;\n    const itemsCount = invoiceData.items.reduce((sum, item) => sum + item.quantity, 0);\n    const avgUnitCost = itemsCount > 0 ? totalCost / itemsCount : 0;\n\n    return {\n      productsCost,\n      shippingCost,\n      taxesCost,\n      totalCost,\n      avgUnitCost,\n      itemsCount,\n    };\n  }\n\n  /**\n   * Gera sugest├úo de markup baseado nos custos\n   */\n  suggestMarkup(invoiceData: InvoiceData, targetMargin: number = 30): {\n    costPerUnit: number;\n    suggestedPrice: number;\n    markup: number;\n    margin: number;\n  }[] {\n    return invoiceData.items.map(item => {\n      const costPerUnit = item.unitPrice;\n      const markup = (100 + targetMargin) / (100 - targetMargin);\n      const suggestedPrice = costPerUnit * (1 + targetMargin / 100);\n      const margin = ((suggestedPrice - costPerUnit) / suggestedPrice) * 100;\n\n      return {\n        costPerUnit,\n        suggestedPrice,\n        markup,\n        margin,\n      };\n    });\n  }\n}\n\n// =====================================================\n// SINGLETON EXPORT\n// =====================================================\n\nconst invoiceOCREngine = new InvoiceOCREngine();\nexport default invoiceOCREngine;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\marketIntelligenceEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[150,153],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[150,153],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[322,325],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[322,325],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[470,473],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[470,473],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[552,555],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[552,555],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[681,684],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[681,684],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[832,835],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[832,835],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[928,931],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[928,931],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":36,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1023,1026],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1023,1026],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1478,1481],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1478,1481],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport interface MarketInsight {\r\n  topic: string;\r\n  confidence: number;\r\n  details: Record<string, any>;\r\n  impactScore: number;\r\n}\r\n\r\nfunction clamp(v: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nexport function scanMarketSignals(input: any) {\r\n  const signals = Array.isArray(input) ? input : [input];\r\n  return signals.filter(Boolean);\r\n}\r\n\r\nexport function analyzeCompetitors(data: any = {}) {\r\n  const competitors = data.list || [];\r\n  return competitors.map((c: any) => ({ name: c.name || 'competidor', strength: c.strength || 'm├®dio' }));\r\n}\r\n\r\nexport function compareFeatureSets(features: any = {}) {\r\n  return { gaps: features.gaps || [], differentiators: features.differentiators || [] };\r\n}\r\n\r\nexport function detectExternalRisks(risks: any = {}) {\r\n  return risks.list || [];\r\n}\r\n\r\nexport function identifyMarketOpportunities(opps: any = {}) {\r\n  return opps.list || [];\r\n}\r\n\r\nexport function suggestStrategicPositioning(data: any = {}) {\r\n  return data.positioning || 'foco em valor/automa├º├úo';\r\n}\r\n\r\nexport function emitMarketInsight(insight: MarketInsight) {\r\n  const impactScore = clamp(insight.impactScore ?? 0.1, 0.1, 1);\r\n  const payload = { ...insight, impactScore };\r\n  emitEvent('ai:market-insight', payload, { source: 'marketIntelligenceEngine', priority: impactScore > 0.75 ? 8 : 5 });\r\n  return payload;\r\n}\r\n\r\nexport function detectExternalRisksAndOpportunities(input: any) {\r\n  const risks = detectExternalRisks(input?.risks);\r\n  const opps = identifyMarketOpportunities(input?.opportunities);\r\n  if (opps.length > 0) {\r\n    emitMarketInsight({\r\n      topic: 'market-opportunity',\r\n      confidence: 0.7,\r\n      details: { opps },\r\n      impactScore: 0.8,\r\n    });\r\n  }\r\n  if (risks.length > 0) {\r\n    emitMarketInsight({\r\n      topic: 'market-risk',\r\n      confidence: 0.7,\r\n      details: { risks },\r\n      impactScore: 0.7,\r\n    });\r\n  }\r\n  return { risks, opps };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\metaLayerEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[99,102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[99,102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[116,119],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[116,119],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[135,138],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[135,138],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[158,161],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[158,161],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[177,180],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[177,180],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[195,198],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[195,198],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[218,221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[218,221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[365,368],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[365,368],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport interface MetaLayerOutput {\r\n  perception: any;\r\n  context: any;\r\n  reasoning: any;\r\n  consciousness: any;\r\n  scenarios: any;\r\n  decision: any;\r\n  executionPlan: any;\r\n}\r\n\r\nfunction clamp(v: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nexport function processMetaLayers(input: any): MetaLayerOutput {\r\n  const perception = { signals: input?.signals || [], metrics: input?.metrics || {} };\r\n  const context = { ...input?.context, inferred: input?.context?.trend || 'est├ível' };\r\n  const reasoning = { coherent: true, contradictions: [] };\r\n  const consciousness = { goals: input?.goals || ['melhorar margem'], risks: input?.risks || [] };\r\n  const scenarios = { options: input?.scenarios || ['baseline'], confidence: clamp(input?.scenarioConfidence ?? 0.7) };\r\n  const decision = { intent: input?.intent || 'analisar', priority: 'medium' };\r\n  const executionPlan = { steps: ['validar', 'simular', 'emitir-insight'], target: input?.target || 'orchestrator' };\r\n\r\n  const snapshot = { perception, context, reasoning, consciousness, scenarios, decision, executionPlan };\r\n  emitEvent('ai:meta-layer-updated', { snapshot }, { source: 'metaLayerEngine', priority: 6 });\r\n  return snapshot;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\metaPlannerEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[274,277],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[274,277],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentGoal' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":18,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport interface PlannerGoal {\r\n  id: string;\r\n  objective: string;\r\n  targetMetric?: string;\r\n  targetValue?: number;\r\n}\r\n\r\nexport interface PlannerPlan {\r\n  goalId: string;\r\n  steps: string[];\r\n  parameters: Record<string, any>;\r\n  status: 'generated' | 'executing' | 'completed' | 'adjusted';\r\n  score?: number;\r\n}\r\n\r\nlet currentGoal: PlannerGoal | null = null;\r\nlet currentPlan: PlannerPlan | null = null;\r\n\r\nexport function setGoal(goal: PlannerGoal) {\r\n  currentGoal = goal;\r\n  emitEvent(\r\n    'ai:planner-goal-evaluated',\r\n    { goal },\r\n    { source: 'metaPlannerEngine', priority: 4 }\r\n  );\r\n}\r\n\r\nexport function generatePlan(goal: PlannerGoal): PlannerPlan {\r\n  const plan: PlannerPlan = {\r\n    goalId: goal.id,\r\n    steps: ['coletar_m├®tricas', 'ajustar_pesos', 'monitorar_resultados'],\r\n    parameters: {\r\n      sensibilidade: 0.5,\r\n      janelaMonitoramento: 20,\r\n    },\r\n    status: 'generated',\r\n  };\r\n  currentPlan = plan;\r\n  emitEvent(\r\n    'ai:planner-plan-generated',\r\n    { plan },\r\n    { source: 'metaPlannerEngine', priority: 4 }\r\n  );\r\n  return plan;\r\n}\r\n\r\nexport function executePlan() {\r\n  if (!currentPlan) {return;}\r\n  currentPlan.status = 'executing';\r\n  emitEvent(\r\n    'ai:planner-plan-executed',\r\n    { plan: currentPlan },\r\n    { source: 'metaPlannerEngine', priority: 4 }\r\n  );\r\n}\r\n\r\nexport function adjustPlan(feedbackScore: number) {\r\n  if (!currentPlan) {return;}\r\n  currentPlan.status = 'adjusted';\r\n  currentPlan.parameters.sensibilidade = Math.min(\r\n    1,\r\n    Math.max(0, currentPlan.parameters.sensibilidade + (feedbackScore - 0.5) * 0.2)\r\n  );\r\n  emitEvent(\r\n    'ai:planner-plan-adjusted',\r\n    { plan: currentPlan, feedbackScore },\r\n    { source: 'metaPlannerEngine', priority: 4 }\r\n  );\r\n}\r\n\r\nexport function getCurrentPlan() {\r\n  return currentPlan;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\multimodalEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":426,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":426,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11462,11465],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11462,11465],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":437,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":437,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11908,11911],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11908,11911],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":568,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":568,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15831,15834],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15831,15834],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Multimodal Engine - OCR, Vision AI e Document Processing\n *\n * Este engine ├® respons├ível por:\n * - Extrair texto de imagens/PDFs (OCR)\n * - An├ílise visual de documentos (layout, tabelas)\n * - Extra├º├úo estruturada de dados de editais\n * - Valida├º├úo visual de documentos\n * - Detec├º├úo de assinaturas, carimbos, etc.\n *\n * @module azuria_ai/engines/multimodalEngine\n */\n\nimport { eventBus } from '../core/eventBus';\nimport { structuredLogger } from '../../services/structuredLogger';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** Formatos de imagem suportados */\nconst SUPPORTED_IMAGE_FORMATS = ['image/png', 'image/jpeg', 'image/jpg', 'image/webp'];\n\n/** Formatos de documento suportados */\nconst SUPPORTED_DOC_FORMATS = ['application/pdf'];\n\n/** Tamanho m├íximo de arquivo (10MB) */\nconst MAX_FILE_SIZE = 10 * 1024 * 1024;\n\n/** Confian├ºa m├¡nima para extra├º├úo */\nconst MIN_CONFIDENCE = 0.7;\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Tipo de documento */\nexport type DocumentType =\n  | 'edital' // Edital de licita├º├úo\n  | 'invoice' // Nota fiscal\n  | 'contract' // Contrato\n  | 'proposal' // Proposta comercial\n  | 'receipt' // Recibo\n  | 'table' // Tabela de pre├ºos\n  | 'form' // Formul├írio\n  | 'other'; // Outros\n\n/** Campo extra├¡do do documento */\nexport interface ExtractedField {\n  /** Nome do campo */\n  name: string;\n  /** Valor extra├¡do */\n  value: string | number | Date;\n  /** Confian├ºa da extra├º├úo (0-1) */\n  confidence: number;\n  /** Bounding box no documento (se dispon├¡vel) */\n  boundingBox?: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  };\n  /** P├ígina onde foi encontrado */\n  page?: number;\n}\n\n/** Tabela extra├¡da */\nexport interface ExtractedTable {\n  /** Headers da tabela */\n  headers: string[];\n  /** Linhas da tabela */\n  rows: Array<Record<string, string | number>>;\n  /** Confian├ºa da extra├º├úo */\n  confidence: number;\n  /** P├ígina onde foi encontrada */\n  page?: number;\n}\n\n/** Resultado de OCR */\nexport interface OCRResult {\n  /** Texto completo extra├¡do */\n  fullText: string;\n  /** Campos estruturados extra├¡dos */\n  fields: ExtractedField[];\n  /** Tabelas extra├¡das */\n  tables: ExtractedTable[];\n  /** Tipo de documento detectado */\n  documentType: DocumentType;\n  /** Confian├ºa geral (0-1) */\n  confidence: number;\n  /** Idioma detectado */\n  language: string;\n  /** N├║mero de p├íginas */\n  pages: number;\n  /** Metadados adicionais */\n  metadata: {\n    hasSignature?: boolean;\n    hasStamp?: boolean;\n    isScanned?: boolean;\n    quality?: 'low' | 'medium' | 'high';\n  };\n}\n\n/** An├ílise visual de documento */\nexport interface VisualAnalysis {\n  /** Tipo de documento */\n  documentType: DocumentType;\n  /** Layout detectado */\n  layout: {\n    hasHeader: boolean;\n    hasFooter: boolean;\n    columns: number;\n    sections: number;\n  };\n  /** Elementos visuais */\n  elements: {\n    logos: number;\n    signatures: number;\n    stamps: number;\n    barcodes: number;\n    qrCodes: number;\n  };\n  /** Qualidade da imagem */\n  quality: {\n    resolution: number;\n    brightness: number;\n    contrast: number;\n    sharpness: number;\n  };\n  /** Problemas detectados */\n  issues: Array<{\n    type: 'blur' | 'low_contrast' | 'skew' | 'noise' | 'incomplete';\n    severity: 'low' | 'medium' | 'high';\n    message: string;\n  }>;\n}\n\n/** Extra├º├úo espec├¡fica de edital */\nexport interface EditalExtraction {\n  /** N├║mero do edital */\n  numero?: string;\n  /** ├ôrg├úo licitante */\n  orgao?: string;\n  /** Modalidade (preg├úo, concorr├¬ncia, etc.) */\n  modalidade?: string;\n  /** Objeto da licita├º├úo */\n  objeto?: string;\n  /** Data de abertura */\n  dataAbertura?: Date;\n  /** Valor estimado */\n  valorEstimado?: number;\n  /** Itens/servi├ºos */\n  itens?: Array<{\n    numero: string;\n    descricao: string;\n    quantidade?: number;\n    unidade?: string;\n    valorUnitario?: number;\n    valorTotal?: number;\n  }>;\n  /** Requisitos t├®cnicos */\n  requisitos?: string[];\n  /** Documentos exigidos */\n  documentosExigidos?: string[];\n  /** Prazo de execu├º├úo */\n  prazoExecucao?: string;\n  /** Local de entrega */\n  localEntrega?: string;\n  /** Informa├º├Áes de pagamento */\n  pagamento?: string;\n  /** Confian├ºa da extra├º├úo */\n  confidence: number;\n}\n\n/** Configura├º├úo do engine */\nexport interface MultimodalConfig {\n  /** Se est├í habilitado */\n  enabled: boolean;\n  /** Provider de OCR */\n  ocrProvider: 'gemini-vision' | 'google-vision' | 'tesseract';\n  /** Idioma padr├úo */\n  defaultLanguage: string;\n  /** Se deve fazer pr├®-processamento */\n  preprocessImages: boolean;\n  /** Se deve fazer valida├º├úo */\n  validateExtraction: boolean;\n  /** Timeout para processamento (ms) */\n  timeout: number;\n}\n\n/** Estado do engine */\ninterface MultimodalEngineState {\n  initialized: boolean;\n  config: MultimodalConfig;\n  documentsProcessed: number;\n  lastProcessedAt: number;\n}\n\n// ============================================================================\n// State\n// ============================================================================\n\nconst state: MultimodalEngineState = {\n  initialized: false,\n  config: {\n    enabled: true,\n    ocrProvider: 'gemini-vision',\n    defaultLanguage: 'pt-BR',\n    preprocessImages: true,\n    validateExtraction: true,\n    timeout: 30000, // 30s\n  },\n  documentsProcessed: 0,\n  lastProcessedAt: 0,\n};\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n/**\n * Valida formato de arquivo\n */\nfunction validateFileFormat(mimeType: string): boolean {\n  return SUPPORTED_IMAGE_FORMATS.includes(mimeType) || SUPPORTED_DOC_FORMATS.includes(mimeType);\n}\n\n/**\n * Valida tamanho de arquivo\n */\nfunction validateFileSize(size: number): boolean {\n  return size <= MAX_FILE_SIZE;\n}\n\n/**\n * Converte imagem para base64\n */\nasync function imageToBase64(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      const base64 = reader.result as string;\n      // Remove data URL prefix\n      const base64Data = base64.split(',')[1];\n      resolve(base64Data);\n    };\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * Pr├®-processamento de imagem\n */\nasync function preprocessImage(imageData: string): Promise<string> {\n  // TODO: Implementar pr├®-processamento real\n  // - Ajuste de brilho/contraste\n  // - Remo├º├úo de ru├¡do\n  // - Corre├º├úo de perspectiva\n  // - Binariza├º├úo\n  \n  // Por enquanto, retorna sem modificar\n  return imageData;\n}\n\n/**\n * Detecta tipo de documento pela estrutura\n */\nfunction detectDocumentType(text: string, fields: ExtractedField[]): DocumentType {\n  const lowerText = text.toLowerCase();\n  \n  // Palavras-chave para cada tipo\n  if (lowerText.includes('edital') && (lowerText.includes('licita├º├úo') || lowerText.includes('preg├úo'))) {\n    return 'edital';\n  }\n  \n  if (lowerText.includes('nota fiscal') || lowerText.includes('nf-e')) {\n    return 'invoice';\n  }\n  \n  if (lowerText.includes('contrato') && lowerText.includes('partes')) {\n    return 'contract';\n  }\n  \n  if (lowerText.includes('proposta') && lowerText.includes('comercial')) {\n    return 'proposal';\n  }\n  \n  // Verifica campos estruturados\n  const fieldNames = fields.map(f => f.name.toLowerCase());\n  if (fieldNames.some(name => name.includes('cnpj') || name.includes('ie'))) {\n    return 'invoice';\n  }\n  \n  return 'other';\n}\n\n/**\n * Valida campos extra├¡dos\n */\nfunction validateExtractedFields(fields: ExtractedField[]): boolean {\n  // Verifica se h├í campos com confian├ºa m├¡nima\n  const validFields = fields.filter(f => f.confidence >= MIN_CONFIDENCE);\n  return validFields.length >= Math.ceil(fields.length * 0.6); // 60% devem ser v├ílidos\n}\n\n/**\n * Normaliza valores extra├¡dos\n */\nfunction normalizeValue(value: string, type: 'text' | 'number' | 'date' | 'currency'): string | number | Date {\n  if (type === 'number') {\n    // Remove pontos de milhar, substitui v├¡rgula por ponto\n    const cleaned = value.replace(/\\./g, '').replace(',', '.');\n    return parseFloat(cleaned) || 0;\n  }\n  \n  if (type === 'currency') {\n    // Remove R$, espa├ºos, pontos de milhar\n    const cleaned = value.replace(/R\\$\\s?/g, '').replace(/\\./g, '').replace(',', '.');\n    return parseFloat(cleaned) || 0;\n  }\n  \n  if (type === 'date') {\n    // Tenta parsear data no formato brasileiro\n    const match = value.match(/(\\d{2})\\/(\\d{2})\\/(\\d{4})/);\n    if (match) {\n      const [, day, month, year] = match;\n      return new Date(`${year}-${month}-${day}`);\n    }\n    return new Date(value);\n  }\n  \n  return value.trim();\n}\n\n// ============================================================================\n// Core OCR Functions\n// ============================================================================\n\n/**\n * OCR usando Gemini Vision\n */\nasync function performGeminiVisionOCR(imageData: string): Promise<OCRResult> {\n  try {\n    const apiKey = import.meta.env.VITE_GEMINI_API_KEY;\n    \n    if (!apiKey) {\n      throw new Error('Gemini API key not configured');\n    }\n\n    const response = await fetch(\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          contents: [{\n            parts: [\n              {\n                text: `Extraia TODO o texto deste documento de forma estruturada. \n                \nINSTRU├ç├òES:\n1. Extraia o texto completo preservando a estrutura\n2. Identifique campos importantes (n├║meros, datas, valores, nomes)\n3. Identifique tabelas e mantenha seu formato\n4. Indique o tipo de documento (edital, nota fiscal, contrato, etc.)\n5. Para cada campo, indique a confian├ºa da extra├º├úo\n\nResponda em JSON com esta estrutura:\n{\n  \"fullText\": \"texto completo aqui\",\n  \"documentType\": \"tipo do documento\",\n  \"fields\": [\n    {\"name\": \"campo\", \"value\": \"valor\", \"confidence\": 0.95}\n  ],\n  \"tables\": [\n    {\n      \"headers\": [\"col1\", \"col2\"],\n      \"rows\": [{\"col1\": \"val1\", \"col2\": \"val2\"}],\n      \"confidence\": 0.9\n    }\n  ],\n  \"language\": \"pt-BR\",\n  \"metadata\": {\n    \"hasSignature\": true/false,\n    \"hasStamp\": true/false\n  }\n}`\n              },\n              {\n                inline_data: {\n                  mime_type: 'image/jpeg',\n                  data: imageData\n                }\n              }\n            ]\n          }],\n          generationConfig: {\n            temperature: 0.1, // Baixa para precis├úo\n            topK: 1,\n            topP: 1,\n            maxOutputTokens: 8192,\n          }\n        })\n      }\n    );\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Gemini API error: ${response.statusText} - ${errorText}`);\n    }\n\n    const data = await response.json();\n    \n    // Parse resposta do Gemini\n    const textContent = data.candidates?.[0]?.content?.parts?.[0]?.text || '';\n    \n    // Tenta extrair JSON da resposta\n    const jsonMatch = textContent.match(/\\{[\\s\\S]*\\}/);\n    if (jsonMatch) {\n      const parsed = JSON.parse(jsonMatch[0]);\n      \n      // Normaliza valores\n      const normalizedFields = parsed.fields?.map((f: any) => ({\n        name: f.name,\n        value: normalizeValue(f.value, 'text'),\n        confidence: f.confidence || 0.8,\n      })) || [];\n\n      const result: OCRResult = {\n        fullText: parsed.fullText || textContent,\n        fields: normalizedFields,\n        tables: parsed.tables || [],\n        documentType: detectDocumentType(parsed.fullText || textContent, normalizedFields),\n        confidence: parsed.fields?.reduce((sum: number, f: any) => sum + (f.confidence || 0.8), 0) / (parsed.fields?.length || 1),\n        language: parsed.language || 'pt-BR',\n        pages: 1,\n        metadata: parsed.metadata || {},\n      };\n\n      return result;\n    }\n\n    // Fallback: resposta em texto simples\n    return {\n      fullText: textContent,\n      fields: [],\n      tables: [],\n      documentType: 'other',\n      confidence: 0.5,\n      language: 'pt-BR',\n      pages: 1,\n      metadata: {},\n    };\n\n  } catch (error) {\n    structuredLogger.error('[MultimodalEngine] Gemini Vision OCR error', { error });\n    throw error;\n  }\n}\n\n/**\n * Processa documento completo (imagem ou PDF)\n */\nexport async function processDocument(file: File): Promise<OCRResult> {\n  try {\n    // 1. Valida├º├Áes\n    if (!validateFileFormat(file.type)) {\n      throw new Error(`Unsupported file format: ${file.type}`);\n    }\n\n    if (!validateFileSize(file.size)) {\n      throw new Error(`File too large: ${file.size} bytes (max ${MAX_FILE_SIZE})`);\n    }\n\n    // 2. Converter para base64\n    const imageData = await imageToBase64(file);\n\n    // 3. Pr├®-processamento (se habilitado)\n    const processedData = state.config.preprocessImages\n      ? await preprocessImage(imageData)\n      : imageData;\n\n    // 4. OCR\n    let result: OCRResult;\n    \n    switch (state.config.ocrProvider) {\n      case 'gemini-vision':\n        result = await performGeminiVisionOCR(processedData);\n        break;\n      \n      // TODO: Implementar outros providers\n      case 'google-vision':\n      case 'tesseract':\n        throw new Error(`OCR provider ${state.config.ocrProvider} not implemented yet`);\n      \n      default:\n        throw new Error(`Unknown OCR provider: ${state.config.ocrProvider}`);\n    }\n\n    // 5. Valida├º├úo (se habilitada)\n    if (state.config.validateExtraction && !validateExtractedFields(result.fields)) {\n      structuredLogger.warn('[MultimodalEngine] Extraction validation failed', {\n        fileName: file.name,\n        fieldsCount: result.fields.length,\n        avgConfidence: result.confidence,\n      });\n    }\n\n    state.documentsProcessed++;\n    state.lastProcessedAt = Date.now();\n\n    eventBus.emit('multimodal:document-processed', {\n      fileName: file.name,\n      documentType: result.documentType,\n      confidence: result.confidence,\n      fieldsExtracted: result.fields.length,\n      tablesExtracted: result.tables.length,\n      timestamp: Date.now(),\n    });\n\n    structuredLogger.info('[MultimodalEngine] Document processed', {\n      fileName: file.name,\n      type: result.documentType,\n      confidence: result.confidence,\n      fields: result.fields.length,\n      tables: result.tables.length,\n    });\n\n    return result;\n\n  } catch (error) {\n    structuredLogger.error('[MultimodalEngine] Error processing document', {\n      fileName: file.name,\n      error,\n    });\n    throw error;\n  }\n}\n\n/**\n * Extra├º├úo especializada de edital\n */\nexport async function extractEdital(file: File): Promise<EditalExtraction> {\n  try {\n    // 1. OCR completo\n    const ocrResult = await processDocument(file);\n\n    // 2. Extrair campos espec├¡ficos de edital\n    const text = ocrResult.fullText.toLowerCase();\n    \n    // Regex patterns para campos comuns\n    const numeroMatch = text.match(/edital\\s+n[┬║┬░]?\\s*(\\d+\\/\\d+)/i);\n    const orgaoMatch = text.match(/├│rg├úo[:\\s]+([^\\n]+)/i);\n    const modalidadeMatch = text.match(/(preg├úo|concorr├¬ncia|tomada de pre├ºo|convite|leil├úo)/i);\n    const dataAberturaMatch = text.match(/abertura[:\\s]+(\\d{2}\\/\\d{2}\\/\\d{4})/i);\n    const valorMatch = text.match(/valor\\s+estimado[:\\s]+r\\$\\s*([\\d.,]+)/i);\n\n    // Extrair objeto (geralmente ap├│s \"objeto:\" ou \"1. objeto\")\n    const objetoMatch = text.match(/(?:objeto|1\\.\\s*objeto)[:\\s]+([^\\n.]+)/i);\n\n    // Construir resultado\n    const extraction: EditalExtraction = {\n      numero: numeroMatch?.[1],\n      orgao: orgaoMatch?.[1]?.trim(),\n      modalidade: modalidadeMatch?.[1]?.toLowerCase() as any,\n      objeto: objetoMatch?.[1]?.trim(),\n      dataAbertura: dataAberturaMatch ? new Date(dataAberturaMatch[1].split('/').reverse().join('-')) : undefined,\n      valorEstimado: valorMatch ? parseFloat(valorMatch[1].replace(/\\./g, '').replace(',', '.')) : undefined,\n      itens: ocrResult.tables.length > 0 ? ocrResult.tables[0].rows.map((row, idx) => ({\n        numero: String(idx + 1),\n        descricao: String(row.descricao || row.item || row.especificacao || ''),\n        quantidade: Number(row.quantidade || row.qtd) || undefined,\n        unidade: String(row.unidade || row.un) || undefined,\n        valorUnitario: Number(row.valor_unitario || row.preco_unitario) || undefined,\n        valorTotal: Number(row.valor_total || row.total) || undefined,\n      })) : [],\n      confidence: ocrResult.confidence,\n    };\n\n    structuredLogger.info('[MultimodalEngine] Edital extracted', {\n      numero: extraction.numero,\n      orgao: extraction.orgao,\n      itens: extraction.itens?.length,\n      confidence: extraction.confidence,\n    });\n\n    return extraction;\n\n  } catch (error) {\n    structuredLogger.error('[MultimodalEngine] Error extracting edital', {\n      fileName: file.name,\n      error,\n    });\n    throw error;\n  }\n}\n\n/**\n * An├ílise visual de documento\n */\nexport async function analyzeDocumentVisually(file: File): Promise<VisualAnalysis> {\n  try {\n    const imageData = await imageToBase64(file);\n    \n    const apiKey = import.meta.env.VITE_GEMINI_API_KEY;\n    \n    const response = await fetch(\n      `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          contents: [{\n            parts: [\n              {\n                text: `Analise visualmente este documento e responda em JSON:\n\n{\n  \"documentType\": \"tipo do documento\",\n  \"layout\": {\n    \"hasHeader\": true/false,\n    \"hasFooter\": true/false,\n    \"columns\": n├║mero de colunas,\n    \"sections\": n├║mero de se├º├Áes\n  },\n  \"elements\": {\n    \"logos\": quantidade,\n    \"signatures\": quantidade,\n    \"stamps\": quantidade,\n    \"barcodes\": quantidade,\n    \"qrCodes\": quantidade\n  },\n  \"quality\": {\n    \"resolution\": n├║mero (dpi estimado),\n    \"brightness\": 0-100,\n    \"contrast\": 0-100,\n    \"sharpness\": 0-100\n  },\n  \"issues\": [\n    {\"type\": \"blur|low_contrast|skew|noise|incomplete\", \"severity\": \"low|medium|high\", \"message\": \"descri├º├úo\"}\n  ]\n}`\n              },\n              {\n                inline_data: {\n                  mime_type: 'image/jpeg',\n                  data: imageData\n                }\n              }\n            ]\n          }]\n        })\n      }\n    );\n\n    const data = await response.json();\n    const textContent = data.candidates?.[0]?.content?.parts?.[0]?.text || '{}';\n    const jsonMatch = textContent.match(/\\{[\\s\\S]*\\}/);\n    \n    if (jsonMatch) {\n      return JSON.parse(jsonMatch[0]);\n    }\n\n    // Fallback\n    return {\n      documentType: 'other',\n      layout: { hasHeader: false, hasFooter: false, columns: 1, sections: 1 },\n      elements: { logos: 0, signatures: 0, stamps: 0, barcodes: 0, qrCodes: 0 },\n      quality: { resolution: 150, brightness: 50, contrast: 50, sharpness: 50 },\n      issues: [],\n    };\n\n  } catch (error) {\n    structuredLogger.error('[MultimodalEngine] Error in visual analysis', {\n      fileName: file.name,\n      error,\n    });\n    throw error;\n  }\n}\n\n/**\n * Extrai apenas tabelas de um documento\n */\nexport async function extractTables(file: File): Promise<ExtractedTable[]> {\n  const ocrResult = await processDocument(file);\n  return ocrResult.tables;\n}\n\n/**\n * Extrai texto simples (OCR b├ísico)\n */\nexport async function extractText(file: File): Promise<string> {\n  const ocrResult = await processDocument(file);\n  return ocrResult.fullText;\n}\n\n// ============================================================================\n// Engine Management\n// ============================================================================\n\n/**\n * Inicializa o Multimodal Engine\n */\nexport function initMultimodalEngine(config?: Partial<MultimodalConfig>): void {\n  if (state.initialized) {\n    structuredLogger.warn('[MultimodalEngine] Already initialized');\n    return;\n  }\n\n  if (config) {\n    state.config = { ...state.config, ...config };\n  }\n\n  // Verificar se API key est├í configurada\n  if (!import.meta.env.VITE_GEMINI_API_KEY) {\n    structuredLogger.warn('[MultimodalEngine] Gemini API key not configured');\n  }\n\n  state.initialized = true;\n\n  eventBus.emit('engine:multimodal-ready', {\n    config: state.config,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[MultimodalEngine] Initialized', {\n    provider: state.config.ocrProvider,\n  });\n}\n\n/**\n * Estat├¡sticas\n */\nexport function getMultimodalStats(): {\n  documentsProcessed: number;\n  lastProcessedAt: number;\n  config: MultimodalConfig;\n} {\n  return {\n    documentsProcessed: state.documentsProcessed,\n    lastProcessedAt: state.lastProcessedAt,\n    config: state.config,\n  };\n}\n\n/**\n * Shutdown\n */\nexport function shutdownMultimodalEngine(): void {\n  state.initialized = false;\n\n  eventBus.emit('engine:multimodal-shutdown', {\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[MultimodalEngine] Shut down');\n}\n\n// ============================================================================\n// Export\n// ============================================================================\n\nexport default {\n  initMultimodalEngine,\n  processDocument,\n  extractEdital,\n  analyzeDocumentVisually,\n  extractTables,\n  extractText,\n  getMultimodalStats,\n  shutdownMultimodalEngine,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\nimAdapter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\nlpProcessorEngine.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":267,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":267,"endColumn":14,"suggestions":[{"fix":{"range":[6788,6836],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":549,"column":20,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":549,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * NLPProcessorEngine - Motor de Processamento de Linguagem Natural\n * Modo Deus - Fase 5: NLP e Predi├º├úo\n *\n * Responsabilidades:\n * - Extrair inten├º├úo de texto do usu├írio\n * - Detectar entidades (valores, percentuais, tipos)\n * - Classificar sentimento e urg├¬ncia\n * - Sugerir corre├º├Áes e completar frases\n * - Normalizar entrada de dados\n *\n * @module azuria_ai/engines/nlpProcessorEngine\n */\n\nimport { eventBus } from '../events/eventBus';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Inten├º├Áes que podem ser detectadas\n */\nexport type UserIntent =\n  | 'calculate_price' // Quer calcular pre├ºo de venda\n  | 'calculate_markup' // Quer calcular markup\n  | 'calculate_margin' // Quer calcular margem\n  | 'calculate_bdi' // Quer calcular BDI\n  | 'understand_concept' // Quer entender um conceito\n  | 'compare_values' // Quer comparar valores\n  | 'get_help' // Precisa de ajuda\n  | 'navigate' // Quer navegar para algum lugar\n  | 'export_data' // Quer exportar dados\n  | 'configure' // Quer configurar algo\n  | 'unknown'; // N├úo identificado\n\n/**\n * Tipos de entidades extra├¡das\n */\nexport type EntityType =\n  | 'currency' // Valor monet├írio (R$ 100,00)\n  | 'percentage' // Percentual (25%)\n  | 'number' // N├║mero gen├®rico\n  | 'calculator_type' // Tipo de calculadora\n  | 'concept' // Conceito (markup, margem, BDI)\n  | 'action' // A├º├úo (calcular, exportar, etc)\n  | 'time_reference' // Refer├¬ncia temporal\n  | 'comparison'; // Compara├º├úo (maior, menor, igual)\n\n/**\n * Entidade extra├¡da do texto\n */\nexport interface ExtractedEntity {\n  type: EntityType;\n  value: string;\n  normalizedValue: string | number;\n  startIndex: number;\n  endIndex: number;\n  confidence: number;\n}\n\n/**\n * Resultado da an├ílise de inten├º├úo\n */\nexport interface IntentAnalysis {\n  intent: UserIntent;\n  confidence: number;\n  entities: ExtractedEntity[];\n  sentiment: 'positive' | 'neutral' | 'negative';\n  urgency: 'low' | 'medium' | 'high';\n  suggestedAction?: string;\n}\n\n/**\n * Corre├º├úo sugerida\n */\nexport interface TextCorrection {\n  original: string;\n  corrected: string;\n  type: 'spelling' | 'format' | 'value' | 'concept';\n  confidence: number;\n}\n\n/**\n * Completa├º├úo sugerida\n */\nexport interface TextCompletion {\n  partial: string;\n  suggestions: string[];\n  context?: string;\n}\n\n// =============================================================================\n// PATTERNS & DICTIONARIES\n// =============================================================================\n\n/**\n * Padr├Áes de inten├º├úo com palavras-chave\n */\nconst INTENT_PATTERNS: Record<UserIntent, RegExp[]> = {\n  calculate_price: [\n    /pre[c├º]o\\s*(de\\s*)?(venda|final)/i,\n    /calcul(ar|e|o)\\s*(o\\s*)?pre[c├º]o/i,\n    /quanto\\s*(devo|posso)\\s*(cobrar|vender)/i,\n    /valor\\s*(de\\s*)?venda/i,\n  ],\n  calculate_markup: [\n    /markup/i,\n    /mark[\\s-]?up/i,\n    /multiplicador/i,\n    /fator\\s*(de\\s*)?multiplica/i,\n  ],\n  calculate_margin: [\n    /margem/i,\n    /lucro/i,\n    /lucratividade/i,\n    /rentabilidade/i,\n    /quanto\\s*(vou\\s*)?ganhar/i,\n  ],\n  calculate_bdi: [\n    /bdi/i,\n    /bonifica[├ºc][├úa]o/i,\n    /despesas\\s*indiretas/i,\n    /licita[├ºc][├úa]o/i,\n    /obra\\s*p[├║u]blica/i,\n  ],\n  understand_concept: [\n    /o\\s*que\\s*[├®e]/i,\n    /como\\s*funciona/i,\n    /me\\s*expli(que|ca)/i,\n    /qual\\s*(a\\s*)?diferen[├ºc]a/i,\n    /entender/i,\n    /significado/i,\n  ],\n  compare_values: [\n    /compar(ar|e)/i,\n    /diferen[├ºc]a\\s*entre/i,\n    /(maior|menor|melhor|pior)/i,\n    /versus|vs\\.?/i,\n  ],\n  get_help: [\n    /ajuda/i,\n    /socorro/i,\n    /n[├úa]o\\s*(sei|entendo|consigo)/i,\n    /como\\s*(fa[├ºc]o|uso)/i,\n    /preciso\\s*(de\\s*)?ajuda/i,\n  ],\n  navigate: [\n    /ir\\s*para/i,\n    /abrir/i,\n    /acessar/i,\n    /onde\\s*(fica|est[├ía])/i,\n    /mostrar/i,\n  ],\n  export_data: [\n    /export(ar|e)/i,\n    /baixar/i,\n    /download/i,\n    /salvar\\s*(em|como)/i,\n    /pdf|excel|csv/i,\n  ],\n  configure: [\n    /configur(ar|e)/i,\n    /ajust(ar|e)/i,\n    /alter(ar|e)/i,\n    /mud(ar|e)/i,\n    /prefer[├¬e]ncia/i,\n  ],\n  unknown: [],\n};\n\n/**\n * Padr├Áes para extra├º├úo de entidades\n */\nconst ENTITY_PATTERNS: Record<EntityType, RegExp> = {\n  currency: /R\\$\\s*[\\d.,]+|[\\d.,]+\\s*reais?/gi,\n  percentage: /[\\d.,]+\\s*%|[\\d.,]+\\s*por\\s*cento/gi,\n  number: /\\b[\\d.,]+\\b/g,\n  calculator_type: /markup|margem|bdi|pre[├ºc]o|custo|imposto|tributo/gi,\n  concept: /markup|margem|lucro|bdi|custo|despesa|receita|faturamento/gi,\n  action: /calcul(ar|e)|export(ar|e)|compar(ar|e)|entender|ajuda/gi,\n  time_reference: /hoje|ontem|amanh[├úa]|semana|m[├¬e]s|ano|di[├ía]rio/gi,\n  comparison: /maior|menor|igual|melhor|pior|mais|menos/gi,\n};\n\n/**\n * Dicion├írio de corre├º├Áes comuns\n */\nconst CORRECTIONS: Record<string, string> = {\n  margem: 'margem',\n  marjem: 'margem',\n  markap: 'markup',\n  marcap: 'markup',\n  markop: 'markup',\n  preco: 'pre├ºo',\n  preso: 'pre├ºo',\n  cuato: 'custo',\n  costo: 'custo',\n  licitacao: 'licita├º├úo',\n  licita├ºao: 'licita├º├úo',\n  porcentagem: 'porcentagem',\n  porsentagem: 'porcentagem',\n  calculo: 'c├ílculo',\n  calculho: 'c├ílculo',\n};\n\n/**\n * Sin├┤nimos para normaliza├º├úo\n */\nconst SYNONYMS: Record<string, string[]> = {\n  margem: ['lucro', 'lucratividade', 'rentabilidade', 'ganho'],\n  markup: ['multiplicador', 'fator', 'mark-up', 'mark up'],\n  pre├ºo: ['valor', 'pre├ºo de venda', 'pvenda', 'pv'],\n  custo: ['valor de custo', 'custo total', 'ct', 'gasto'],\n  bdi: ['bonifica├º├úo', 'despesas indiretas', 'b.d.i.'],\n};\n\n/**\n * Palavras que indicam sentimento negativo\n */\nconst NEGATIVE_WORDS = [\n  'n├úo', 'nunca', 'problema', 'erro', 'dif├¡cil', 'complicado',\n  'confuso', 'frustrado', 'irritado', 'perdido', 'travado',\n];\n\n/**\n * Palavras que indicam urg├¬ncia\n */\nconst URGENCY_WORDS = [\n  'urgente', 'r├ípido', 'agora', 'imediato', 'logo', 'preciso',\n  'necess├írio', 'importante', 'cr├¡tico', 'prazo',\n];\n\n// =============================================================================\n// STATE\n// =============================================================================\n\ninterface NLPState {\n  initialized: boolean;\n  customPatterns: Map<UserIntent, RegExp[]>;\n  customCorrections: Map<string, string>;\n  analysisHistory: IntentAnalysis[];\n}\n\nconst state: NLPState = {\n  initialized: false,\n  customPatterns: new Map(),\n  customCorrections: new Map(),\n  analysisHistory: [],\n};\n\n// =============================================================================\n// INITIALIZATION\n// =============================================================================\n\n/**\n * Inicializa o NLPProcessorEngine\n */\nexport function initNLPProcessor(): void {\n  if (state.initialized) {return;}\n\n  state.customPatterns.clear();\n  state.customCorrections.clear();\n  state.analysisHistory = [];\n  state.initialized = true;\n\n  console.log('[NLPProcessorEngine] Initialized');\n}\n\n/**\n * Adiciona padr├Áes customizados de inten├º├úo\n */\nexport function addIntentPattern(intent: UserIntent, pattern: RegExp): void {\n  const existing = state.customPatterns.get(intent) ?? [];\n  existing.push(pattern);\n  state.customPatterns.set(intent, existing);\n}\n\n/**\n * Adiciona corre├º├Áes customizadas\n */\nexport function addCorrection(wrong: string, correct: string): void {\n  state.customCorrections.set(wrong.toLowerCase(), correct);\n}\n\n// =============================================================================\n// INTENT DETECTION\n// =============================================================================\n\n/**\n * Analisa texto e detecta inten├º├úo\n */\nexport function analyzeText(text: string): IntentAnalysis {\n  const normalizedText = normalizeText(text);\n\n  // Detect intent\n  const intent = detectIntent(normalizedText);\n\n  // Extract entities\n  const entities = extractEntities(normalizedText);\n\n  // Analyze sentiment\n  const sentiment = analyzeSentiment(normalizedText);\n\n  // Detect urgency\n  const urgency = detectUrgency(normalizedText);\n\n  // Generate suggested action\n  const suggestedAction = generateSuggestedAction(intent, entities);\n\n  const analysis: IntentAnalysis = {\n    intent: intent.intent,\n    confidence: intent.confidence,\n    entities,\n    sentiment,\n    urgency,\n    suggestedAction,\n  };\n\n  // Store in history\n  state.analysisHistory.unshift(analysis);\n  if (state.analysisHistory.length > 100) {\n    state.analysisHistory = state.analysisHistory.slice(0, 100);\n  }\n\n  // Emit event\n  eventBus.emit({\n    type: 'user:intent_detected',\n    payload: {\n      intent: analysis.intent,\n      confidence: analysis.confidence,\n      entities: analysis.entities.map((e) => e.type),\n      analysis,\n    },\n  });\n\n  return analysis;\n}\n\n/**\n * Detecta inten├º├úo do texto\n */\nfunction detectIntent(text: string): { intent: UserIntent; confidence: number } {\n  let bestIntent: UserIntent = 'unknown';\n  let bestScore = 0;\n\n  // Check built-in patterns\n  for (const [intent, patterns] of Object.entries(INTENT_PATTERNS)) {\n    if (intent === 'unknown') {continue;}\n\n    for (const pattern of patterns) {\n      if (pattern.test(text)) {\n        const score = calculatePatternScore(text, pattern);\n        if (score > bestScore) {\n          bestScore = score;\n          bestIntent = intent as UserIntent;\n        }\n      }\n    }\n  }\n\n  // Check custom patterns\n  for (const [intent, patterns] of state.customPatterns) {\n    for (const pattern of patterns) {\n      if (pattern.test(text)) {\n        const score = calculatePatternScore(text, pattern);\n        if (score > bestScore) {\n          bestScore = score;\n          bestIntent = intent;\n        }\n      }\n    }\n  }\n\n  // Normalize confidence\n  const confidence = Math.min(0.95, bestScore > 0 ? 0.5 + bestScore * 0.5 : 0.1);\n\n  return { intent: bestIntent, confidence };\n}\n\n/**\n * Calcula score de match do padr├úo\n */\nfunction calculatePatternScore(text: string, pattern: RegExp): number {\n  const matches = text.match(pattern);\n  if (!matches) {return 0;}\n\n  // Score based on match length relative to text length\n  // Filter out undefined/null matches before reducing\n  const matchLength = matches\n    .filter((m): m is string => m !== undefined && m !== null)\n    .reduce((sum, m) => sum + m.length, 0);\n  return Math.min(1, matchLength / (text.length * 0.5));\n}\n\n// =============================================================================\n// ENTITY EXTRACTION\n// =============================================================================\n\n/**\n * Extrai entidades do texto\n */\nexport function extractEntities(text: string): ExtractedEntity[] {\n  const entities: ExtractedEntity[] = [];\n\n  for (const [type, pattern] of Object.entries(ENTITY_PATTERNS)) {\n    // Reset regex lastIndex\n    pattern.lastIndex = 0;\n\n    let match;\n    while ((match = pattern.exec(text)) !== null) {\n      const entity: ExtractedEntity = {\n        type: type as EntityType,\n        value: match[0],\n        normalizedValue: normalizeEntityValue(type as EntityType, match[0]),\n        startIndex: match.index,\n        endIndex: match.index + match[0].length,\n        confidence: 0.8,\n      };\n\n      // Avoid duplicates\n      const isDuplicate = entities.some(\n        (e) =>\n          e.startIndex === entity.startIndex && e.endIndex === entity.endIndex\n      );\n\n      if (!isDuplicate) {\n        entities.push(entity);\n      }\n    }\n  }\n\n  // Sort by position\n  return entities.sort((a, b) => a.startIndex - b.startIndex);\n}\n\n/**\n * Normaliza valor da entidade\n */\nfunction normalizeEntityValue(\n  type: EntityType,\n  value: string\n): string | number {\n  switch (type) {\n    case 'currency': {\n      // R$ 1.234,56 -> 1234.56\n      const cleaned = value\n        .replace(/[R$\\s]/g, '')\n        .replace(/\\./g, '')\n        .replace(',', '.');\n      return parseFloat(cleaned) || 0;\n    }\n    case 'percentage': {\n      // 25% or 25 por cento -> 25\n      const cleaned = value.replace(/[%\\s]/g, '').replace(/por\\s*cento/i, '');\n      return parseFloat(cleaned.replace(',', '.')) || 0;\n    }\n    case 'number': {\n      return parseFloat(value.replace(',', '.')) || 0;\n    }\n    default:\n      return value.toLowerCase().trim();\n  }\n}\n\n// =============================================================================\n// SENTIMENT & URGENCY\n// =============================================================================\n\n/**\n * Analisa sentimento do texto\n */\nexport function analyzeSentiment(\n  text: string\n): 'positive' | 'neutral' | 'negative' {\n  const words = text.toLowerCase().split(/\\s+/);\n\n  let negativeCount = 0;\n  let positiveCount = 0;\n\n  for (const word of words) {\n    if (NEGATIVE_WORDS.some((nw) => word.includes(nw))) {\n      negativeCount++;\n    }\n    // Simple positive detection\n    if (['obrigado', 'perfeito', '├│timo', 'bom', 'legal', 'funciona'].some((pw) => word.includes(pw))) {\n      positiveCount++;\n    }\n  }\n\n  if (negativeCount > positiveCount && negativeCount >= 1) {return 'negative';}\n  if (positiveCount > negativeCount && positiveCount >= 1) {return 'positive';}\n  return 'neutral';\n}\n\n/**\n * Detecta urg├¬ncia do texto\n */\nexport function detectUrgency(text: string): 'low' | 'medium' | 'high' {\n  const words = text.toLowerCase().split(/\\s+/);\n\n  let urgencyScore = 0;\n\n  for (const word of words) {\n    if (URGENCY_WORDS.some((uw) => word.includes(uw))) {\n      urgencyScore++;\n    }\n  }\n\n  // Check for punctuation (multiple ? or !)\n  const exclamations = (text.match(/!/g) || []).length;\n  const questions = (text.match(/\\?/g) || []).length;\n\n  if (exclamations >= 2 || urgencyScore >= 2) {return 'high';}\n  if (urgencyScore >= 1 || questions >= 2) {return 'medium';}\n  return 'low';\n}\n\n// =============================================================================\n// TEXT PROCESSING\n// =============================================================================\n\n/**\n * Normaliza texto para processamento\n */\nexport function normalizeText(text: string): string {\n  return text\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '') // Remove accents for matching\n    .replace(/\\s+/g, ' ')\n    .trim();\n}\n\n/**\n * Corrige texto com base no dicion├írio\n */\nexport function correctText(text: string): TextCorrection[] {\n  const corrections: TextCorrection[] = [];\n  const words = text.split(/\\s+/);\n\n  for (const word of words) {\n    const lower = word.toLowerCase();\n\n    // Check custom corrections first\n    if (state.customCorrections.has(lower)) {\n      corrections.push({\n        original: word,\n        corrected: state.customCorrections.get(lower)!,\n        type: 'spelling',\n        confidence: 0.9,\n      });\n      continue;\n    }\n\n    // Check built-in corrections\n    if (CORRECTIONS[lower]) {\n      corrections.push({\n        original: word,\n        corrected: CORRECTIONS[lower],\n        type: 'spelling',\n        confidence: 0.85,\n      });\n    }\n  }\n\n  return corrections;\n}\n\n/**\n * Sugere completa├º├Áes para texto parcial\n */\nexport function suggestCompletions(partial: string): TextCompletion {\n  const lower = partial.toLowerCase().trim();\n  const suggestions: string[] = [];\n\n  // Common completions based on context\n  const completionMap: Record<string, string[]> = {\n    'calcular': ['pre├ºo de venda', 'markup', 'margem', 'BDI'],\n    'quanto': ['devo cobrar', '├® o markup', '├® a margem'],\n    'como': ['calcular pre├ºo', 'funciona o markup', 'usar a calculadora'],\n    'qual': ['a diferen├ºa entre markup e margem', 'o melhor markup', 'a margem ideal'],\n    'o que': ['├® markup', '├® margem', '├® BDI', 's├úo despesas indiretas'],\n    'preciso': ['calcular', 'de ajuda', 'entender'],\n    'exportar': ['para PDF', 'para Excel', 'dados'],\n  };\n\n  // Find matching prefix\n  for (const [prefix, completions] of Object.entries(completionMap)) {\n    if (lower.startsWith(prefix) || prefix.startsWith(lower)) {\n      suggestions.push(...completions.map((c) => `${prefix} ${c}`));\n    }\n  }\n\n  // Limit and dedupe\n  const unique = [...new Set(suggestions)].slice(0, 5);\n\n  return {\n    partial,\n    suggestions: unique,\n  };\n}\n\n/**\n * Normaliza entrada de valor (input de formul├írio)\n */\nexport function normalizeValueInput(input: string): {\n  value: number;\n  type: 'currency' | 'percentage' | 'number';\n  formatted: string;\n} {\n  // Detect type\n  const hasCurrency = /R\\$|reais?/i.test(input);\n  const hasPercent = /%|por\\s*cento/i.test(input);\n\n  // Clean and parse\n  let cleaned = input\n    .replace(/[R$%\\s]/gi, '')\n    .replace(/por\\s*cento/gi, '')\n    .trim();\n\n  // Handle Brazilian number format (1.234,56)\n  if (cleaned.includes(',') && cleaned.includes('.')) {\n    cleaned = cleaned.replace(/\\./g, '').replace(',', '.');\n  } else if (cleaned.includes(',')) {\n    cleaned = cleaned.replace(',', '.');\n  }\n\n  const value = parseFloat(cleaned) || 0;\n\n  const type = hasCurrency ? 'currency' : hasPercent ? 'percentage' : 'number';\n\n  // Format output\n  let formatted: string;\n  if (type === 'currency') {\n    formatted = new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n    }).format(value);\n  } else if (type === 'percentage') {\n    formatted = `${value.toFixed(2)}%`;\n  } else {\n    formatted = value.toLocaleString('pt-BR');\n  }\n\n  return { value, type, formatted };\n}\n\n// =============================================================================\n// ACTION SUGGESTION\n// =============================================================================\n\n/**\n * Gera a├º├úo sugerida baseada na inten├º├úo\n */\nfunction generateSuggestedAction(\n  intent: UserIntent,\n  entities: ExtractedEntity[]\n): string | undefined {\n  const actionMap: Record<UserIntent, string> = {\n    calculate_price: 'navigate:/calculadoras/preco-venda',\n    calculate_markup: 'navigate:/calculadoras/markup',\n    calculate_margin: 'navigate:/calculadoras/margem',\n    calculate_bdi: 'navigate:/calculadoras/bdi',\n    understand_concept: 'show:explanation',\n    compare_values: 'show:comparison',\n    get_help: 'show:help',\n    navigate: 'navigate:detected',\n    export_data: 'action:export',\n    configure: 'navigate:/configuracoes',\n    unknown: undefined,\n  };\n\n  let action = actionMap[intent];\n\n  // Enhance with entity context\n  if (action && entities.length > 0) {\n    const currencyEntity = entities.find((e) => e.type === 'currency');\n    const percentEntity = entities.find((e) => e.type === 'percentage');\n\n    if (currencyEntity && intent.startsWith('calculate')) {\n      action += `?custo=${currencyEntity.normalizedValue}`;\n    }\n    if (percentEntity && intent.startsWith('calculate')) {\n      action += `${action.includes('?') ? '&' : '?'}taxa=${percentEntity.normalizedValue}`;\n    }\n  }\n\n  return action;\n}\n\n/**\n * Obt├®m sin├┤nimos de um termo\n */\nexport function getSynonyms(term: string): string[] {\n  const lower = term.toLowerCase();\n\n  // Check if term is a key\n  if (SYNONYMS[lower]) {\n    return SYNONYMS[lower];\n  }\n\n  // Check if term is a synonym value\n  for (const [key, values] of Object.entries(SYNONYMS)) {\n    if (values.some((v) => v.toLowerCase() === lower)) {\n      return [key, ...values.filter((v) => v.toLowerCase() !== lower)];\n    }\n  }\n\n  return [];\n}\n\n/**\n * Verifica se dois termos s├úo sin├┤nimos\n */\nexport function areSynonyms(term1: string, term2: string): boolean {\n  const lower1 = term1.toLowerCase();\n  const lower2 = term2.toLowerCase();\n\n  if (lower1 === lower2) {return true;}\n\n  const synonyms1 = getSynonyms(lower1);\n  const synonyms2 = getSynonyms(lower2);\n\n  return (\n    synonyms1.some((s) => s.toLowerCase() === lower2) ||\n    synonyms2.some((s) => s.toLowerCase() === lower1)\n  );\n}\n\n// =============================================================================\n// HISTORY & STATS\n// =============================================================================\n\n/**\n * Retorna hist├│rico de an├ílises\n */\nexport function getAnalysisHistory(): IntentAnalysis[] {\n  return [...state.analysisHistory];\n}\n\n/**\n * Retorna estat├¡sticas de NLP\n */\nexport function getNLPStats(): {\n  totalAnalyses: number;\n  intentDistribution: Record<UserIntent, number>;\n  avgConfidence: number;\n  sentimentDistribution: Record<string, number>;\n} {\n  const intentDist: Record<UserIntent, number> = {\n    calculate_price: 0,\n    calculate_markup: 0,\n    calculate_margin: 0,\n    calculate_bdi: 0,\n    understand_concept: 0,\n    compare_values: 0,\n    get_help: 0,\n    navigate: 0,\n    export_data: 0,\n    configure: 0,\n    unknown: 0,\n  };\n\n  const sentimentDist: Record<string, number> = {\n    positive: 0,\n    neutral: 0,\n    negative: 0,\n  };\n\n  let confidenceSum = 0;\n\n  for (const analysis of state.analysisHistory) {\n    intentDist[analysis.intent]++;\n    sentimentDist[analysis.sentiment]++;\n    confidenceSum += analysis.confidence;\n  }\n\n  return {\n    totalAnalyses: state.analysisHistory.length,\n    intentDistribution: intentDist,\n    avgConfidence:\n      state.analysisHistory.length > 0\n        ? confidenceSum / state.analysisHistory.length\n        : 0,\n    sentimentDistribution: sentimentDist,\n  };\n}\n\n// =============================================================================\n// CLEANUP\n// =============================================================================\n\n/**\n * Limpa hist├│rico de an├ílises\n */\nexport function clearAnalysisHistory(): void {\n  state.analysisHistory = [];\n}\n\n/**\n * Reseta o engine\n */\nexport function resetNLPProcessor(): void {\n  state.initialized = false;\n  state.customPatterns.clear();\n  state.customCorrections.clear();\n  state.analysisHistory = [];\n}\n\n// =============================================================================\n// EXPORTS\n// =============================================================================\n\nexport const nlpProcessor = {\n  init: initNLPProcessor,\n  analyze: analyzeText,\n  extractEntities,\n  analyzeSentiment,\n  detectUrgency,\n  normalizeText,\n  correctText,\n  suggestCompletions,\n  normalizeValue: normalizeValueInput,\n  getSynonyms,\n  areSynonyms,\n  addPattern: addIntentPattern,\n  addCorrection,\n  getHistory: getAnalysisHistory,\n  getStats: getNLPStats,\n  clearHistory: clearAnalysisHistory,\n  reset: resetNLPProcessor,\n};\n\nexport default nlpProcessor;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\operationalAIEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\operationalStateEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\patternLearningEngine.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":135,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":135,"endColumn":14,"suggestions":[{"fix":{"range":[3504,3667],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":151,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":151,"endColumn":20,"suggestions":[{"fix":{"range":[3923,3990],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":158,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":158,"endColumn":18,"suggestions":[{"fix":{"range":[4100,4156],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":174,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":174,"endColumn":20,"suggestions":[{"fix":{"range":[4517,4583],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":187,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":187,"endColumn":17,"suggestions":[{"fix":{"range":[4875,4947],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":655,"column":38,"nodeType":"MemberExpression","messageId":"unexpected","endLine":655,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":677,"column":35,"nodeType":"MemberExpression","messageId":"unexpected","endLine":677,"endColumn":48,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":784,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":784,"endColumn":17,"suggestions":[{"fix":{"range":[20957,21031],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\perceptionEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[250,253],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[250,253],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[549,552],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[549,552],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\ninterface SignalSample {\r\n  eventFrequency: number;\r\n  avgLatency: number;\r\n  logAnomalies: string[];\r\n  silentComponents: string[];\r\n  contrastSignals: string[];\r\n}\r\n\r\nfunction simulateSensors(state: any): SignalSample {\r\n  return {\r\n    eventFrequency: Math.random() * 10,\r\n    avgLatency: Math.random() * 200,\r\n    logAnomalies: state?.logs?.anomalies || [],\r\n    silentComponents: state?.silent || [],\r\n    contrastSignals: state?.contrast || [],\r\n  };\r\n}\r\n\r\nexport function sampleSignals(state: any) {\r\n  const sample = simulateSensors(state);\r\n  emitEvent('ai:virtual-signal', { sample }, { source: 'perceptionEngine', priority: 5 });\r\n  return sample;\r\n}\r\n\r\nexport function reconstructState(sample?: SignalSample) {\r\n  const reconstructedState = {\r\n    health: sample?.eventFrequency > 5 ? 'busy' : 'normal',\r\n    latencyRisk: sample?.avgLatency && sample.avgLatency > 150,\r\n  };\r\n  const confidence = sample ? Math.max(0.4, Math.min(0.9, 1 - (sample.avgLatency || 0) / 500)) : 0.5;\r\n  const missingSignals = sample?.silentComponents || [];\r\n  const anomalies = sample?.logAnomalies || [];\r\n  const payload = { reconstructedState, confidence, missingSignals, anomalies };\r\n  emitEvent('ai:context-reconstructed', payload, { source: 'perceptionEngine', priority: 6 });\r\n  return payload;\r\n}\r\n\r\nexport function estimateMissingData(sample?: SignalSample) {\r\n  return {\r\n    estimated: sample?.silentComponents?.reduce((acc, c) => ({ ...acc, [c]: 'estimated' }), {}) || {},\r\n  };\r\n}\r\n\r\nexport function detectSilentFailures(sample?: SignalSample) {\r\n  if (sample?.silentComponents?.length) {\r\n    emitEvent(\r\n      'ai:silent-failure-detected',\r\n      { components: sample.silentComponents },\r\n      { source: 'perceptionEngine', priority: 7 }\r\n    );\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function predictBehaviorFromNoise(sample?: SignalSample) {\r\n  if (!sample) {return null;}\r\n  const noiseScore = (sample.contrastSignals?.length || 0) * 0.2;\r\n  const behavior = noiseScore > 0.5 ? 'unstable' : 'stable';\r\n  emitEvent(\r\n    'ai:anomaly-behavior-detected',\r\n    { noiseScore, behavior },\r\n    { source: 'perceptionEngine', priority: 6 }\r\n  );\r\n  return { noiseScore, behavior };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\performanceMonitorEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\personaProfiles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\personalityEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":63,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1730,1733],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1730,1733],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport interface AzuriaPersonalityProfile {\r\n  coreTraits: string[];\r\n  decisionHeuristics: string[];\r\n  riskAttitude: 'conservador' | 'balanceado' | 'agressivo';\r\n  opportunityBias: number; // 0 a 1\r\n  toneStyle: {\r\n    friendly: boolean;\r\n    concise: boolean;\r\n    strategic: boolean;\r\n    motivational: boolean;\r\n  };\r\n  behavioralRules: string[];\r\n  escalationRules: string[];\r\n}\r\n\r\nconst profile: AzuriaPersonalityProfile = {\r\n  coreTraits: [\r\n    'Inteligente',\r\n    'Estrat├®gico',\r\n    'Orientado a lucro',\r\n    'Respons├ível',\r\n    'Pragm├ítico',\r\n    'Vision├írio sem exageros',\r\n    'Focado em precis├úo',\r\n    'Resolve problemas sem drama',\r\n  ],\r\n  decisionHeuristics: [\r\n    'Reduzir risco ao usu├írio',\r\n    'Maximizar lucro com seguran├ºa',\r\n    'Manter coer├¬ncia entre dados',\r\n    'Sugerir a├º├Áes com impacto real',\r\n    'Nunca complicar o simples',\r\n  ],\r\n  riskAttitude: 'balanceado',\r\n  opportunityBias: 0.65,\r\n  toneStyle: {\r\n    friendly: true,\r\n    concise: true,\r\n    strategic: true,\r\n    motivational: false,\r\n  },\r\n  behavioralRules: [\r\n    'Nunca recomendar algo sem justificar.',\r\n    'Nunca contradizer dados dispon├¡veis.',\r\n    'Sempre considerar impacto financeiro.',\r\n    'Sempre sinalizar riscos antes de sugerir a├º├Áes ousadas.',\r\n    'Sempre priorizar clareza acima de est├®tica.',\r\n  ],\r\n  escalationRules: [\r\n    'Detectar inconsist├¬ncia entre dados e decis├úo.',\r\n    'Risco financeiro alto.',\r\n    'Par├ómetros extremos pelo usu├írio.',\r\n    'Simula├º├Áes convergindo para resultados inst├íveis.',\r\n  ],\r\n};\r\n\r\nexport function getPersonalityProfile(): AzuriaPersonalityProfile {\r\n  return profile;\r\n}\r\n\r\nexport function emitPersonalityEscalation(details: any) {\r\n  emitEvent(\r\n    'ai:personality-escalation',\r\n    { details, severity: 'warning' },\r\n    { source: 'personalityEngine', priority: 7 }\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\personalizationEngine.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":180,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":180,"endColumn":14,"suggestions":[{"fix":{"range":[4891,5053],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":197,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":197,"endColumn":20,"suggestions":[{"fix":{"range":[5397,5472],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":204,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":204,"endColumn":18,"suggestions":[{"fix":{"range":[5582,5646],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":220,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":220,"endColumn":20,"suggestions":[{"fix":{"range":[6047,6116],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":240,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":240,"endColumn":20,"suggestions":[{"fix":{"range":[6558,6627],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":252,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":252,"endColumn":17,"suggestions":[{"fix":{"range":[6967,7038],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":318,"column":33,"nodeType":"MemberExpression","messageId":"unexpected","endLine":318,"endColumn":46,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":504,"column":28,"nodeType":"MemberExpression","messageId":"unexpected","endLine":504,"endColumn":41,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":732,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":732,"endColumn":17,"suggestions":[{"fix":{"range":[20432,20506],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":750,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":750,"endColumn":17,"suggestions":[{"fix":{"range":[20989,21069],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\policyEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\predictiveEngine.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":163,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":163,"endColumn":14,"suggestions":[{"fix":{"range":[4537,4626],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * PredictiveEngine - Motor de Predi├º├úo de A├º├Áes\n * Modo Deus - Fase 5: NLP e Predi├º├úo\n *\n * Responsabilidades:\n * - Prever pr├│xima a├º├úo do usu├írio\n * - Identificar fluxos prov├íveis\n * - Calcular probabilidade de abandono\n * - Sugerir atalhos inteligentes\n * - Pr├®-carregar recursos antecipadamente\n *\n * @module azuria_ai/engines/predictiveEngine\n */\n\nimport { eventBus } from '../events/eventBus';\nimport { patternLearning } from './patternLearningEngine';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * A├º├úo prevista\n */\nexport interface PredictedAction {\n  action: string;\n  probability: number; // 0-1\n  confidence: number; // 0-1\n  reasoning: string;\n  suggestedPreload?: string[]; // Resources to preload\n  timeToAction?: number; // Estimated ms until action\n}\n\n/**\n * Fluxo previsto\n */\nexport interface PredictedFlow {\n  steps: string[];\n  probability: number;\n  estimatedDuration: number; // ms\n  potentialBlockers: string[];\n}\n\n/**\n * Risco de abandono\n */\nexport interface AbandonmentRisk {\n  score: number; // 0-100\n  level: 'low' | 'medium' | 'high' | 'critical';\n  triggers: string[];\n  preventionSuggestions: string[];\n}\n\n/**\n * Contexto para predi├º├úo\n */\nexport interface PredictionContext {\n  currentScreen: string;\n  recentActions: string[];\n  sessionDuration: number;\n  idleTime: number;\n  errorCount: number;\n  completedTasks: string[];\n}\n\n/**\n * Modelo de transi├º├úo de estados\n */\ninterface TransitionModel {\n  from: string;\n  to: string;\n  count: number;\n  avgTimeMs: number;\n}\n\n// =============================================================================\n// STATE\n// =============================================================================\n\ninterface PredictiveState {\n  initialized: boolean;\n  transitionModel: Map<string, TransitionModel[]>;\n  actionHistory: Array<{ action: string; timestamp: number }>;\n  currentContext: PredictionContext;\n  predictions: PredictedAction[];\n}\n\nconst state: PredictiveState = {\n  initialized: false,\n  transitionModel: new Map(),\n  actionHistory: [],\n  currentContext: {\n    currentScreen: '',\n    recentActions: [],\n    sessionDuration: 0,\n    idleTime: 0,\n    errorCount: 0,\n    completedTasks: [],\n  },\n  predictions: [],\n};\n\n// Configuration\nconst CONFIG = {\n  historySize: 50,\n  minTransitionsForPrediction: 2,\n  predictionThreshold: 0.3,\n  maxPredictions: 5,\n  abandonmentThresholds: {\n    idleTime: 120000, // 2 min idle = warning\n    errorCount: 3, // 3 errors = warning\n    noProgressTime: 300000, // 5 min no progress = high risk\n  },\n};\n\n// =============================================================================\n// DEFAULT TRANSITIONS (Initial Model)\n// =============================================================================\n\nconst DEFAULT_TRANSITIONS: TransitionModel[] = [\n  // From home\n  { from: 'home', to: 'calculator/markup', count: 30, avgTimeMs: 5000 },\n  { from: 'home', to: 'calculator/margin', count: 25, avgTimeMs: 5000 },\n  { from: 'home', to: 'calculator/price', count: 20, avgTimeMs: 4000 },\n  { from: 'home', to: 'calculator/bdi', count: 10, avgTimeMs: 6000 },\n\n  // Calculator flows\n  { from: 'calculator/markup', to: 'calculator/margin', count: 15, avgTimeMs: 30000 },\n  { from: 'calculator/margin', to: 'calculator/markup', count: 12, avgTimeMs: 30000 },\n  { from: 'calculator/price', to: 'export', count: 10, avgTimeMs: 60000 },\n  { from: 'calculator/bdi', to: 'export', count: 8, avgTimeMs: 90000 },\n\n  // Export flows\n  { from: 'export', to: 'home', count: 5, avgTimeMs: 10000 },\n  { from: 'export', to: 'calculator/price', count: 3, avgTimeMs: 15000 },\n\n  // Help flows\n  { from: 'calculator/markup', to: 'help/markup-vs-margin', count: 8, avgTimeMs: 45000 },\n  { from: 'calculator/margin', to: 'help/markup-vs-margin', count: 6, avgTimeMs: 40000 },\n  { from: 'help/markup-vs-margin', to: 'calculator/markup', count: 10, avgTimeMs: 60000 },\n];\n\n// =============================================================================\n// INITIALIZATION\n// =============================================================================\n\n/**\n * Inicializa o PredictiveEngine\n */\nexport function initPredictiveEngine(): void {\n  if (state.initialized) {return;}\n\n  // Load default transitions\n  loadDefaultTransitions();\n\n  // Try to load learned transitions from pattern engine\n  integrateLearnedPatterns();\n\n  state.actionHistory = [];\n  state.predictions = [];\n  state.initialized = true;\n\n  console.log('[PredictiveEngine] Initialized with', state.transitionModel.size, 'states');\n}\n\nfunction loadDefaultTransitions(): void {\n  for (const transition of DEFAULT_TRANSITIONS) {\n    const existing = state.transitionModel.get(transition.from) ?? [];\n    existing.push(transition);\n    state.transitionModel.set(transition.from, existing);\n  }\n}\n\nfunction integrateLearnedPatterns(): void {\n  try {\n    const navPatterns = patternLearning.getPatternsByType('navigation');\n\n    for (const pattern of navPatterns) {\n      if (pattern.confidence < 0.5) {continue;}\n\n      const data = pattern.data as { sequence?: string };\n      if (!data.sequence) {continue;}\n\n      const [from, to] = data.sequence.split('->').map((s) =>\n        s.replace('navigate:', '').replace('view:', '')\n      );\n\n      if (from && to) {\n        const existing = state.transitionModel.get(from) ?? [];\n        const existingTransition = existing.find((t) => t.to === to);\n\n        if (existingTransition) {\n          existingTransition.count += pattern.occurrences;\n        } else {\n          existing.push({\n            from,\n            to,\n            count: pattern.occurrences,\n            avgTimeMs: 30000, // Default estimate\n          });\n        }\n\n        state.transitionModel.set(from, existing);\n      }\n    }\n  } catch {\n    // Pattern learning may not be initialized\n  }\n}\n\n// =============================================================================\n// CONTEXT MANAGEMENT\n// =============================================================================\n\n/**\n * Atualiza contexto de predi├º├úo\n */\nexport function updatePredictionContext(\n  context: Partial<PredictionContext>\n): void {\n  Object.assign(state.currentContext, context);\n\n  // Recalculate predictions when context changes\n  if (context.currentScreen) {\n    state.predictions = calculatePredictions(context.currentScreen);\n  }\n}\n\n/**\n * Registra a├º├úo do usu├írio\n */\nexport function recordUserAction(action: string): void {\n  const now = Date.now();\n\n  state.actionHistory.push({ action, timestamp: now });\n\n  // Keep history bounded\n  if (state.actionHistory.length > CONFIG.historySize) {\n    state.actionHistory = state.actionHistory.slice(-CONFIG.historySize);\n  }\n\n  // Update recent actions in context\n  state.currentContext.recentActions = state.actionHistory\n    .slice(-10)\n    .map((a) => a.action);\n\n  // Learn from transition\n  if (state.actionHistory.length >= 2) {\n    const prev = state.actionHistory[state.actionHistory.length - 2];\n    learnTransition(prev.action, action, now - prev.timestamp);\n  }\n\n  // Recalculate predictions\n  state.predictions = calculatePredictions(action);\n}\n\n/**\n * Aprende nova transi├º├úo\n */\nfunction learnTransition(from: string, to: string, durationMs: number): void {\n  const existing = state.transitionModel.get(from) ?? [];\n  const transition = existing.find((t) => t.to === to);\n\n  if (transition) {\n    // Update existing transition\n    const totalTime = transition.avgTimeMs * transition.count + durationMs;\n    transition.count++;\n    transition.avgTimeMs = totalTime / transition.count;\n  } else {\n    // Add new transition\n    existing.push({ from, to, count: 1, avgTimeMs: durationMs });\n    state.transitionModel.set(from, existing);\n  }\n}\n\n// =============================================================================\n// PREDICTION\n// =============================================================================\n\n/**\n * Calcula predi├º├Áes a partir do estado atual\n */\nfunction calculatePredictions(currentState: string): PredictedAction[] {\n  const transitions = state.transitionModel.get(currentState) ?? [];\n\n  if (transitions.length === 0) {\n    return [];\n  }\n\n  // Calculate total count for probability\n  const totalCount = transitions.reduce((sum, t) => sum + t.count, 0);\n\n  // Generate predictions\n  const predictions: PredictedAction[] = transitions\n    .map((t) => ({\n      action: t.to,\n      probability: t.count / totalCount,\n      confidence: Math.min(0.95, t.count / 10), // More data = higher confidence\n      reasoning: `Baseado em ${t.count} transi├º├Áes anteriores`,\n      timeToAction: t.avgTimeMs,\n      suggestedPreload: getSuggestedPreloads(t.to),\n    }))\n    .filter((p) => p.probability >= CONFIG.predictionThreshold)\n    .sort((a, b) => b.probability - a.probability)\n    .slice(0, CONFIG.maxPredictions);\n\n  return predictions;\n}\n\n/**\n * Sugere recursos para pr├®-carregar\n */\nfunction getSuggestedPreloads(action: string): string[] {\n  const preloadMap: Record<string, string[]> = {\n    'calculator/markup': ['/api/tax-rates', '/components/Calculator'],\n    'calculator/margin': ['/api/tax-rates', '/components/Calculator'],\n    'calculator/price': ['/api/tax-rates', '/components/Calculator'],\n    'calculator/bdi': ['/api/bdi-components', '/components/BDICalculator'],\n    'export': ['/api/export-templates', '/components/ExportDialog'],\n    'help': ['/api/help-content'],\n  };\n\n  return preloadMap[action] ?? [];\n}\n\n/**\n * Retorna predi├º├Áes atuais\n */\nexport function getCurrentPredictions(): PredictedAction[] {\n  return [...state.predictions];\n}\n\n/**\n * Retorna pr├│xima a├º├úo mais prov├ível\n */\nexport function getMostLikelyNextAction(): PredictedAction | null {\n  if (state.predictions.length === 0) {return null;}\n  return state.predictions[0];\n}\n\n/**\n * Prev├¬ fluxo completo a partir do estado atual\n */\nexport function predictFlow(\n  startState: string,\n  maxSteps: number = 5\n): PredictedFlow {\n  const steps: string[] = [startState];\n  let probability = 1;\n  let totalDuration = 0;\n  const potentialBlockers: string[] = [];\n  let currentState = startState;\n\n  for (let i = 0; i < maxSteps; i++) {\n    const transitions = state.transitionModel.get(currentState) ?? [];\n\n    if (transitions.length === 0) {break;}\n\n    // Get most likely next state\n    const totalCount = transitions.reduce((sum, t) => sum + t.count, 0);\n    const sorted = [...transitions].sort((a, b) => b.count - a.count);\n    const next = sorted[0];\n\n    if (!next) {break;}\n\n    const stepProbability = next.count / totalCount;\n    probability *= stepProbability;\n    totalDuration += next.avgTimeMs;\n\n    // Check for potential blockers\n    if (stepProbability < 0.4) {\n      potentialBlockers.push(`Incerteza em ${currentState} -> ${next.to}`);\n    }\n\n    steps.push(next.to);\n    currentState = next.to;\n\n    // Stop if we've reached a likely endpoint\n    if (\n      ['export', 'home', 'logout'].some((end) => next.to.includes(end))\n    ) {\n      break;\n    }\n  }\n\n  return {\n    steps,\n    probability,\n    estimatedDuration: totalDuration,\n    potentialBlockers,\n  };\n}\n\n// =============================================================================\n// ABANDONMENT RISK\n// =============================================================================\n\n/**\n * Calcula risco de abandono\n */\nexport function calculateAbandonmentRisk(): AbandonmentRisk {\n  const ctx = state.currentContext;\n  const triggers: string[] = [];\n  let score = 0;\n\n  // Idle time factor\n  if (ctx.idleTime > CONFIG.abandonmentThresholds.idleTime) {\n    const idleFactor = Math.min(\n      30,\n      (ctx.idleTime / CONFIG.abandonmentThresholds.idleTime) * 15\n    );\n    score += idleFactor;\n    triggers.push(`Inativo por ${Math.round(ctx.idleTime / 1000)}s`);\n  }\n\n  // Error count factor\n  if (ctx.errorCount >= CONFIG.abandonmentThresholds.errorCount) {\n    score += ctx.errorCount * 10;\n    triggers.push(`${ctx.errorCount} erros na sess├úo`);\n  }\n\n  // No progress factor\n  if (ctx.completedTasks.length === 0 && ctx.sessionDuration > 60000) {\n    const minutesWithoutProgress = ctx.sessionDuration / 60000;\n    score += Math.min(25, minutesWithoutProgress * 5);\n    triggers.push('Nenhuma tarefa conclu├¡da');\n  }\n\n  // Recent action pattern\n  const recentActions = ctx.recentActions;\n  if (recentActions.length >= 3) {\n    // Check for repeated back-and-forth (confusion)\n    const unique = new Set(recentActions.slice(-5));\n    if (unique.size <= 2 && recentActions.length >= 5) {\n      score += 15;\n      triggers.push('Navega├º├úo repetitiva detectada');\n    }\n  }\n\n  // Normalize score\n  score = Math.min(100, Math.max(0, score));\n\n  // Determine level\n  let level: AbandonmentRisk['level'];\n  if (score >= 70) {level = 'critical';}\n  else if (score >= 50) {level = 'high';}\n  else if (score >= 25) {level = 'medium';}\n  else {level = 'low';}\n\n  // Generate prevention suggestions\n  const preventionSuggestions = generatePreventionSuggestions(\n    triggers,\n    level\n  );\n\n  return { score, level, triggers, preventionSuggestions };\n}\n\n/**\n * Gera sugest├Áes de preven├º├úo de abandono\n */\nfunction generatePreventionSuggestions(\n  triggers: string[],\n  level: AbandonmentRisk['level']\n): string[] {\n  const suggestions: string[] = [];\n\n  if (triggers.some((t) => t.includes('Inativo'))) {\n    suggestions.push('Oferecer ajuda proativa');\n    suggestions.push('Mostrar dica contextual');\n  }\n\n  if (triggers.some((t) => t.includes('erros'))) {\n    suggestions.push('Exibir tutorial relevante');\n    suggestions.push('Simplificar interface atual');\n  }\n\n  if (triggers.some((t) => t.includes('Nenhuma tarefa'))) {\n    suggestions.push('Sugerir a├º├úo inicial');\n    suggestions.push('Mostrar exemplo pr├ítico');\n  }\n\n  if (triggers.some((t) => t.includes('repetitiva'))) {\n    suggestions.push('Oferecer atalho direto');\n    suggestions.push('Perguntar o que usu├írio precisa');\n  }\n\n  if (level === 'critical') {\n    suggestions.unshift('Interven├º├úo imediata necess├íria');\n  }\n\n  return suggestions;\n}\n\n// =============================================================================\n// SMART SHORTCUTS\n// =============================================================================\n\n/**\n * Sugere atalhos inteligentes\n */\nexport function suggestSmartShortcuts(): Array<{\n  label: string;\n  action: string;\n  reason: string;\n}> {\n  const shortcuts: Array<{ label: string; action: string; reason: string }> = [];\n\n  // Based on predictions\n  const topPrediction = getMostLikelyNextAction();\n  if (topPrediction && topPrediction.probability > 0.5) {\n    shortcuts.push({\n      label: `Ir para ${formatActionLabel(topPrediction.action)}`,\n      action: topPrediction.action,\n      reason: `${Math.round(topPrediction.probability * 100)}% dos usu├írios fazem isso`,\n    });\n  }\n\n  // Based on patterns\n  try {\n    const mostUsed = patternLearning.getMostUsedCalculators();\n    for (const calc of mostUsed.slice(0, 2)) {\n      if (!shortcuts.some((s) => s.action.includes(calc))) {\n        shortcuts.push({\n          label: `Calculadora ${calc}`,\n          action: `calculator/${calc}`,\n          reason: 'Voc├¬ usa frequentemente',\n        });\n      }\n    }\n  } catch {\n    // Pattern learning not available\n  }\n\n  // Based on time of day\n  const hour = new Date().getHours();\n  if (hour >= 8 && hour <= 10) {\n    shortcuts.push({\n      label: 'C├ílculos do dia',\n      action: 'daily-summary',\n      reason: 'In├¡cio do expediente',\n    });\n  }\n\n  return shortcuts.slice(0, 4);\n}\n\n/**\n * Formata label de a├º├úo para exibi├º├úo\n */\nfunction formatActionLabel(action: string): string {\n  const labels: Record<string, string> = {\n    'calculator/markup': 'Calculadora de Markup',\n    'calculator/margin': 'Calculadora de Margem',\n    'calculator/price': 'Pre├ºo de Venda',\n    'calculator/bdi': 'Calculadora BDI',\n    'export': 'Exportar',\n    'help': 'Ajuda',\n    'home': 'In├¡cio',\n  };\n\n  return labels[action] ?? action;\n}\n\n// =============================================================================\n// PRELOADING\n// =============================================================================\n\n/**\n * Retorna recursos que devem ser pr├®-carregados\n */\nexport function getPreloadSuggestions(): string[] {\n  const suggestions = new Set<string>();\n\n  // From top predictions\n  for (const prediction of state.predictions.slice(0, 3)) {\n    if (prediction.suggestedPreload) {\n      prediction.suggestedPreload.forEach((p) => suggestions.add(p));\n    }\n  }\n\n  return [...suggestions];\n}\n\n/**\n * Verifica se a├º├úo ├® prevista\n */\nexport function isActionPredicted(action: string): boolean {\n  return state.predictions.some(\n    (p) => p.action === action && p.probability >= CONFIG.predictionThreshold\n  );\n}\n\n// =============================================================================\n// EVENTS\n// =============================================================================\n\n/**\n * Emite evento de predi├º├úo\n */\nexport function emitPredictionEvent(): void {\n  const topPrediction = getMostLikelyNextAction();\n\n  if (topPrediction && topPrediction.probability >= 0.6) {\n    eventBus.emit({\n      type: 'ai:pattern-detected',\n      payload: {\n        pattern: 'high_probability_next_action',\n        action: topPrediction.action,\n        probability: topPrediction.probability,\n      },\n    });\n  }\n\n  const abandonmentRisk = calculateAbandonmentRisk();\n  if (abandonmentRisk.level === 'high' || abandonmentRisk.level === 'critical') {\n    eventBus.emit({\n      type: 'ai:pattern-detected',\n      payload: {\n        pattern: 'abandonment_risk',\n        level: abandonmentRisk.level,\n        score: abandonmentRisk.score,\n      },\n    });\n  }\n}\n\n// =============================================================================\n// STATS\n// =============================================================================\n\n/**\n * Retorna estat├¡sticas do engine\n */\nexport function getPredictiveStats(): {\n  totalStates: number;\n  totalTransitions: number;\n  historySize: number;\n  currentPredictions: number;\n  avgPredictionConfidence: number;\n} {\n  let totalTransitions = 0;\n  for (const transitions of state.transitionModel.values()) {\n    totalTransitions += transitions.length;\n  }\n\n  const avgConfidence =\n    state.predictions.length > 0\n      ? state.predictions.reduce((sum, p) => sum + p.confidence, 0) /\n        state.predictions.length\n      : 0;\n\n  return {\n    totalStates: state.transitionModel.size,\n    totalTransitions,\n    historySize: state.actionHistory.length,\n    currentPredictions: state.predictions.length,\n    avgPredictionConfidence: avgConfidence,\n  };\n}\n\n// =============================================================================\n// CLEANUP\n// =============================================================================\n\n/**\n * Limpa hist├│rico de a├º├Áes\n */\nexport function clearActionHistory(): void {\n  state.actionHistory = [];\n  state.predictions = [];\n}\n\n/**\n * Reseta o engine\n */\nexport function resetPredictiveEngine(): void {\n  state.initialized = false;\n  state.transitionModel.clear();\n  state.actionHistory = [];\n  state.predictions = [];\n  state.currentContext = {\n    currentScreen: '',\n    recentActions: [],\n    sessionDuration: 0,\n    idleTime: 0,\n    errorCount: 0,\n    completedTasks: [],\n  };\n}\n\n// =============================================================================\n// EXPORTS\n// =============================================================================\n\nexport const predictiveEngine = {\n  init: initPredictiveEngine,\n  updateContext: updatePredictionContext,\n  recordAction: recordUserAction,\n  getPredictions: getCurrentPredictions,\n  getMostLikely: getMostLikelyNextAction,\n  predictFlow,\n  getAbandonmentRisk: calculateAbandonmentRisk,\n  suggestShortcuts: suggestSmartShortcuts,\n  getPreloads: getPreloadSuggestions,\n  isPredicted: isActionPredicted,\n  emitPrediction: emitPredictionEvent,\n  getStats: getPredictiveStats,\n  clearHistory: clearActionHistory,\n  reset: resetPredictiveEngine,\n};\n\nexport default predictiveEngine;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\predictiveInsightEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[320,323],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[320,323],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[826,829],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[826,829],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { logPredictive } from '../logs/modeDeus_internal';\r\n\r\nexport type RiskLevel = 'safe' | 'alert' | 'critical';\r\n\r\nexport interface PredictiveInsight {\r\n  message: string;\r\n  predictiveScore: number;\r\n  riskLevel: RiskLevel;\r\n  suggestedActions: string[];\r\n  context: any;\r\n}\r\n\r\nfunction clampScore(value: number) {\r\n  return Math.max(0, Math.min(1, Number.isFinite(value) ? value : 0));\r\n}\r\n\r\nfunction evaluateRiskLevel(margem?: number, custo?: number, preco?: number): RiskLevel {\r\n  if (margem !== undefined && margem < 0) {return 'critical';}\r\n  if (margem !== undefined && margem < 10) {return 'alert';}\r\n  if (custo !== undefined && preco !== undefined && custo >= preco) {return 'critical';}\r\n  return 'safe';\r\n}\r\n\r\nexport function generatePredictiveInsight(context: any = {}): (PredictiveInsight & { id: string }) | null {\r\n  const margem = context?.margemLucro ?? context?.payload?.margemLucro;\r\n  const preco = context?.precoVenda ?? context?.payload?.precoVenda;\r\n  const custo = context?.custoProduto ?? context?.payload?.custoProduto;\r\n  const custosOper = context?.custoOperacional ?? context?.payload?.custoOperacional;\r\n  const taxasMarketplace = context?.taxasMarketplace ?? context?.payload?.taxasMarketplace;\r\n\r\n  const riskLevel = evaluateRiskLevel(margem, custo, preco);\r\n\r\n  const signals: string[] = [];\r\n  if (margem !== undefined) {\r\n    if (margem < 10) {signals.push('queda_margem_prevista');}\r\n    if (margem >= 25) {signals.push('margem_otima');}\r\n  }\r\n  if (custosOper && preco) {\r\n    const impacto = (custosOper / preco) * 100;\r\n    if (impacto > 30) {signals.push('aumento_custo_operacional');}\r\n  }\r\n  if (taxasMarketplace && taxasMarketplace > 20) {\r\n    signals.push('impacto_marketplace');\r\n  }\r\n  if (custo !== undefined && preco !== undefined && custo >= preco) {\r\n    signals.push('risco_prejuizo');\r\n  }\r\n\r\n  const predictiveScore = clampScore(0.3 + signals.length * 0.15);\r\n  const suggestedActions: string[] = [];\r\n\r\n  if (signals.includes('queda_margem_prevista')) {\r\n    suggestedActions.push('Ajustar pre├ºo para recompor margem');\r\n  }\r\n  if (signals.includes('aumento_custo_operacional')) {\r\n    suggestedActions.push('Negociar frete ou repassar custo');\r\n  }\r\n  if (signals.includes('risco_prejuizo')) {\r\n    suggestedActions.push('Rever custos ou aumentar pre├ºo imediatamente');\r\n  }\r\n  if (signals.includes('impacto_marketplace')) {\r\n    suggestedActions.push('Comparar marketplaces ou ajustar comiss├úo');\r\n  }\r\n  if (signals.includes('margem_otima')) {\r\n    suggestedActions.push('Explorar promo├º├úo controlada para ganho de volume');\r\n  }\r\n\r\n  if (signals.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const insight: PredictiveInsight & { id: string } = {\r\n    id: `predict-${Date.now()}-${Math.random()}`,\r\n    message: 'Insight preditivo gerado a partir do contexto atual.',\r\n    predictiveScore,\r\n    riskLevel,\r\n    suggestedActions,\r\n    context,\r\n  };\r\n\r\n  emitEvent(\r\n    'ai:predictive-insight',\r\n    {\r\n      ...insight,\r\n      type: 'forecast',\r\n    },\r\n    { source: 'predictiveInsightEngine', priority: 7 }\r\n  );\r\n\r\n  logPredictive(insight);\r\n\r\n  // Tamb├®m expor via canal padr├úo de insight para UI\r\n  emitEvent(\r\n    'insight:generated',\r\n    {\r\n      type: 'forecast',\r\n      severity: riskLevel === 'critical' ? 'critical' : riskLevel === 'alert' ? 'high' : 'low',\r\n      message: insight.message,\r\n      suggestion: suggestedActions[0],\r\n      values: { predictiveScore },\r\n      sourceModule: 'predictiveInsightEngine',\r\n      id: insight.id,\r\n    },\r\n    { source: 'predictiveInsightEngine', priority: 6 }\r\n  );\r\n\r\n  return insight;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\priceMonitoringAgent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":71,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1836,1839],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1836,1839],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":156,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":156,"endColumn":19,"suggestions":[{"fix":{"range":[4054,4118],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":162,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":162,"endColumn":16,"suggestions":[{"fix":{"range":[4224,4279],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":188,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":188,"endColumn":18,"suggestions":[{"fix":{"range":[4924,4985],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":204,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":204,"endColumn":16,"suggestions":[{"fix":{"range":[5409,5517],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":217,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":217,"endColumn":16,"suggestions":[{"fix":{"range":[5793,5850],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":227,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":227,"endColumn":18,"suggestions":[{"fix":{"range":[6040,6112],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":231,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":231,"endColumn":18,"suggestions":[{"fix":{"range":[6227,6306],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":234,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":234,"endColumn":20,"suggestions":[{"fix":{"range":[6351,6430],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":243,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":243,"endColumn":24,"suggestions":[{"fix":{"range":[6638,6721],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":253,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":253,"endColumn":18,"suggestions":[{"fix":{"range":[7000,7067],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":255,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":255,"endColumn":20,"suggestions":[{"fix":{"range":[7096,7170],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":268,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":268,"endColumn":20,"suggestions":[{"fix":{"range":[7492,7577],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":288,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":288,"endColumn":18,"suggestions":[{"fix":{"range":[8136,8205],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":290,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":290,"endColumn":20,"suggestions":[{"fix":{"range":[8234,8318],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":306,"column":19,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":306,"endColumn":30,"suggestions":[{"messageId":"suggestOptionalChain","fix":{"range":[8822,8823],"text":"?"},"desc":"Consider using the optional chain operator `?.` instead. This operator includes runtime checks, so it is safer than the compile-only non-null assertion operator."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":383,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":383,"endColumn":20,"suggestions":[{"fix":{"range":[11313,11379],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":447,"column":19,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":447,"endColumn":30,"suggestions":[{"messageId":"suggestOptionalChain","fix":{"range":[13345,13346],"text":"?"},"desc":"Consider using the optional chain operator `?.` instead. This operator includes runtime checks, so it is safer than the compile-only non-null assertion operator."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":471,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":471,"endColumn":20,"suggestions":[{"fix":{"range":[14204,14274],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":643,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":643,"endColumn":20,"suggestions":[{"fix":{"range":[20196,20263],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":688,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":688,"endColumn":20,"suggestions":[{"fix":{"range":[21576,21642],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":721,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":721,"endColumn":20,"suggestions":[{"fix":{"range":[22474,22542],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * =====================================================\n * AZURIA v2.0 - PRICE MONITORING AGENT ENGINE\n * =====================================================\n * Engine aut├┤nomo que monitora pre├ºos de concorrentes 24/7\n * \n * Funcionalidades:\n * - Scraping de marketplaces (ML, Shopee, Amazon, etc)\n * - Compara├º├úo com pre├ºos do usu├írio\n * - Gera├º├úo de alertas e sugest├Áes\n * - An├ílise de posicionamento de mercado\n * \n * @module priceMonitoringAgent\n * @created 13/12/2024\n * =====================================================\n */\n\nimport { GoogleGenerativeAI } from '@google/generative-ai';\nimport { supabase } from '@/lib/supabase';\n\n// =====================================================\n// TYPES\n// =====================================================\n\nexport interface MonitoredProduct {\n  id: string;\n  userId: string;\n  productName: string;\n  sku?: string;\n  ean?: string;\n  category?: string;\n  brand?: string;\n  currentPrice: number;\n  costPrice?: number;\n  targetMargin?: number;\n  minPrice?: number;\n  maxPrice?: number;\n  marketplaces: string[];\n  monitorEnabled: boolean;\n  checkInterval: number;\n  alertThreshold: number;\n  lastCheckedAt?: Date;\n}\n\nexport interface CompetitorPrice {\n  id: string;\n  monitoredProductId: string;\n  marketplace: string;\n  competitorName: string;\n  competitorUrl?: string;\n  price: number;\n  shippingCost: number;\n  totalPrice: number;\n  stockAvailable?: boolean;\n  rating?: number;\n  reviewsCount?: number;\n  sellerReputation?: string;\n  scrapedAt: Date;\n  isValid: boolean;\n}\n\nexport interface PriceSuggestion {\n  id: string;\n  monitoredProductId: string;\n  userId: string;\n  currentPrice: number;\n  suggestedPrice: number;\n  priceChange: number;\n  priceChangePercent: number;\n  reason: 'competitor_lower' | 'market_average' | 'margin_optimization';\n  analysis: Record<string, any>;\n  marketAvgPrice?: number;\n  lowestCompetitorPrice?: number;\n  highestCompetitorPrice?: number;\n  competitorsCount: number;\n  estimatedMargin?: number;\n  estimatedSalesImpact: 'increase' | 'decrease' | 'neutral';\n  confidenceScore: number;\n  status: 'pending' | 'applied' | 'rejected' | 'expired';\n  createdAt: Date;\n  expiresAt: Date;\n}\n\nexport interface PriceAlert {\n  id: string;\n  userId: string;\n  monitoredProductId: string;\n  alertType: 'competitor_lower' | 'margin_risk' | 'price_drop' | 'price_spike' | 'stock_out' | 'new_competitor';\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  title: string;\n  message: string;\n  actionRequired?: string;\n  isRead: boolean;\n  isDismissed: boolean;\n  createdAt: Date;\n  expiresAt: Date;\n}\n\nexport interface MonitoringStats {\n  isRunning: boolean;\n  productsMonitored: number;\n  lastCheckAt?: Date;\n  nextCheckAt?: Date;\n  competitorsPricesCollected: number;\n  alertsGenerated: number;\n  suggestionsCreated: number;\n  avgCheckDuration: number;\n}\n\nexport interface ScrapeResult {\n  success: boolean;\n  marketplace: string;\n  productName: string;\n  prices: CompetitorPrice[];\n  error?: string;\n}\n\nexport interface MarketAnalysis {\n  productId: string;\n  userPrice: number;\n  marketAvgPrice: number;\n  lowestPrice: number;\n  highestPrice: number;\n  competitorsCount: number;\n  pricePosition: 'lowest' | 'competitive' | 'average' | 'high' | 'highest';\n  priceAdvantage: number;\n  recommendation: string;\n  suggestedActions: string[];\n}\n\n// =====================================================\n// CLASSE PRINCIPAL\n// =====================================================\n\nclass PriceMonitoringAgentEngine {\n  private genAI: GoogleGenerativeAI | null = null;\n  private isInitialized = false;\n  private monitoringInterval: NodeJS.Timeout | null = null;\n  private isMonitoring = false;\n  private stats: MonitoringStats = {\n    isRunning: false,\n    productsMonitored: 0,\n    competitorsPricesCollected: 0,\n    alertsGenerated: 0,\n    suggestionsCreated: 0,\n    avgCheckDuration: 0,\n  };\n\n  /**\n   * Inicializa o engine com a API key do Gemini\n   */\n  initPriceMonitoring(): void {\n    const apiKey = import.meta.env.VITE_GEMINI_API_KEY;\n    \n    if (!apiKey) {\n      console.warn('[PriceMonitoring] Gemini API key n├úo encontrada');\n      return;\n    }\n\n    this.genAI = new GoogleGenerativeAI(apiKey);\n    this.isInitialized = true;\n    console.log('[PriceMonitoring] Ô£à Engine inicializado');\n  }\n\n  /**\n   * Verifica se o engine est├í inicializado\n   */\n  private checkInitialized(): void {\n    if (!this.isInitialized || !this.genAI) {\n      throw new Error('PriceMonitoring engine n├úo inicializado. Chame initPriceMonitoring() primeiro.');\n    }\n  }\n\n  // =====================================================\n  // MONITORAMENTO AUTOM├üTICO\n  // =====================================================\n\n  /**\n   * Inicia o monitoramento autom├ítico de pre├ºos\n   */\n  async startMonitoring(options?: {\n    intervalMinutes?: number;\n    userId?: string;\n  }): Promise<void> {\n    this.checkInitialized();\n\n    if (this.isMonitoring) {\n      console.log('[PriceMonitoring] Monitoramento j├í est├í ativo');\n      return;\n    }\n\n    const intervalMs = (options?.intervalMinutes || 60) * 60 * 1000;\n\n    // Executar primeira checagem imediatamente\n    await this.runMonitoringCycle(options?.userId);\n\n    // Agendar checagens futuras\n    this.monitoringInterval = setInterval(async () => {\n      await this.runMonitoringCycle(options?.userId);\n    }, intervalMs);\n\n    this.isMonitoring = true;\n    this.stats.isRunning = true;\n    console.log(`[PriceMonitoring] Ô£à Monitoramento iniciado (intervalo: ${options?.intervalMinutes || 60}min)`);\n  }\n\n  /**\n   * Para o monitoramento autom├ítico\n   */\n  stopMonitoring(): void {\n    if (this.monitoringInterval) {\n      clearInterval(this.monitoringInterval);\n      this.monitoringInterval = null;\n    }\n    this.isMonitoring = false;\n    this.stats.isRunning = false;\n    console.log('[PriceMonitoring] ÔÅ╣´©Å Monitoramento parado');\n  }\n\n  /**\n   * Executa um ciclo completo de monitoramento\n   */\n  private async runMonitoringCycle(userId?: string): Promise<void> {\n    const startTime = Date.now();\n    \n    try {\n      console.log('[PriceMonitoring] ­ƒöä Iniciando ciclo de monitoramento...');\n\n      // 1. Buscar produtos para monitorar\n      const products = await this.getProductsToMonitor(userId);\n      console.log(`[PriceMonitoring] ­ƒôª ${products.length} produtos para monitorar`);\n\n      if (products.length === 0) {\n        console.log('[PriceMonitoring] Nenhum produto configurado para monitoramento');\n        return;\n      }\n\n      // 2. Para cada produto, coletar pre├ºos\n      for (const product of products) {\n        try {\n          await this.monitorProduct(product);\n        } catch (error) {\n          console.error(`[PriceMonitoring] Erro ao monitorar produto ${product.id}:`, error);\n        }\n      }\n\n      // 3. Atualizar estat├¡sticas\n      const duration = Date.now() - startTime;\n      this.stats.avgCheckDuration = duration;\n      this.stats.lastCheckAt = new Date();\n      this.stats.nextCheckAt = new Date(Date.now() + 60 * 60 * 1000); // +1 hora\n\n      console.log(`[PriceMonitoring] Ô£à Ciclo completo em ${duration}ms`);\n    } catch (error) {\n      console.error('[PriceMonitoring] Erro no ciclo de monitoramento:', error);\n    }\n  }\n\n  /**\n   * Monitora um produto espec├¡fico\n   */\n  private async monitorProduct(product: MonitoredProduct): Promise<void> {\n    try {\n      // 1. Coletar pre├ºos de concorrentes\n      const competitorPrices = await this.collectCompetitorPrices(product);\n      \n      if (competitorPrices.length === 0) {\n        console.log(`[PriceMonitoring] Nenhum pre├ºo encontrado para ${product.productName}`);\n        return;\n      }\n\n      // 2. Analisar mercado\n      const analysis = await this.analyzeMarket(product, competitorPrices);\n\n      // 3. Gerar alertas se necess├írio\n      await this.generateAlerts(product, analysis);\n\n      // 4. Gerar sugest├Áes se necess├írio\n      await this.generateSuggestions(product, analysis);\n\n      // 5. Atualizar last_checked_at\n      await supabase\n        .from('monitored_products')\n        .update({ last_checked_at: new Date().toISOString() })\n        .eq('id', product.id);\n\n      this.stats.productsMonitored++;\n      console.log(`[PriceMonitoring] Ô£à ${product.productName} monitorado`);\n    } catch (error) {\n      console.error(`[PriceMonitoring] Erro ao monitorar ${product.productName}:`, error);\n    }\n  }\n\n  // =====================================================\n  // COLETA DE PRE├çOS (SCRAPING)\n  // =====================================================\n\n  /**\n   * Coleta pre├ºos de concorrentes para um produto\n   * NOTA: Implementa├º├úo simplificada usando Gemini AI para simular\n   * Em produ├º├úo, usar APIs oficiais ou scraping real\n   */\n  private async collectCompetitorPrices(product: MonitoredProduct): Promise<CompetitorPrice[]> {\n    this.checkInitialized();\n\n    const model = this.genAI!.getGenerativeModel({ model: 'gemini-1.5-flash' });\n\n    try {\n      // Usar Gemini para simular busca de pre├ºos (em produ├º├úo, usar scraping real)\n      const prompt = `\nVoc├¬ ├® um assistente de an├ílise de mercado. Gere dados REALISTAS de pre├ºos de concorrentes para o seguinte produto:\n\nProduto: ${product.productName}\nPre├ºo Atual: R$ ${product.currentPrice.toFixed(2)}\nCategoria: ${product.category || 'Geral'}\n\nGere 3-5 pre├ºos de concorrentes em diferentes marketplaces (Mercado Livre, Shopee, Amazon, Magazine Luiza).\nOs pre├ºos devem variar entre -15% e +20% do pre├ºo atual.\n\nRetorne APENAS um JSON array no formato:\n[\n  {\n    \"marketplace\": \"mercadolivre\",\n    \"competitorName\": \"Loja XYZ\",\n    \"price\": 95.00,\n    \"shippingCost\": 10.00,\n    \"rating\": 4.5,\n    \"reviewsCount\": 120\n  }\n]\n      `.trim();\n\n      const result = await model.generateContent(prompt);\n      const text = result.response.text().trim();\n      \n      // Extrair JSON da resposta\n      const jsonMatch = text.match(/\\[[\\s\\S]*\\]/);\n      if (!jsonMatch) {\n        throw new Error('Resposta n├úo cont├®m JSON v├ílido');\n      }\n\n      const competitorsData = JSON.parse(jsonMatch[0]);\n\n      // Salvar pre├ºos no banco\n      const competitorPrices: CompetitorPrice[] = [];\n      \n      for (const data of competitorsData) {\n        const { data: saved, error } = await supabase\n          .from('competitor_prices')\n          .insert({\n            monitored_product_id: product.id,\n            marketplace: data.marketplace,\n            competitor_name: data.competitorName,\n            price: data.price,\n            shipping_cost: data.shippingCost || 0,\n            rating: data.rating,\n            reviews_count: data.reviewsCount,\n            is_valid: true,\n          })\n          .select()\n          .single();\n\n        if (!error && saved) {\n          competitorPrices.push({\n            id: saved.id,\n            monitoredProductId: product.id,\n            marketplace: saved.marketplace,\n            competitorName: saved.competitor_name,\n            price: saved.price,\n            shippingCost: saved.shipping_cost,\n            totalPrice: saved.price + saved.shipping_cost,\n            rating: saved.rating,\n            reviewsCount: saved.reviews_count,\n            scrapedAt: new Date(saved.scraped_at),\n            isValid: saved.is_valid,\n          });\n        }\n      }\n\n      this.stats.competitorsPricesCollected += competitorPrices.length;\n      return competitorPrices;\n    } catch (error) {\n      console.error('[PriceMonitoring] Erro ao coletar pre├ºos:', error);\n      return [];\n    }\n  }\n\n  // =====================================================\n  // AN├üLISE DE MERCADO\n  // =====================================================\n\n  /**\n   * Analisa posi├º├úo do produto no mercado\n   */\n  private async analyzeMarket(\n    product: MonitoredProduct,\n    competitorPrices: CompetitorPrice[]\n  ): Promise<MarketAnalysis> {\n    const prices = competitorPrices.map(cp => cp.totalPrice);\n    \n    const marketAvgPrice = prices.reduce((sum, p) => sum + p, 0) / prices.length;\n    const lowestPrice = Math.min(...prices);\n    const highestPrice = Math.max(...prices);\n\n    // Calcular posi├º├úo\n    let pricePosition: MarketAnalysis['pricePosition'] = 'average';\n    if (product.currentPrice <= lowestPrice) {pricePosition = 'lowest';}\n    else if (product.currentPrice <= marketAvgPrice * 0.95) {pricePosition = 'competitive';}\n    else if (product.currentPrice <= marketAvgPrice * 1.05) {pricePosition = 'average';}\n    else if (product.currentPrice < highestPrice) {pricePosition = 'high';}\n    else {pricePosition = 'highest';}\n\n    const priceAdvantage = ((marketAvgPrice - product.currentPrice) / marketAvgPrice) * 100;\n\n    // Gerar recomenda├º├úo usando IA\n    const recommendation = await this.generateRecommendation(product, {\n      marketAvgPrice,\n      lowestPrice,\n      highestPrice,\n      pricePosition,\n      priceAdvantage,\n    });\n\n    return {\n      productId: product.id,\n      userPrice: product.currentPrice,\n      marketAvgPrice,\n      lowestPrice,\n      highestPrice,\n      competitorsCount: competitorPrices.length,\n      pricePosition,\n      priceAdvantage,\n      recommendation,\n      suggestedActions: this.getSuggestedActions(pricePosition, priceAdvantage),\n    };\n  }\n\n  /**\n   * Gera recomenda├º├úo usando Gemini\n   */\n  private async generateRecommendation(\n    product: MonitoredProduct,\n    analysis: Partial<MarketAnalysis>\n  ): Promise<string> {\n    this.checkInitialized();\n\n    const model = this.genAI!.getGenerativeModel({ model: 'gemini-1.5-flash' });\n\n    const prompt = `\nVoc├¬ ├® um especialista em precifica├º├úo estrat├®gica. Analise a situa├º├úo e d├¬ uma recomenda├º├úo concisa (m├íx 100 palavras):\n\nProduto: ${product.productName}\nPre├ºo Atual: R$ ${product.currentPrice.toFixed(2)}\nCusto: R$ ${product.costPrice?.toFixed(2) || 'N/A'}\nMargem Alvo: ${product.targetMargin}%\n\nAn├ílise de Mercado:\n- M├®dia do Mercado: R$ ${analysis.marketAvgPrice?.toFixed(2)}\n- Menor Pre├ºo: R$ ${analysis.lowestPrice?.toFixed(2)}\n- Maior Pre├ºo: R$ ${analysis.highestPrice?.toFixed(2)}\n- Posi├º├úo: ${analysis.pricePosition}\n- Vantagem: ${analysis.priceAdvantage?.toFixed(1)}%\n\nRecomende uma a├º├úo estrat├®gica clara e justificada.\n    `.trim();\n\n    try {\n      const result = await model.generateContent(prompt);\n      return result.response.text().trim();\n    } catch (error) {\n      console.error('[PriceMonitoring] Erro ao gerar recomenda├º├úo:', error);\n      return 'N├úo foi poss├¡vel gerar recomenda├º├úo no momento.';\n    }\n  }\n\n  /**\n   * Retorna a├º├Áes sugeridas baseado na an├ílise\n   */\n  private getSuggestedActions(\n    position: MarketAnalysis['pricePosition'],\n    advantage: number\n  ): string[] {\n    const actions: string[] = [];\n\n    if (position === 'highest') {\n      actions.push('­ƒö╗ Considere reduzir o pre├ºo para se manter competitivo');\n      actions.push('­ƒôè Analise se a margem atual justifica a posi├º├úo premium');\n    } else if (position === 'high') {\n      actions.push('ÔÜá´©Å Seu pre├ºo est├í acima da m├®dia do mercado');\n      if (advantage < -10) {\n        actions.push('­ƒôë Recomendamos ajuste de -5% a -10%');\n      }\n    } else if (position === 'competitive' || position === 'lowest') {\n      actions.push('Ô£à Pre├ºo competitivo mantido');\n      actions.push('­ƒôê Considere testar pequenos aumentos (+2-5%)');\n    }\n\n    return actions;\n  }\n\n  // =====================================================\n  // ALERTAS E SUGEST├òES\n  // =====================================================\n\n  /**\n   * Gera alertas baseado na an├ílise\n   */\n  private async generateAlerts(\n    product: MonitoredProduct,\n    analysis: MarketAnalysis\n  ): Promise<void> {\n    const alerts: Partial<PriceAlert>[] = [];\n\n    // Alerta: Concorrente mais barato\n    if (analysis.lowestPrice < product.currentPrice * 0.95) {\n      alerts.push({\n        userId: product.userId,\n        monitoredProductId: product.id,\n        alertType: 'competitor_lower',\n        severity: 'high',\n        title: `Concorrente com pre├ºo ${((1 - analysis.lowestPrice / product.currentPrice) * 100).toFixed(0)}% menor`,\n        message: `O produto \"${product.productName}\" tem concorrentes vendendo por R$ ${analysis.lowestPrice.toFixed(2)}, enquanto seu pre├ºo ├® R$ ${product.currentPrice.toFixed(2)}.`,\n        actionRequired: 'Considere ajustar seu pre├ºo para manter competitividade',\n      });\n    }\n\n    // Alerta: Risco de margem\n    if (product.costPrice && product.minPrice) {\n      const currentMargin = ((product.currentPrice - product.costPrice) / product.currentPrice) * 100;\n      const minMargin = ((product.minPrice - product.costPrice) / product.minPrice) * 100;\n      \n      if (currentMargin < minMargin + 5) {\n        alerts.push({\n          userId: product.userId,\n          monitoredProductId: product.id,\n          alertType: 'margin_risk',\n          severity: 'critical',\n          title: 'Margem abaixo do limite',\n          message: `A margem atual de ${currentMargin.toFixed(1)}% est├í pr├│xima do m├¡nimo de ${minMargin.toFixed(1)}%.`,\n          actionRequired: 'Revise seus custos ou ajuste o pre├ºo m├¡nimo',\n        });\n      }\n    }\n\n    // Salvar alertas no banco\n    for (const alertData of alerts) {\n      await supabase.from('price_alerts').insert(alertData);\n      this.stats.alertsGenerated++;\n    }\n  }\n\n  /**\n   * Gera sugest├Áes de ajuste de pre├ºo\n   */\n  private async generateSuggestions(\n    product: MonitoredProduct,\n    analysis: MarketAnalysis\n  ): Promise<void> {\n    // S├│ gera sugest├úo se houver diferen├ºa significativa\n    const threshold = product.alertThreshold || 5;\n    const priceDiff = Math.abs(analysis.priceAdvantage);\n\n    if (priceDiff < threshold) {\n      return; // Diferen├ºa insignificante\n    }\n\n    let suggestedPrice = product.currentPrice;\n    let reason: PriceSuggestion['reason'] = 'market_average';\n\n    if (analysis.pricePosition === 'highest' || analysis.pricePosition === 'high') {\n      // Sugerir redu├º├úo\n      suggestedPrice = analysis.marketAvgPrice * 0.95; // 5% abaixo da m├®dia\n      reason = 'competitor_lower';\n    } else if (analysis.pricePosition === 'lowest') {\n      // Sugerir aumento\n      suggestedPrice = Math.min(analysis.marketAvgPrice, product.maxPrice || Infinity);\n      reason = 'margin_optimization';\n    }\n\n    // Garantir que est├í dentro dos limites\n    if (product.minPrice) {suggestedPrice = Math.max(suggestedPrice, product.minPrice);}\n    if (product.maxPrice) {suggestedPrice = Math.min(suggestedPrice, product.maxPrice);}\n\n    const priceChange = suggestedPrice - product.currentPrice;\n    const priceChangePercent = (priceChange / product.currentPrice) * 100;\n\n    // Calcular margem estimada\n    let estimatedMargin: number | undefined;\n    if (product.costPrice) {\n      estimatedMargin = ((suggestedPrice - product.costPrice) / suggestedPrice) * 100;\n    }\n\n    // Salvar sugest├úo\n    const { error } = await supabase.from('price_suggestions').insert({\n      monitored_product_id: product.id,\n      user_id: product.userId,\n      current_price: product.currentPrice,\n      suggested_price: suggestedPrice,\n      price_change_percent: priceChangePercent,\n      reason,\n      analysis: {\n        marketAvgPrice: analysis.marketAvgPrice,\n        lowestPrice: analysis.lowestPrice,\n        highestPrice: analysis.highestPrice,\n        pricePosition: analysis.pricePosition,\n        recommendation: analysis.recommendation,\n      },\n      market_avg_price: analysis.marketAvgPrice,\n      lowest_competitor_price: analysis.lowestPrice,\n      highest_competitor_price: analysis.highestPrice,\n      competitors_count: analysis.competitorsCount,\n      estimated_margin: estimatedMargin,\n      estimated_sales_impact: priceChange < 0 ? 'increase' : 'decrease',\n      confidence_score: 0.75,\n      status: 'pending',\n    });\n\n    if (!error) {\n      this.stats.suggestionsCreated++;\n    }\n  }\n\n  // =====================================================\n  // QUERIES P├ÜBLICAS\n  // =====================================================\n\n  /**\n   * Busca produtos para monitorar\n   */\n  private async getProductsToMonitor(userId?: string): Promise<MonitoredProduct[]> {\n    let query = supabase\n      .from('monitored_products')\n      .select('*')\n      .eq('monitor_enabled', true);\n\n    if (userId) {\n      query = query.eq('user_id', userId);\n    }\n\n    const { data, error } = await query;\n\n    if (error) {\n      console.error('[PriceMonitoring] Erro ao buscar produtos:', error);\n      return [];\n    }\n\n    return (data || []).map(p => ({\n      id: p.id,\n      userId: p.user_id,\n      productName: p.product_name,\n      sku: p.sku,\n      ean: p.ean,\n      category: p.category,\n      brand: p.brand,\n      currentPrice: parseFloat(p.current_price),\n      costPrice: p.cost_price ? parseFloat(p.cost_price) : undefined,\n      targetMargin: p.target_margin ? parseFloat(p.target_margin) : undefined,\n      minPrice: p.min_price ? parseFloat(p.min_price) : undefined,\n      maxPrice: p.max_price ? parseFloat(p.max_price) : undefined,\n      marketplaces: p.marketplaces || [],\n      monitorEnabled: p.monitor_enabled,\n      checkInterval: p.check_interval,\n      alertThreshold: parseFloat(p.alert_threshold),\n      lastCheckedAt: p.last_checked_at ? new Date(p.last_checked_at) : undefined,\n    }));\n  }\n\n  /**\n   * Retorna estat├¡sticas do monitoramento\n   */\n  getMonitoringStats(): MonitoringStats {\n    return { ...this.stats };\n  }\n\n  /**\n   * Busca alertas n├úo lidos do usu├írio\n   */\n  async getUnreadAlerts(userId: string): Promise<PriceAlert[]> {\n    const { data, error } = await supabase\n      .from('price_alerts')\n      .select('*')\n      .eq('user_id', userId)\n      .eq('is_read', false)\n      .order('created_at', { ascending: false })\n      .limit(20);\n\n    if (error) {\n      console.error('[PriceMonitoring] Erro ao buscar alertas:', error);\n      return [];\n    }\n\n    return (data || []).map(a => ({\n      id: a.id,\n      userId: a.user_id,\n      monitoredProductId: a.monitored_product_id,\n      alertType: a.alert_type,\n      severity: a.severity,\n      title: a.title,\n      message: a.message,\n      actionRequired: a.action_required,\n      isRead: a.is_read,\n      isDismissed: a.is_dismissed,\n      createdAt: new Date(a.created_at),\n      expiresAt: new Date(a.expires_at),\n    }));\n  }\n\n  /**\n   * Busca sugest├Áes pendentes do usu├írio\n   */\n  async getPendingSuggestions(userId: string): Promise<PriceSuggestion[]> {\n    const { data, error } = await supabase\n      .from('price_suggestions')\n      .select('*')\n      .eq('user_id', userId)\n      .eq('status', 'pending')\n      .order('created_at', { ascending: false })\n      .limit(10);\n\n    if (error) {\n      console.error('[PriceMonitoring] Erro ao buscar sugest├Áes:', error);\n      return [];\n    }\n\n    return (data || []).map(s => ({\n      id: s.id,\n      monitoredProductId: s.monitored_product_id,\n      userId: s.user_id,\n      currentPrice: parseFloat(s.current_price),\n      suggestedPrice: parseFloat(s.suggested_price),\n      priceChange: parseFloat(s.price_change),\n      priceChangePercent: parseFloat(s.price_change_percent),\n      reason: s.reason,\n      analysis: s.analysis,\n      marketAvgPrice: s.market_avg_price ? parseFloat(s.market_avg_price) : undefined,\n      lowestCompetitorPrice: s.lowest_competitor_price ? parseFloat(s.lowest_competitor_price) : undefined,\n      highestCompetitorPrice: s.highest_competitor_price ? parseFloat(s.highest_competitor_price) : undefined,\n      competitorsCount: s.competitors_count,\n      estimatedMargin: s.estimated_margin ? parseFloat(s.estimated_margin) : undefined,\n      estimatedSalesImpact: s.estimated_sales_impact,\n      confidenceScore: parseFloat(s.confidence_score),\n      status: s.status,\n      createdAt: new Date(s.created_at),\n      expiresAt: new Date(s.expires_at),\n    }));\n  }\n\n  /**\n   * Marca alerta como lido\n   */\n  async markAlertAsRead(alertId: string): Promise<void> {\n    await supabase\n      .from('price_alerts')\n      .update({ is_read: true, read_at: new Date().toISOString() })\n      .eq('id', alertId);\n  }\n\n  /**\n   * Aplica sugest├úo de pre├ºo\n   */\n  async applySuggestion(suggestionId: string): Promise<void> {\n    await supabase\n      .from('price_suggestions')\n      .update({ status: 'applied', applied_at: new Date().toISOString() })\n      .eq('id', suggestionId);\n  }\n\n  /**\n   * Rejeita sugest├úo de pre├ºo\n   */\n  async rejectSuggestion(suggestionId: string): Promise<void> {\n    await supabase\n      .from('price_suggestions')\n      .update({ status: 'rejected' })\n      .eq('id', suggestionId);\n  }\n}\n\n// =====================================================\n// SINGLETON EXPORT\n// =====================================================\n\nconst priceMonitoringAgent = new PriceMonitoringAgentEngine();\nexport default priceMonitoringAgent;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\proactiveAssistant.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":175,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":175,"endColumn":14,"suggestions":[{"fix":{"range":[4464,4620],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":330,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":330,"endColumn":19,"suggestions":[{"fix":{"range":[9010,9085],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":603,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":603,"endColumn":26},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":631,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":631,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * ProactiveAssistant - Assistente Proativo Inteligente\n * Modo Deus - Fase 5: NLP e Predi├º├úo\n *\n * Responsabilidades:\n * - Orquestrar sugest├Áes proativas no momento certo\n * - Combinar insights de m├║ltiplos engines\n * - Priorizar e filtrar sugest├Áes\n * - Gerenciar ciclo de vida de assist├¬ncia\n * - Adaptar comportamento ao contexto\n *\n * @module azuria_ai/engines/proactiveAssistant\n */\n\nimport { eventBus } from '../events/eventBus';\nimport type { UserSuggestion } from '../types/operational';\nimport { personalization } from './personalizationEngine';\nimport { predictiveEngine } from './predictiveEngine';\nimport { feedbackLoop } from './feedbackLoopEngine';\nimport { nlpProcessor } from './nlpProcessorEngine';\nimport { explanationEngine } from './explanationEngine';\nimport { tutorialEngine } from './tutorialEngine';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Tipo de assist├¬ncia proativa\n */\nexport type AssistanceType =\n  | 'suggestion' // Sugest├úo contextual\n  | 'tip' // Dica r├ípida\n  | 'warning' // Alerta preventivo\n  | 'tutorial' // Oferta de tutorial\n  | 'shortcut' // Atalho inteligente\n  | 'explanation' // Explica├º├úo espont├ónea\n  | 'encouragement' // Incentivo/gamifica├º├úo\n  | 'recovery'; // Recupera├º├úo de erro/abandono\n\n/**\n * Item de assist├¬ncia proativa\n */\nexport interface ProactiveAssistance {\n  id: string;\n  type: AssistanceType;\n  priority: number; // 0-100\n  title: string;\n  message: string;\n  action?: {\n    label: string;\n    handler: string; // Action identifier\n    params?: Record<string, unknown>;\n  };\n  dismissable: boolean;\n  expiresAt?: Date;\n  context: {\n    screen: string;\n    trigger: string;\n    reasoning: string;\n  };\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Configura├º├úo do assistente\n */\nexport interface ProactiveConfig {\n  enabled: boolean;\n  maxActiveAssistances: number;\n  minTimeBetweenAssistances: number; // ms\n  enabledTypes: AssistanceType[];\n  quietHours?: { start: number; end: number }; // 24h format\n  aggressiveness: 'passive' | 'balanced' | 'proactive';\n}\n\n/**\n * Trigger para assist├¬ncia\n */\nexport interface AssistanceTrigger {\n  type: string;\n  condition: (context: TriggerContext) => boolean;\n  generator: (context: TriggerContext) => ProactiveAssistance | null;\n  cooldown: number; // ms\n  priority: number;\n}\n\n/**\n * Contexto para avalia├º├úo de triggers\n */\nexport interface TriggerContext {\n  currentScreen: string;\n  sessionDuration: number;\n  idleTime: number;\n  errorCount: number;\n  lastAction: string;\n  userSkillLevel: string;\n  recentActions: string[];\n  abandonmentRisk: number;\n  timeOfDay: string;\n}\n\n// =============================================================================\n// STATE\n// =============================================================================\n\ninterface ProactiveState {\n  initialized: boolean;\n  config: ProactiveConfig;\n  activeAssistances: Map<string, ProactiveAssistance>;\n  triggers: AssistanceTrigger[];\n  triggerCooldowns: Map<string, number>; // trigger type -> last fired timestamp\n  lastAssistanceTime: number;\n  suppressedUntil: number;\n  stats: {\n    generated: number;\n    shown: number;\n    dismissed: number;\n    actedUpon: number;\n  };\n}\n\nconst defaultConfig: ProactiveConfig = {\n  enabled: true,\n  maxActiveAssistances: 3,\n  minTimeBetweenAssistances: 30000, // 30s\n  enabledTypes: [\n    'suggestion',\n    'tip',\n    'warning',\n    'tutorial',\n    'shortcut',\n    'explanation',\n    'encouragement',\n    'recovery',\n  ],\n  aggressiveness: 'balanced',\n};\n\nconst state: ProactiveState = {\n  initialized: false,\n  config: { ...defaultConfig },\n  activeAssistances: new Map(),\n  triggers: [],\n  triggerCooldowns: new Map(),\n  lastAssistanceTime: 0,\n  suppressedUntil: 0,\n  stats: { generated: 0, shown: 0, dismissed: 0, actedUpon: 0 },\n};\n\n// =============================================================================\n// INITIALIZATION\n// =============================================================================\n\n/**\n * Inicializa o ProactiveAssistant\n */\nexport function initProactiveAssistant(\n  config?: Partial<ProactiveConfig>\n): void {\n  if (state.initialized) {return;}\n\n  if (config) {\n    Object.assign(state.config, config);\n  }\n\n  // Register default triggers\n  registerDefaultTriggers();\n\n  // Setup event listeners\n  setupEventListeners();\n\n  state.initialized = true;\n\n  console.log('[ProactiveAssistant] Initialized', {\n    aggressiveness: state.config.aggressiveness,\n    enabledTypes: state.config.enabledTypes.length,\n  });\n}\n\n/**\n * Registra triggers padr├úo\n */\nfunction registerDefaultTriggers(): void {\n  // Idle user trigger\n  registerTrigger({\n    type: 'idle_user',\n    condition: (ctx) => ctx.idleTime > 60000 && ctx.sessionDuration > 30000,\n    generator: (ctx) => generateIdleAssistance(ctx),\n    cooldown: 120000, // 2 min\n    priority: 60,\n  });\n\n  // Error recovery trigger\n  registerTrigger({\n    type: 'error_recovery',\n    condition: (ctx) => ctx.errorCount >= 2,\n    generator: (ctx) => generateErrorRecoveryAssistance(ctx),\n    cooldown: 60000, // 1 min\n    priority: 80,\n  });\n\n  // Abandonment prevention trigger\n  registerTrigger({\n    type: 'abandonment_prevention',\n    condition: (ctx) => ctx.abandonmentRisk >= 50,\n    generator: (ctx) => generateAbandonmentPreventionAssistance(ctx),\n    cooldown: 180000, // 3 min\n    priority: 90,\n  });\n\n  // New user tutorial trigger\n  registerTrigger({\n    type: 'new_user_tutorial',\n    condition: (ctx) =>\n      ctx.userSkillLevel === 'beginner' &&\n      ctx.sessionDuration < 60000 &&\n      ctx.recentActions.length < 3,\n    generator: () => generateTutorialOffer(),\n    cooldown: 300000, // 5 min\n    priority: 70,\n  });\n\n  // Shortcut suggestion trigger\n  registerTrigger({\n    type: 'shortcut_suggestion',\n    condition: (ctx) => ctx.recentActions.length >= 5,\n    generator: () => generateShortcutSuggestion(),\n    cooldown: 180000, // 3 min\n    priority: 40,\n  });\n\n  // Concept explanation trigger\n  registerTrigger({\n    type: 'concept_explanation',\n    condition: (ctx) =>\n      ctx.userSkillLevel !== 'expert' &&\n      (ctx.currentScreen.includes('calculator') || ctx.currentScreen.includes('bdi')),\n    generator: (ctx) => generateConceptExplanation(ctx),\n    cooldown: 300000, // 5 min\n    priority: 30,\n  });\n\n  // Encouragement trigger\n  registerTrigger({\n    type: 'encouragement',\n    condition: (ctx) =>\n      ctx.sessionDuration > 300000 && // 5 min session\n      ctx.errorCount === 0,\n    generator: () => generateEncouragement(),\n    cooldown: 600000, // 10 min\n    priority: 20,\n  });\n}\n\n// =============================================================================\n// TRIGGER MANAGEMENT\n// =============================================================================\n\n/**\n * Registra novo trigger\n */\nexport function registerTrigger(trigger: AssistanceTrigger): void {\n  // Remove existing trigger of same type\n  state.triggers = state.triggers.filter((t) => t.type !== trigger.type);\n  state.triggers.push(trigger);\n\n  // Sort by priority\n  state.triggers.sort((a, b) => b.priority - a.priority);\n}\n\n/**\n * Remove trigger\n */\nexport function unregisterTrigger(type: string): void {\n  state.triggers = state.triggers.filter((t) => t.type !== type);\n}\n\n/**\n * Avalia todos os triggers\n */\nexport function evaluateTriggers(context: TriggerContext): ProactiveAssistance[] {\n  if (!state.config.enabled) {return [];}\n  if (Date.now() < state.suppressedUntil) {return [];}\n\n  const now = Date.now();\n  const assistances: ProactiveAssistance[] = [];\n\n  // Check quiet hours\n  if (isQuietHours()) {return [];}\n\n  // Check minimum time between assistances\n  if (now - state.lastAssistanceTime < state.config.minTimeBetweenAssistances) {\n    return [];\n  }\n\n  // Evaluate triggers in priority order\n  for (const trigger of state.triggers) {\n    // Check cooldown\n    const lastFired = state.triggerCooldowns.get(trigger.type) ?? 0;\n    if (now - lastFired < trigger.cooldown) {continue;}\n\n    // Check condition\n    try {\n      if (!trigger.condition(context)) {continue;}\n\n      // Generate assistance\n      const assistance = trigger.generator(context);\n      if (assistance) {\n        // Check if type is enabled\n        if (!state.config.enabledTypes.includes(assistance.type)) {continue;}\n\n        // Check personalization\n        const { show } = personalization.shouldShowProactiveSuggestion({\n          currentScreen: context.currentScreen,\n          timeOfDay: context.timeOfDay,\n          userActivityState: context.idleTime > 30000 ? 'idle' : 'active',\n        });\n\n        if (!show && state.config.aggressiveness !== 'proactive') {continue;}\n\n        assistances.push(assistance);\n        state.triggerCooldowns.set(trigger.type, now);\n        state.stats.generated++;\n\n        // Stop if we have enough\n        if (assistances.length >= state.config.maxActiveAssistances) {break;}\n      }\n    } catch (error) {\n      console.warn(`[ProactiveAssistant] Trigger ${trigger.type} error:`, error);\n    }\n  }\n\n  return assistances;\n}\n\n// =============================================================================\n// ASSISTANCE GENERATORS\n// =============================================================================\n\nfunction generateIdleAssistance(ctx: TriggerContext): ProactiveAssistance {\n  const messages = [\n    'Precisa de ajuda? Estou aqui para auxiliar.',\n    'Notei que voc├¬ parou. Posso ajudar com algo?',\n    'Quer uma dica sobre o que fazer a seguir?',\n  ];\n\n  return {\n    id: `idle-${Date.now()}`,\n    type: 'tip',\n    priority: 60,\n    title: 'Precisa de ajuda?',\n    message: messages[Math.floor(Math.random() * messages.length)],\n    action: {\n      label: 'Ver sugest├Áes',\n      handler: 'show_suggestions',\n    },\n    dismissable: true,\n    context: {\n      screen: ctx.currentScreen,\n      trigger: 'idle_user',\n      reasoning: `Usu├írio inativo por ${Math.round(ctx.idleTime / 1000)}s`,\n    },\n  };\n}\n\nfunction generateErrorRecoveryAssistance(\n  ctx: TriggerContext\n): ProactiveAssistance {\n  return {\n    id: `error-recovery-${Date.now()}`,\n    type: 'recovery',\n    priority: 80,\n    title: 'Encontrou dificuldades?',\n    message: `Notei ${ctx.errorCount} erros. Posso ajudar a resolver ou mostrar um exemplo pr├ítico.`,\n    action: {\n      label: 'Ver exemplo',\n      handler: 'show_example',\n      params: { screen: ctx.currentScreen },\n    },\n    dismissable: true,\n    context: {\n      screen: ctx.currentScreen,\n      trigger: 'error_recovery',\n      reasoning: `${ctx.errorCount} erros detectados na sess├úo`,\n    },\n  };\n}\n\nfunction generateAbandonmentPreventionAssistance(\n  ctx: TriggerContext\n): ProactiveAssistance {\n  const risk = ctx.abandonmentRisk;\n\n  let message: string;\n  let actionLabel: string;\n  let handler: string;\n\n  if (risk >= 70) {\n    message = 'Parece que algo n├úo est├í funcionando. Posso ajudar?';\n    actionLabel = 'Sim, preciso de ajuda';\n    handler = 'open_help';\n  } else {\n    message = 'Quer um atalho para completar sua tarefa mais r├ípido?';\n    actionLabel = 'Ver atalhos';\n    handler = 'show_shortcuts';\n  }\n\n  return {\n    id: `abandonment-${Date.now()}`,\n    type: 'recovery',\n    priority: 90,\n    title: 'Posso ajudar?',\n    message,\n    action: {\n      label: actionLabel,\n      handler,\n    },\n    dismissable: true,\n    context: {\n      screen: ctx.currentScreen,\n      trigger: 'abandonment_prevention',\n      reasoning: `Risco de abandono: ${risk}%`,\n    },\n  };\n}\n\nfunction generateTutorialOffer(): ProactiveAssistance {\n  const suggestions = tutorialEngine.suggestTutorials(\n    'beginner',\n    'home'\n  );\n\n  const tutorial = suggestions[0]?.id ?? 'getting_started';\n\n  return {\n    id: `tutorial-offer-${Date.now()}`,\n    type: 'tutorial',\n    priority: 70,\n    title: 'Bem-vindo! ­ƒæï',\n    message: 'Quer fazer um tour r├ípido para conhecer as principais funcionalidades?',\n    action: {\n      label: 'Iniciar tour',\n      handler: 'start_tutorial',\n      params: { tutorialId: tutorial },\n    },\n    dismissable: true,\n    expiresAt: new Date(Date.now() + 300000), // 5 min\n    context: {\n      screen: 'home',\n      trigger: 'new_user_tutorial',\n      reasoning: 'Usu├írio iniciante sem a├º├Áes recentes',\n    },\n  };\n}\n\nfunction generateShortcutSuggestion(): ProactiveAssistance | null {\n  const shortcuts = predictiveEngine.suggestShortcuts();\n\n  if (shortcuts.length === 0) {return null;}\n\n  const shortcut = shortcuts[0];\n\n  return {\n    id: `shortcut-${Date.now()}`,\n    type: 'shortcut',\n    priority: 40,\n    title: 'Atalho sugerido ÔÜí',\n    message: shortcut.reason,\n    action: {\n      label: shortcut.label,\n      handler: 'navigate',\n      params: { to: shortcut.action },\n    },\n    dismissable: true,\n    context: {\n      screen: '',\n      trigger: 'shortcut_suggestion',\n      reasoning: shortcut.reason,\n    },\n  };\n}\n\nfunction generateConceptExplanation(\n  ctx: TriggerContext\n): ProactiveAssistance | null {\n  // Determine relevant concept from screen\n  let concept: string | null = null;\n\n  if (ctx.currentScreen.includes('markup')) {\n    concept = 'markup_vs_margin';\n  } else if (ctx.currentScreen.includes('margin')) {\n    concept = 'markup_vs_margin';\n  } else if (ctx.currentScreen.includes('bdi')) {\n    concept = 'bdi';\n  } else if (ctx.currentScreen.includes('price')) {\n    concept = 'selling_price';\n  }\n\n  if (!concept) {return null;}\n\n  const explanation = explanationEngine.getQuickExplanation(concept);\n  if (!explanation) {return null;}\n\n  return {\n    id: `explanation-${Date.now()}`,\n    type: 'explanation',\n    priority: 30,\n    title: `­ƒÆí ${explanation.title}`,\n    message: explanation.content,\n    action: {\n      label: 'Saber mais',\n      handler: 'show_full_explanation',\n      params: { topic: concept },\n    },\n    dismissable: true,\n    context: {\n      screen: ctx.currentScreen,\n      trigger: 'concept_explanation',\n      reasoning: `Usu├írio ${ctx.userSkillLevel} na tela de ${concept}`,\n    },\n  };\n}\n\nfunction generateEncouragement(): ProactiveAssistance {\n  const messages = [\n    { title: '├ôtimo trabalho! ­ƒîƒ', message: 'Voc├¬ est├í usando a ferramenta sem erros. Continue assim!' },\n    { title: 'Voc├¬ est├í indo bem! ­ƒÆ¬', message: 'J├í dominou o b├ísico. Que tal explorar recursos avan├ºados?' },\n    { title: 'Profissional! ­ƒæÅ', message: 'Sua sess├úo est├í fluindo perfeitamente.' },\n  ];\n\n  const selected = messages[Math.floor(Math.random() * messages.length)];\n\n  return {\n    id: `encouragement-${Date.now()}`,\n    type: 'encouragement',\n    priority: 20,\n    title: selected.title,\n    message: selected.message,\n    dismissable: true,\n    expiresAt: new Date(Date.now() + 10000), // 10s\n    context: {\n      screen: '',\n      trigger: 'encouragement',\n      reasoning: 'Sess├úo longa sem erros',\n    },\n  };\n}\n\n// =============================================================================\n// ASSISTANCE MANAGEMENT\n// =============================================================================\n\n/**\n * Mostra assist├¬ncia\n */\nexport function showAssistance(assistance: ProactiveAssistance): void {\n  // Check max active\n  if (state.activeAssistances.size >= state.config.maxActiveAssistances) {\n    // Remove lowest priority\n    const sorted = [...state.activeAssistances.values()].sort(\n      (a, b) => a.priority - b.priority\n    );\n    if (sorted[0] && sorted[0].priority < assistance.priority) {\n      state.activeAssistances.delete(sorted[0].id);\n    } else {\n      return; // Don't show if all active are higher priority\n    }\n  }\n\n  state.activeAssistances.set(assistance.id, assistance);\n  state.lastAssistanceTime = Date.now();\n  state.stats.shown++;\n\n  // Emit event\n  eventBus.emit({\n    type: 'user:suggestion_shown',\n    payload: {\n      suggestionId: assistance.id,\n      type: assistance.type,\n      priority: assistance.priority,\n    },\n  });\n\n  // Track in personalization\n  personalization.recordSuggestionShown();\n}\n\n/**\n * Descarta assist├¬ncia\n */\nexport function dismissAssistance(assistanceId: string): void {\n  const assistance = state.activeAssistances.get(assistanceId);\n\n  if (assistance) {\n    state.activeAssistances.delete(assistanceId);\n    state.stats.dismissed++;\n\n    // Record feedback\n    feedbackLoop.recordSuggestionDismissed(\n      assistanceId,\n      assistance.type as UserSuggestion['type']\n    ).catch(console.error);\n\n    // Emit event\n    eventBus.emit({\n      type: 'user:suggestion_dismissed',\n      payload: { suggestionId: assistanceId },\n    });\n  }\n}\n\n/**\n * Executa a├º├úo da assist├¬ncia\n */\nexport function actOnAssistance(\n  assistanceId: string\n): { handler: string; params?: Record<string, unknown> } | null {\n  const assistance = state.activeAssistances.get(assistanceId);\n\n  if (!assistance || !assistance.action) {return null;}\n\n  state.activeAssistances.delete(assistanceId);\n  state.stats.actedUpon++;\n\n  // Record feedback\n  feedbackLoop.recordSuggestionApplied(\n    assistanceId,\n    assistance.type as UserSuggestion['type'],\n    assistance.action.handler\n  ).catch(console.error);\n\n  personalization.recordSuggestionApplied();\n\n  // Emit event\n  eventBus.emit({\n    type: 'user:suggestion_applied',\n    payload: {\n      suggestionId: assistanceId,\n      action: assistance.action.handler,\n    },\n  });\n\n  return {\n    handler: assistance.action.handler,\n    params: assistance.action.params,\n  };\n}\n\n/**\n * Retorna assist├¬ncias ativas\n */\nexport function getActiveAssistances(): ProactiveAssistance[] {\n  // Clean expired\n  const now = Date.now();\n  for (const [id, assistance] of state.activeAssistances) {\n    if (assistance.expiresAt && assistance.expiresAt.getTime() < now) {\n      state.activeAssistances.delete(id);\n    }\n  }\n\n  return [...state.activeAssistances.values()].sort(\n    (a, b) => b.priority - a.priority\n  );\n}\n\n// =============================================================================\n// QUICK ASSISTANCE\n// =============================================================================\n\n/**\n * Gera sugest├úo r├ípida baseada em texto\n */\nexport function getQuickAssistance(\n  userInput: string\n): ProactiveAssistance | null {\n  // Use NLP to understand intent\n  const analysis = nlpProcessor.analyze(userInput);\n\n  if (analysis.intent === 'unknown' || analysis.confidence < 0.4) {\n    return null;\n  }\n\n  // Generate assistance based on intent\n  let assistance: ProactiveAssistance | null = null;\n\n  switch (analysis.intent) {\n    case 'get_help':\n      assistance = {\n        id: `quick-help-${Date.now()}`,\n        type: 'suggestion',\n        priority: 70,\n        title: 'Posso ajudar!',\n        message: 'O que voc├¬ precisa saber?',\n        action: {\n          label: 'Abrir ajuda',\n          handler: 'open_help',\n        },\n        dismissable: true,\n        context: {\n          screen: '',\n          trigger: 'user_input',\n          reasoning: `Usu├írio pediu ajuda: \"${userInput}\"`,\n        },\n      };\n      break;\n\n    case 'understand_concept': {\n      const concept = analysis.entities.find((e) => e.type === 'concept');\n      if (concept) {\n        assistance = {\n          id: `quick-explain-${Date.now()}`,\n          type: 'explanation',\n          priority: 60,\n          title: `Sobre ${concept.value}`,\n          message: 'Posso explicar esse conceito para voc├¬.',\n          action: {\n            label: 'Ver explica├º├úo',\n            handler: 'show_explanation',\n            params: { topic: concept.normalizedValue },\n          },\n          dismissable: true,\n          context: {\n            screen: '',\n            trigger: 'user_input',\n            reasoning: `Usu├írio quer entender: ${concept.value}`,\n          },\n        };\n      }\n      break;\n    }\n\n    case 'calculate_price':\n    case 'calculate_markup':\n    case 'calculate_margin':\n    case 'calculate_bdi': {\n      const calcType = analysis.intent.replace('calculate_', '');\n      assistance = {\n        id: `quick-calc-${Date.now()}`,\n        type: 'shortcut',\n        priority: 80,\n        title: `Calculadora de ${calcType}`,\n        message: analysis.suggestedAction ?? `Ir para calculadora de ${calcType}`,\n        action: {\n          label: 'Abrir calculadora',\n          handler: 'navigate',\n          params: { to: `/calculadoras/${calcType}` },\n        },\n        dismissable: true,\n        context: {\n          screen: '',\n          trigger: 'user_input',\n          reasoning: `Usu├írio quer calcular ${calcType}`,\n        },\n      };\n      break;\n    }\n  }\n\n  return assistance;\n}\n\n// =============================================================================\n// CONFIGURATION\n// =============================================================================\n\n/**\n * Atualiza configura├º├úo\n */\nexport function updateProactiveConfig(\n  config: Partial<ProactiveConfig>\n): void {\n  Object.assign(state.config, config);\n}\n\n/**\n * Retorna configura├º├úo atual\n */\nexport function getProactiveConfig(): ProactiveConfig {\n  return { ...state.config };\n}\n\n/**\n * Suprime assist├¬ncias por um per├¡odo\n */\nexport function suppressAssistances(durationMs: number): void {\n  state.suppressedUntil = Date.now() + durationMs;\n}\n\n/**\n * Verifica se est├í em hor├írio silencioso\n */\nfunction isQuietHours(): boolean {\n  if (!state.config.quietHours) {return false;}\n\n  const hour = new Date().getHours();\n  const { start, end } = state.config.quietHours;\n\n  if (start < end) {\n    return hour >= start && hour < end;\n  } else {\n    // Spans midnight\n    return hour >= start || hour < end;\n  }\n}\n\n// =============================================================================\n// EVENT LISTENERS\n// =============================================================================\n\nfunction setupEventListeners(): void {\n  // Listen to user errors\n  eventBus.on('user:error', () => {\n    // Could trigger immediate evaluation\n  });\n\n  // Listen to navigation\n  eventBus.on('user:navigated', (event) => {\n    const { to } = event.payload;\n\n    // Update predictive engine\n    predictiveEngine.recordAction(`navigate:${to}`);\n  });\n}\n\n// =============================================================================\n// STATS\n// =============================================================================\n\n/**\n * Retorna estat├¡sticas\n */\nexport function getProactiveStats(): {\n  generated: number;\n  shown: number;\n  dismissed: number;\n  actedUpon: number;\n  conversionRate: number;\n  activeCount: number;\n  registeredTriggers: number;\n} {\n  const conversionRate =\n    state.stats.shown > 0 ? state.stats.actedUpon / state.stats.shown : 0;\n\n  return {\n    ...state.stats,\n    conversionRate,\n    activeCount: state.activeAssistances.size,\n    registeredTriggers: state.triggers.length,\n  };\n}\n\n// =============================================================================\n// CLEANUP\n// =============================================================================\n\n/**\n * Limpa assist├¬ncias ativas\n */\nexport function clearActiveAssistances(): void {\n  state.activeAssistances.clear();\n}\n\n/**\n * Reseta o engine\n */\nexport function resetProactiveAssistant(): void {\n  state.initialized = false;\n  state.config = { ...defaultConfig };\n  state.activeAssistances.clear();\n  state.triggers = [];\n  state.triggerCooldowns.clear();\n  state.lastAssistanceTime = 0;\n  state.suppressedUntil = 0;\n  state.stats = { generated: 0, shown: 0, dismissed: 0, actedUpon: 0 };\n}\n\n// =============================================================================\n// EXPORTS\n// =============================================================================\n\nexport const proactiveAssistant = {\n  init: initProactiveAssistant,\n  registerTrigger,\n  unregisterTrigger,\n  evaluate: evaluateTriggers,\n  show: showAssistance,\n  dismiss: dismissAssistance,\n  act: actOnAssistance,\n  getActive: getActiveAssistances,\n  getQuick: getQuickAssistance,\n  updateConfig: updateProactiveConfig,\n  getConfig: getProactiveConfig,\n  suppress: suppressAssistances,\n  getStats: getProactiveStats,\n  clearActive: clearActiveAssistances,\n  reset: resetProactiveAssistant,\n};\n\nexport default proactiveAssistant;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\ragEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'query' is defined but never used. Allowed unused args must match /^_/u.","line":267,"column":49,"nodeType":null,"messageId":"unusedVar","endLine":267,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * RAG Engine - Retrieval-Augmented Generation para Licita├º├Áes\n *\n * Este engine ├® respons├ível por:\n * - Busca sem├óntica em base de conhecimento (legisla├º├úo TCU, jurisprud├¬ncia)\n * - Gera├º├úo de respostas contextualizadas\n * - Indexa├º├úo de documentos em vector database\n * - Reranking de resultados por relev├óncia\n *\n * @module azuria_ai/engines/ragEngine\n */\n\nimport { eventBus } from '../core/eventBus';\nimport { structuredLogger } from '../../services/structuredLogger';\nimport { supabase } from '../../lib/supabaseClient';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** Dimens├úo dos embeddings (Gemini usa 768) */\nconst EMBEDDING_DIMENSION = 768;\n\n/** N├║mero m├íximo de chunks por documento */\nconst MAX_CHUNKS_PER_DOC = 100;\n\n/** Tamanho de chunk (tokens) */\nconst CHUNK_SIZE = 512;\n\n/** Overlap entre chunks */\nconst CHUNK_OVERLAP = 50;\n\n/** Top-K resultados para reranking */\nconst TOP_K_RESULTS = 10;\n\n/** Threshold de similaridade m├¡nima */\nconst MIN_SIMILARITY = 0.7;\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Tipo de documento indexado */\nexport type DocumentType =\n  | 'legislation' // Legisla├º├úo (TCU, Lei 8.666, etc.)\n  | 'jurisprudence' // Jurisprud├¬ncia\n  | 'guidance' // Orienta├º├Áes t├®cnicas\n  | 'template' // Templates e modelos\n  | 'case_study' // Casos de uso\n  | 'faq'; // Perguntas frequentes\n\n/** Metadados do documento */\nexport interface DocumentMetadata {\n  /** T├¡tulo do documento */\n  title: string;\n  /** Tipo de documento */\n  type: DocumentType;\n  /** Fonte original */\n  source: string;\n  /** URL original (se dispon├¡vel) */\n  url?: string;\n  /** Data de publica├º├úo */\n  publishedAt?: Date;\n  /** Tags para categoriza├º├úo */\n  tags: string[];\n  /** ├ôrg├úo emissor */\n  authority?: string;\n  /** N├║mero do documento (ex: Lei 8.666/1993) */\n  documentNumber?: string;\n  /** Resumo */\n  summary?: string;\n}\n\n/** Chunk de documento com embedding */\nexport interface DocumentChunk {\n  /** ID ├║nico do chunk */\n  id: string;\n  /** ID do documento pai */\n  documentId: string;\n  /** Conte├║do textual */\n  content: string;\n  /** Embedding vetorial */\n  embedding: number[];\n  /** ├ìndice do chunk no documento */\n  chunkIndex: number;\n  /** Metadados herdados do documento */\n  metadata: DocumentMetadata;\n  /** Timestamp de cria├º├úo */\n  createdAt: number;\n}\n\n/** Resultado de busca sem├óntica */\nexport interface SearchResult {\n  /** Chunk encontrado */\n  chunk: DocumentChunk;\n  /** Score de similaridade (0-1) */\n  similarity: number;\n  /** Score ap├│s reranking */\n  rerankedScore?: number;\n  /** Highlights do match */\n  highlights?: string[];\n}\n\n/** Resposta RAG completa */\nexport interface RAGResponse {\n  /** Resposta gerada */\n  answer: string;\n  /** Chunks usados como contexto */\n  sources: SearchResult[];\n  /** Confian├ºa da resposta (0-1) */\n  confidence: number;\n  /** Query original */\n  query: string;\n  /** Modelo LLM usado */\n  model: string;\n  /** Tokens usados */\n  tokensUsed: number;\n  /** Timestamp */\n  timestamp: number;\n}\n\n/** Configura├º├úo do RAG */\nexport interface RAGConfig {\n  /** Se est├í habilitado */\n  enabled: boolean;\n  /** Modelo para embeddings */\n  embeddingModel: 'gemini-embedding' | 'text-embedding-3-small';\n  /** Modelo para gera├º├úo */\n  generationModel: 'gemini-1.5-flash' | 'gemini-1.5-pro' | 'gpt-4';\n  /** Top-K resultados */\n  topK: number;\n  /** Similaridade m├¡nima */\n  minSimilarity: number;\n  /** Se deve fazer reranking */\n  useReranking: boolean;\n  /** Temperatura para gera├º├úo */\n  temperature: number;\n  /** Max tokens na resposta */\n  maxTokens: number;\n}\n\n/** Estado do engine */\ninterface RAGEngineState {\n  initialized: boolean;\n  config: RAGConfig;\n  documentsIndexed: number;\n  totalChunks: number;\n  lastIndexedAt: number;\n}\n\n// ============================================================================\n// State\n// ============================================================================\n\nconst state: RAGEngineState = {\n  initialized: false,\n  config: {\n    enabled: true,\n    embeddingModel: 'gemini-embedding',\n    generationModel: 'gemini-1.5-flash',\n    topK: TOP_K_RESULTS,\n    minSimilarity: MIN_SIMILARITY,\n    useReranking: true,\n    temperature: 0.3, // Baixa para respostas factuais\n    maxTokens: 1000,\n  },\n  documentsIndexed: 0,\n  totalChunks: 0,\n  lastIndexedAt: 0,\n};\n\n// ============================================================================\n// Utility Functions\n// ============================================================================\n\n/**\n * Gera ID ├║nico para chunk\n */\nfunction generateChunkId(documentId: string, index: number): string {\n  return `${documentId}-chunk-${index}`;\n}\n\n/**\n * Divide texto em chunks com overlap\n */\nfunction chunkText(text: string, chunkSize: number = CHUNK_SIZE, overlap: number = CHUNK_OVERLAP): string[] {\n  const words = text.split(/\\s+/);\n  const chunks: string[] = [];\n  \n  for (let i = 0; i < words.length; i += chunkSize - overlap) {\n    const chunk = words.slice(i, i + chunkSize).join(' ');\n    if (chunk.trim().length > 0) {\n      chunks.push(chunk);\n    }\n  }\n  \n  return chunks;\n}\n\n/**\n * Gera embedding usando Gemini\n */\nasync function generateEmbedding(text: string): Promise<number[]> {\n  try {\n    // TODO: Integrar com Gemini Embedding API\n    // Por enquanto, retorna embedding fake para estrutura\n    \n    const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/embedding-001:embedContent', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-goog-api-key': import.meta.env.VITE_GEMINI_API_KEY || '',\n      },\n      body: JSON.stringify({\n        model: 'models/embedding-001',\n        content: {\n          parts: [{ text }]\n        }\n      })\n    });\n\n    if (!response.ok) {\n      throw new Error(`Embedding API error: ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    return data.embedding.values;\n    \n  } catch (error) {\n    structuredLogger.error('[RAGEngine] Error generating embedding', { error });\n    // Fallback: embedding aleat├│rio (desenvolvimento)\n    return Array.from({ length: EMBEDDING_DIMENSION }, () => Math.random());\n  }\n}\n\n/**\n * Calcula similaridade de cosseno entre dois vetores\n */\nfunction cosineSimilarity(a: number[], b: number[]): number {\n  if (a.length !== b.length) {\n    throw new Error('Vectors must have same length');\n  }\n\n  let dotProduct = 0;\n  let normA = 0;\n  let normB = 0;\n\n  for (let i = 0; i < a.length; i++) {\n    dotProduct += a[i] * b[i];\n    normA += a[i] * a[i];\n    normB += b[i] * b[i];\n  }\n\n  normA = Math.sqrt(normA);\n  normB = Math.sqrt(normB);\n\n  if (normA === 0 || normB === 0) {\n    return 0;\n  }\n\n  return dotProduct / (normA * normB);\n}\n\n/**\n * Reranking de resultados usando heur├¡sticas\n */\nfunction rerankResults(results: SearchResult[], query: string): SearchResult[] {\n  return results.map(result => {\n    let score = result.similarity;\n\n    // Boost por tipo de documento (legisla├º├úo tem mais peso)\n    if (result.chunk.metadata.type === 'legislation') {\n      score *= 1.2;\n    } else if (result.chunk.metadata.type === 'jurisprudence') {\n      score *= 1.1;\n    }\n\n    // Boost por rec├¬ncia (documentos mais novos s├úo melhores)\n    if (result.chunk.metadata.publishedAt) {\n      const ageInYears = (Date.now() - result.chunk.metadata.publishedAt.getTime()) / (365 * 24 * 60 * 60 * 1000);\n      if (ageInYears < 1) {\n        score *= 1.15;\n      } else if (ageInYears < 3) {\n        score *= 1.05;\n      }\n    }\n\n    // Boost por autoridade (TCU tem mais peso que orienta├º├Áes gen├®ricas)\n    if (result.chunk.metadata.authority === 'TCU') {\n      score *= 1.3;\n    }\n\n    // Penalidade por chunks muito curtos\n    if (result.chunk.content.length < 100) {\n      score *= 0.8;\n    }\n\n    return {\n      ...result,\n      rerankedScore: Math.min(score, 1), // Cap at 1\n    };\n  }).sort((a, b) => (b.rerankedScore || b.similarity) - (a.rerankedScore || a.similarity));\n}\n\n/**\n * Extrai highlights do match\n */\nfunction extractHighlights(content: string, query: string): string[] {\n  const queryWords = query.toLowerCase().split(/\\s+/);\n  const sentences = content.split(/[.!?]+/).filter(s => s.trim().length > 0);\n  \n  const highlights = sentences\n    .filter(sentence => {\n      const lowerSentence = sentence.toLowerCase();\n      return queryWords.some(word => lowerSentence.includes(word));\n    })\n    .slice(0, 3)\n    .map(s => s.trim());\n\n  return highlights;\n}\n\n// ============================================================================\n// Core Functions\n// ============================================================================\n\n/**\n * Indexa documento na vector database\n */\nexport async function indexDocument(\n  documentId: string,\n  content: string,\n  metadata: DocumentMetadata\n): Promise<void> {\n  try {\n    // 1. Dividir em chunks\n    const chunks = chunkText(content);\n    \n    if (chunks.length > MAX_CHUNKS_PER_DOC) {\n      structuredLogger.warn('[RAGEngine] Document has too many chunks, truncating', {\n        documentId,\n        chunks: chunks.length,\n        max: MAX_CHUNKS_PER_DOC,\n      });\n    }\n\n    const chunksToIndex = chunks.slice(0, MAX_CHUNKS_PER_DOC);\n\n    // 2. Gerar embeddings para cada chunk\n    const documentChunks: DocumentChunk[] = [];\n\n    for (let i = 0; i < chunksToIndex.length; i++) {\n      const chunkContent = chunksToIndex[i];\n      const embedding = await generateEmbedding(chunkContent);\n\n      const chunk: DocumentChunk = {\n        id: generateChunkId(documentId, i),\n        documentId,\n        content: chunkContent,\n        embedding,\n        chunkIndex: i,\n        metadata,\n        createdAt: Date.now(),\n      };\n\n      documentChunks.push(chunk);\n    }\n\n    // 3. Inserir no Supabase (usando pgvector)\n    const { error } = await supabase\n      .from('rag_documents')\n      .upsert(documentChunks.map(chunk => ({\n        id: chunk.id,\n        document_id: chunk.documentId,\n        content: chunk.content,\n        embedding: chunk.embedding,\n        chunk_index: chunk.chunkIndex,\n        metadata: chunk.metadata,\n        created_at: new Date(chunk.createdAt).toISOString(),\n      })));\n\n    if (error) {\n      throw error;\n    }\n\n    state.documentsIndexed++;\n    state.totalChunks += documentChunks.length;\n    state.lastIndexedAt = Date.now();\n\n    eventBus.emit('rag:document-indexed', {\n      documentId,\n      chunks: documentChunks.length,\n      timestamp: Date.now(),\n    });\n\n    structuredLogger.info('[RAGEngine] Document indexed', {\n      documentId,\n      chunks: documentChunks.length,\n      type: metadata.type,\n    });\n\n  } catch (error) {\n    structuredLogger.error('[RAGEngine] Error indexing document', {\n      documentId,\n      error,\n    });\n    throw error;\n  }\n}\n\n/**\n * Busca sem├óntica na base de conhecimento\n */\nexport async function semanticSearch(\n  query: string,\n  filters?: {\n    types?: DocumentType[];\n    tags?: string[];\n    authority?: string;\n  }\n): Promise<SearchResult[]> {\n  try {\n    // 1. Gerar embedding da query\n    const queryEmbedding = await generateEmbedding(query);\n\n    // 2. Buscar no Supabase usando pgvector\n    // TODO: Usar fun├º├úo RPC do Supabase para busca por similaridade\n    // Por enquanto, busca todos e calcula similaridade local (ineficiente mas funciona)\n    \n    let supabaseQuery = supabase\n      .from('rag_documents')\n      .select('*')\n      .limit(100); // Limite tempor├írio\n\n    // Aplicar filtros\n    if (filters?.types && filters.types.length > 0) {\n      supabaseQuery = supabaseQuery.in('metadata->type', filters.types);\n    }\n\n    const { data, error } = await supabaseQuery;\n\n    if (error) {\n      throw error;\n    }\n\n    if (!data || data.length === 0) {\n      return [];\n    }\n\n    // 3. Calcular similaridade\n    const results: SearchResult[] = data\n      .map(row => {\n        const chunk: DocumentChunk = {\n          id: row.id,\n          documentId: row.document_id,\n          content: row.content,\n          embedding: row.embedding,\n          chunkIndex: row.chunk_index,\n          metadata: row.metadata,\n          createdAt: new Date(row.created_at).getTime(),\n        };\n\n        const similarity = cosineSimilarity(queryEmbedding, chunk.embedding);\n\n        return {\n          chunk,\n          similarity,\n          highlights: extractHighlights(chunk.content, query),\n        };\n      })\n      .filter(result => result.similarity >= state.config.minSimilarity)\n      .sort((a, b) => b.similarity - a.similarity)\n      .slice(0, state.config.topK);\n\n    // 4. Reranking (se habilitado)\n    const finalResults = state.config.useReranking\n      ? rerankResults(results, query)\n      : results;\n\n    structuredLogger.info('[RAGEngine] Semantic search completed', {\n      query,\n      resultsFound: finalResults.length,\n      avgSimilarity: finalResults.reduce((sum, r) => sum + r.similarity, 0) / finalResults.length,\n    });\n\n    return finalResults;\n\n  } catch (error) {\n    structuredLogger.error('[RAGEngine] Error in semantic search', {\n      query,\n      error,\n    });\n    throw error;\n  }\n}\n\n/**\n * Gera resposta usando RAG (busca + gera├º├úo)\n */\nexport async function generateAnswer(\n  query: string,\n  filters?: {\n    types?: DocumentType[];\n    tags?: string[];\n    authority?: string;\n  }\n): Promise<RAGResponse> {\n  try {\n    // 1. Busca sem├óntica\n    const searchResults = await semanticSearch(query, filters);\n\n    if (searchResults.length === 0) {\n      return {\n        answer: 'Desculpe, n├úo encontrei informa├º├Áes relevantes sobre isso na base de conhecimento.',\n        sources: [],\n        confidence: 0,\n        query,\n        model: state.config.generationModel,\n        tokensUsed: 0,\n        timestamp: Date.now(),\n      };\n    }\n\n    // 2. Construir contexto a partir dos chunks\n    const context = searchResults\n      .slice(0, 5) // Top 5 chunks\n      .map((result, idx) => {\n        return `[FONTE ${idx + 1}] ${result.chunk.metadata.title}:\\n${result.chunk.content}\\n`;\n      })\n      .join('\\n');\n\n    // 3. Gerar resposta com LLM\n    const prompt = `Voc├¬ ├® um assistente especializado em licita├º├Áes e legisla├º├úo brasileira.\n\nCONTEXTO:\n${context}\n\nPERGUNTA DO USU├üRIO:\n${query}\n\nINSTRU├ç├òES:\n- Responda com base APENAS no contexto fornecido\n- Cite as fontes usando [FONTE 1], [FONTE 2], etc.\n- Se o contexto n├úo cont├®m a informa├º├úo, diga isso claramente\n- Seja preciso e objetivo\n- Use linguagem t├®cnica mas acess├¡vel\n\nRESPOSTA:`;\n\n    // TODO: Integrar com Gemini API\n    // Por enquanto, resposta mock\n    const answer = `Com base na legisla├º├úo vigente, especialmente a Lei 8.666/93 e orienta├º├Áes do TCU, ${searchResults[0].chunk.content.substring(0, 200)}... [FONTE 1]`;\n\n    // Calcular confian├ºa baseado na similaridade m├®dia\n    const avgSimilarity = searchResults.reduce((sum, r) => sum + r.similarity, 0) / searchResults.length;\n    const confidence = Math.min(avgSimilarity * 1.2, 1); // Boost de 20%\n\n    const response: RAGResponse = {\n      answer,\n      sources: searchResults,\n      confidence,\n      query,\n      model: state.config.generationModel,\n      tokensUsed: prompt.length + answer.length, // Aproximado\n      timestamp: Date.now(),\n    };\n\n    eventBus.emit('rag:answer-generated', {\n      query,\n      confidence,\n      sourcesUsed: searchResults.length,\n      timestamp: Date.now(),\n    });\n\n    structuredLogger.info('[RAGEngine] Answer generated', {\n      query,\n      confidence,\n      sources: searchResults.length,\n    });\n\n    return response;\n\n  } catch (error) {\n    structuredLogger.error('[RAGEngine] Error generating answer', {\n      query,\n      error,\n    });\n    throw error;\n  }\n}\n\n/**\n * Indexa m├║ltiplos documentos em batch\n */\nexport async function batchIndexDocuments(\n  documents: Array<{\n    id: string;\n    content: string;\n    metadata: DocumentMetadata;\n  }>\n): Promise<void> {\n  structuredLogger.info('[RAGEngine] Starting batch indexing', {\n    count: documents.length,\n  });\n\n  let successful = 0;\n  let failed = 0;\n\n  for (const doc of documents) {\n    try {\n      await indexDocument(doc.id, doc.content, doc.metadata);\n      successful++;\n    } catch (error) {\n      failed++;\n      structuredLogger.error('[RAGEngine] Failed to index document in batch', {\n        documentId: doc.id,\n        error,\n      });\n    }\n  }\n\n  structuredLogger.info('[RAGEngine] Batch indexing completed', {\n    total: documents.length,\n    successful,\n    failed,\n  });\n}\n\n/**\n * Remove documento do ├¡ndice\n */\nexport async function deleteDocument(documentId: string): Promise<void> {\n  try {\n    const { error } = await supabase\n      .from('rag_documents')\n      .delete()\n      .eq('document_id', documentId);\n\n    if (error) {\n      throw error;\n    }\n\n    structuredLogger.info('[RAGEngine] Document deleted from index', {\n      documentId,\n    });\n\n  } catch (error) {\n    structuredLogger.error('[RAGEngine] Error deleting document', {\n      documentId,\n      error,\n    });\n    throw error;\n  }\n}\n\n/**\n * Estat├¡sticas do RAG\n */\nexport function getRAGStats(): {\n  documentsIndexed: number;\n  totalChunks: number;\n  avgChunksPerDoc: number;\n  lastIndexedAt: number;\n  config: RAGConfig;\n} {\n  return {\n    documentsIndexed: state.documentsIndexed,\n    totalChunks: state.totalChunks,\n    avgChunksPerDoc: state.documentsIndexed > 0 ? state.totalChunks / state.documentsIndexed : 0,\n    lastIndexedAt: state.lastIndexedAt,\n    config: state.config,\n  };\n}\n\n// ============================================================================\n// Engine Management\n// ============================================================================\n\n/**\n * Inicializa o RAG Engine\n */\nexport function initRAGEngine(config?: Partial<RAGConfig>): void {\n  if (state.initialized) {\n    structuredLogger.warn('[RAGEngine] Already initialized');\n    return;\n  }\n\n  if (config) {\n    state.config = { ...state.config, ...config };\n  }\n\n  // Verificar se tabela existe no Supabase\n  // TODO: Criar migration para tabela rag_documents\n\n  state.initialized = true;\n\n  eventBus.emit('engine:rag-ready', {\n    config: state.config,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[RAGEngine] Initialized', {\n    embeddingModel: state.config.embeddingModel,\n    generationModel: state.config.generationModel,\n  });\n}\n\n/**\n * Atualiza configura├º├úo\n */\nexport function updateRAGConfig(config: Partial<RAGConfig>): void {\n  state.config = { ...state.config, ...config };\n  \n  structuredLogger.info('[RAGEngine] Configuration updated', {\n    config: state.config,\n  });\n}\n\n/**\n * Shutdown do engine\n */\nexport function shutdownRAGEngine(): void {\n  state.initialized = false;\n\n  eventBus.emit('engine:rag-shutdown', {\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[RAGEngine] Shut down');\n}\n\n// ============================================================================\n// Export\n// ============================================================================\n\nexport default {\n  initRAGEngine,\n  indexDocument,\n  batchIndexDocuments,\n  semanticSearch,\n  generateAnswer,\n  deleteDocument,\n  getRAGStats,\n  updateRAGConfig,\n  shutdownRAGEngine,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\realityEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[101,104],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[101,104],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":5,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[133,136],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[133,136],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[398,401],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[398,401],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[824,827],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[824,827],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1103,1106],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1103,1106],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\ninterface RealityState {\r\n  context: Record<string, any>;\r\n  forces: Record<string, any>;\r\n  confidence: number;\r\n}\r\n\r\nconst realityState: RealityState = {\r\n  context: {},\r\n  forces: {},\r\n  confidence: 0.6,\r\n};\r\n\r\nfunction clamp(v: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nexport function captureContext(context: any = {}) {\r\n  realityState.context = { ...realityState.context, ...context };\r\n  return realityState.context;\r\n}\r\n\r\nexport function inferState() {\r\n  const inferred = {\r\n    userBehavior: realityState.context?.userBehavior || 'est├ível',\r\n    pricingRisk: realityState.context?.pricingRisk || 'moderado',\r\n  };\r\n  realityState.context.inferred = inferred;\r\n  return inferred;\r\n}\r\n\r\nexport function predictExternalForces(data: any = {}) {\r\n  const forces = {\r\n    competition: data.competition || 'm├®dio',\r\n    seasonality: data.seasonality || 'neutro',\r\n    marketRisk: data.marketRisk || 'baixo',\r\n  };\r\n  realityState.forces = forces;\r\n  return forces;\r\n}\r\n\r\nexport function updateRealityModel(payload: any = {}) {\r\n  captureContext(payload.context || {});\r\n  inferState();\r\n  predictExternalForces(payload.forces || {});\r\n  const confidence = clamp(0.5 + Object.keys(realityState.context).length * 0.02);\r\n  realityState.confidence = confidence;\r\n  emitEvent(\r\n    'ai:reality-updated',\r\n    { context: realityState.context, forces: realityState.forces, confidence },\r\n    { source: 'realityEngine', priority: 6 }\r\n  );\r\n  return realityState;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\revenueIntelligenceEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\safeActionEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[286,289],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[286,289],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[403,406],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[403,406],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'context' is defined but never used. Allowed unused args must match /^_/u.","line":13,"column":50,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":57},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[417,420],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[417,420],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[983,986],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[983,986],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { validateActionAgainstPolicy } from './policyEngine';\r\nimport { logGovernance } from '../logs/modeDeus_conscious';\r\nimport { logSafeAction } from '../logs/ai.safeAction';\r\n\r\ninterface SafeResult {\r\n  approved: boolean;\r\n  action?: any;\r\n  reason?: string;\r\n  riskLevel?: 'low' | 'medium' | 'high';\r\n}\r\n\r\nexport function executeActionSafely(action: any, context: any): SafeResult {\r\n  const policyResult = validateActionAgainstPolicy(action);\r\n  if (!policyResult.allowed) {\r\n    return { approved: false, reason: policyResult.reason, riskLevel: 'high' };\r\n  }\r\n\r\n  // Placeholder predictOutcome (assume medium risk)\r\n  const predictedRisk = action.riskLevel || 'medium';\r\n  if (predictedRisk === 'high' && policyResult.allowed) {\r\n    return { approved: false, reason: 'Predicted high risk', riskLevel: 'high' };\r\n  }\r\n\r\n  return { approved: true, action, reason: 'Policy compliant' };\r\n}\r\n\r\nexport function applyAction(action: any) {\r\n  // No real mutation; simulate execution and emit event\r\n  const result = { success: true, details: { action } };\r\n  emitEvent('ai:action-executed', result, { source: 'safeActionEngine', priority: 6 });\r\n  logGovernance({ actionExecuted: action, result });\r\n  logSafeAction({ action, result });\r\n  return result;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\safetyAndReliabilityEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[570,573],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[570,573],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[585,588],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[585,588],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[663,666],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[663,666],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nconst eventCount: Record<string, number> = {};\r\nconst MAX_EVENTS_PER_WINDOW = 50;\r\n\r\nexport function guardEventLoop(eventType: string): boolean {\r\n  eventCount[eventType] = (eventCount[eventType] || 0) + 1;\r\n  if (eventCount[eventType] > MAX_EVENTS_PER_WINDOW) {\r\n    emitFallback(`Loop detectado em ${eventType}`);\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function resetCounts() {\r\n  Object.keys(eventCount).forEach(k => delete eventCount[k]);\r\n}\r\n\r\nexport function safePropagate(eventType: string, payload: any, options?: any) {\r\n  if (!guardEventLoop(eventType)) {return;}\r\n  emitEvent(eventType as any, payload, options);\r\n}\r\n\r\nexport function emitFallback(reason: string) {\r\n  emitEvent(\r\n    'ai:fallback-engaged',\r\n    { reason, timestamp: Date.now() },\r\n    { source: 'safetyAndReliabilityEngine', priority: 9 }\r\n  );\r\n}\r\n\r\nexport function isolateEngine(engineName: string) {\r\n  emitEvent(\r\n    'ai:fallback-engaged',\r\n    { reason: `Engine isolada: ${engineName}` },\r\n    { source: 'safetyAndReliabilityEngine', priority: 9 }\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\safetyLimitsEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":17,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[466,469],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[466,469],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[724,727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[724,727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[881,884],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[881,884],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport interface SafetyState {\r\n  load?: number;\r\n  actionsPerMinute?: number;\r\n  loopSignals?: number;\r\n}\r\n\r\nexport function checkCriticalBoundaries(state: SafetyState) {\r\n  const critical = (state.load ?? 0) > 0.9 || (state.actionsPerMinute ?? 0) > 20;\r\n  if (critical) {\r\n    applySafetyBreak({ reason: 'critical_boundaries', state });\r\n  }\r\n  return critical;\r\n}\r\n\r\nexport function detectRunawayBehavior(actions: any[] = []) {\r\n  const runaway = actions.length > 10;\r\n  if (runaway) {\r\n    applySafetyBreak({ reason: 'runaway_actions', state: { actions: actions.length } });\r\n  }\r\n  return runaway;\r\n}\r\n\r\nexport function applySafetyBreak(event: { reason: string; state?: any }) {\r\n  emitEvent('ai:safety-break', event, { source: 'safetyLimitsEngine', priority: 10 });\r\n  return true;\r\n}\r\n\r\nexport function logSafetyEvent(event: any) {\r\n  emitEvent('ai:governance-alert', { message: 'Safety event', detail: event }, { source: 'safetyLimitsEngine', priority: 6 });\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\smartPaywallEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\socialEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":8,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[254,257],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[254,257],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[273,276],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[273,276],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1113,1116],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1113,1116],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1295,1298],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1295,1298],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1476,1479],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1476,1479],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { updateUsagePattern, type UserModel, userModel } from '../core/userModel';\r\n\r\ninterface SocialEventPayload {\r\n  tipo?: string;\r\n  action?: string;\r\n  timestamp?: number;\r\n  metadata?: Record<string, any>;\r\n  context?: any;\r\n}\r\n\r\nfunction clamp(val: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, val));\r\n}\r\n\r\nfunction inferEmotionScore(event: SocialEventPayload) {\r\n  const meta = event.metadata || {};\r\n  let score = 0.5;\r\n\r\n  if (meta.hesitation || meta.delays) {score -= 0.2;}\r\n  if (meta.repeatClicks || meta.undo) {score -= 0.15;}\r\n  if (meta.fastInputs) {score += 0.1;}\r\n  if (meta.abandon) {score -= 0.25;}\r\n  if (meta.successiveActions) {score += 0.1;}\r\n\r\n  return clamp(score);\r\n}\r\n\r\nfunction mapEmotion(score: number): UserModel['emotionalState'] {\r\n  if (score <= 0.25) {return 'frustrated';}\r\n  if (score <= 0.4) {return 'confused';}\r\n  if (score >= 0.75) {return 'engaged';}\r\n  if (score >= 0.6) {return 'focused';}\r\n  if (score >= 0.45) {return 'rushed';}\r\n  return 'neutral';\r\n}\r\n\r\nfunction adjustSkill(meta: Record<string, any>) {\r\n  if (meta.advancedFlows) {userModel.skillLevel = 'advanced';}\r\n  if (meta.requiresHelp) {userModel.skillLevel = 'beginner';}\r\n}\r\n\r\nfunction adjustRisk(meta: Record<string, any>) {\r\n  if (meta.riskAverse) {userModel.riskTolerance = 'low';}\r\n  if (meta.aggressivePricing) {userModel.riskTolerance = 'high';}\r\n}\r\n\r\nfunction adjustPace(meta: Record<string, any>) {\r\n  if (meta.slowInputs) {userModel.preferredPace = 'slow';}\r\n  if (meta.fastInputs) {userModel.preferredPace = 'fast';}\r\n}\r\n\r\nfunction emitProfileUpdated() {\r\n  emitEvent('ai:user-profile-updated', { userModel }, { source: 'socialEngine', priority: 4 });\r\n}\r\n\r\nexport function updateUserModel(event: SocialEventPayload) {\r\n  const key = event.tipo || event.action || 'interaction';\r\n  updateUsagePattern(key);\r\n  adjustSkill(event.metadata || {});\r\n  adjustRisk(event.metadata || {});\r\n  adjustPace(event.metadata || {});\r\n  userModel.lastUpdated = Date.now();\r\n  emitProfileUpdated();\r\n}\r\n\r\nexport function inferEmotion(event: SocialEventPayload) {\r\n  const score = inferEmotionScore(event);\r\n  const emotionalState = mapEmotion(score);\r\n  userModel.emotionalState = emotionalState;\r\n  userModel.lastUpdated = Date.now();\r\n  emitEvent(\r\n    'ai:emotion-inferred',\r\n    { emotionalState, score },\r\n    { source: 'socialEngine', priority: 5 }\r\n  );\r\n  emitProfileUpdated();\r\n  return emotionalState;\r\n}\r\n\r\nexport function inferIntent(event: SocialEventPayload) {\r\n  const intent =\r\n    event.tipo === 'calc:updated'\r\n      ? 'refinar_calculo'\r\n      : event.tipo === 'calc:completed'\r\n        ? 'finalizar_calculo'\r\n        : 'navegar';\r\n\r\n  emitEvent(\r\n    'ai:user-intent-inferred',\r\n    { intent, context: event.context },\r\n    { source: 'socialEngine', priority: 4 }\r\n  );\r\n  return intent;\r\n}\r\n\r\nexport function classifyUserProfile() {\r\n  const profile = {\r\n    emotionalState: userModel.emotionalState,\r\n    skillLevel: userModel.skillLevel,\r\n    riskTolerance: userModel.riskTolerance,\r\n    preferredPace: userModel.preferredPace,\r\n  };\r\n  emitEvent(\r\n    'ai:user-profile-updated',\r\n    { userModel: profile },\r\n    { source: 'socialEngine', priority: 3 }\r\n  );\r\n  return profile;\r\n}\r\n\r\nexport function adaptInterface() {\r\n  const adaptation = {\r\n    showAdvanced: userModel.skillLevel === 'advanced',\r\n    conciseMode: userModel.preferredPace === 'fast',\r\n    detailedExplanations: userModel.skillLevel === 'beginner' || userModel.emotionalState === 'confused',\r\n    tone:\r\n      userModel.emotionalState === 'frustrated'\r\n        ? 'calm'\r\n        : userModel.emotionalState === 'rushed'\r\n          ? 'concise'\r\n          : 'neutral',\r\n  };\r\n\r\n  emitEvent(\r\n    'ui:adaptive-interface-changed',\r\n    { adaptation, userModel },\r\n    { source: 'socialEngine', priority: 4 }\r\n  );\r\n\r\n  return adaptation;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\socialPresenceEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[220,223],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[220,223],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1424,1427],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1424,1427],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { userModel } from '../core/userModel';\r\n\r\ntype EmotionalSignal = 'frustrated' | 'confused' | 'rushed' | 'discovering' | 'neutral';\r\n\r\nfunction detectSignal(payload: any): EmotionalSignal {\r\n  const meta = payload?.metadata || {};\r\n  if (meta.errors || meta.repeatClicks || meta.undo) {return 'frustrated';}\r\n  if (meta.longHover || meta.helpRequested) {return 'confused';}\r\n  if (meta.fastInputs || meta.shortSessions) {return 'rushed';}\r\n  if (meta.exploring || meta.newFeature) {return 'discovering';}\r\n  return 'neutral';\r\n}\r\n\r\nfunction adaptTone(state: EmotionalSignal) {\r\n  if (state === 'frustrated') {return 'calm';}\r\n  if (state === 'confused') {return 'clear';}\r\n  if (state === 'rushed') {return 'concise';}\r\n  if (state === 'discovering') {return 'enthusiastic';}\r\n  return 'neutral';\r\n}\r\n\r\nfunction buildMessage(state: EmotionalSignal) {\r\n  switch (state) {\r\n    case 'frustrated':\r\n      return 'Percebemos dificuldade. Quer ajuda passo a passo?';\r\n    case 'confused':\r\n      return 'Posso explicar rapidamente ou abrir a documenta├º├úo curta.';\r\n    case 'rushed':\r\n      return 'Tudo pronto em poucos cliques. Quer um atalho r├ípido?';\r\n    case 'discovering':\r\n      return 'Legal explorar! Quer ver exemplos e dicas r├ípidas?';\r\n    default:\r\n      return 'Estou aqui para ajudar quando precisar.';\r\n  }\r\n}\r\n\r\nexport function processSocialPresence(event: any) {\r\n  const state = detectSignal(event.payload);\r\n  userModel.emotionalState = state === 'neutral' ? 'neutral' : state;\r\n  userModel.lastUpdated = Date.now();\r\n\r\n  emitEvent(\r\n    'ui:emotion-updated',\r\n    { emotionalState: state, tone: adaptTone(state), message: buildMessage(state) },\r\n    { source: 'socialPresenceEngine', priority: 5 }\r\n  );\r\n}\r\n\r\nexport function getPresenceStatus() {\r\n  return {\r\n    emotionalState: userModel.emotionalState,\r\n    tone: adaptTone(userModel.emotionalState as EmotionalSignal),\r\n  };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\stabilityEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":110,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":113,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[248,251],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[248,251],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[486,489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[486,489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1034,1037],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1034,1037],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nlet stabilityScore = 0.8;\r\nlet safeMode = false;\r\nconst recoveryEvents: string[] = [];\r\n\r\nfunction emitStabilityAlert(event: { severity: 'info' | 'warning' | 'critical'; riskLevel: number; details?: any }) {\r\n  emitEvent('ai:stability-alert', event, { source: 'stabilityEngine', priority: event.severity === 'critical' ? 9 : 6 });\r\n  if (event.riskLevel >= 0.8) {\r\n    safeMode = true;\r\n  }\r\n}\r\n\r\nexport function predictFailure(signals: any): { risk: number } {\r\n  const risk =\r\n    (signals?.loopsDetected ? 0.3 : 0) +\r\n    (signals?.contradictions ? Math.min(signals.contradictions / 5, 0.3) : 0) +\r\n    (signals?.load && signals.load > 0.8 ? 0.2 : 0);\r\n  const totalRisk = Math.min(1, risk);\r\n  if (totalRisk > 0.6) {\r\n    emitStabilityAlert({ severity: totalRisk > 0.8 ? 'critical' : 'warning', riskLevel: totalRisk, details: signals });\r\n  }\r\n  stabilityScore = Math.max(0, 1 - totalRisk * 0.8);\r\n  return { risk: totalRisk };\r\n}\r\n\r\nexport function detectCascadingErrors(history: any[] = []) {\r\n  const cascades = history.filter((h) => h.type === 'error').length > 3;\r\n  if (cascades) {emitStabilityAlert({ severity: 'warning', riskLevel: 0.7, details: { cascades: true } });}\r\n  return cascades;\r\n}\r\n\r\nexport function stabilizeCognitiveLoad(load: number = 0.5) {\r\n  if (load > 0.9) {\r\n    emitStabilityAlert({ severity: 'critical', riskLevel: 0.9, details: { load } });\r\n    return limitProcessingIfNecessary();\r\n  }\r\n  return { loadReduced: false };\r\n}\r\n\r\nexport function limitProcessingIfNecessary() {\r\n  safeMode = true;\r\n  emitStabilityAlert({ severity: 'critical', riskLevel: 0.85, details: { action: 'safe-mode' } });\r\n  return { safeMode: true };\r\n}\r\n\r\nexport function autoPauseAndRecover(reason: string) {\r\n  safeMode = true;\r\n  recoveryEvents.unshift(reason);\r\n  if (recoveryEvents.length > 10) {recoveryEvents.pop();}\r\n  emitStabilityAlert({ severity: 'critical', riskLevel: 0.9, details: { reason } });\r\n  safeMode = false;\r\n  return { recovered: true };\r\n}\r\n\r\nexport function emitStabilitySnapshot() {\r\n  emitEvent(\r\n    'ai:stability-alert',\r\n    { severity: 'info', riskLevel: 0, details: { stabilityScore, safeMode, recoveryEvents } },\r\n    { source: 'stabilityEngine', priority: 4 }\r\n  );\r\n}\r\n\r\nexport function getStabilityState() {\r\n  return { stabilityScore, safeMode, recoveryEvents };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\storyProfiles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\storytellingEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[404,407],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[404,407],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[416,419],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[416,419],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1028,1031],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1028,1031],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1913,1916],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1913,1916],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4074,4077],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4074,4077],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4086,4089],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4086,4089],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { storyProfiles } from './storyProfiles';\r\nimport { adaptToneProfileFromPersona, getToneProfileForUser, rewriteWithBrandVoice, speak } from './brandVoiceEngine';\r\n\r\nfunction pickProfile(userLevel: string) {\r\n  return storyProfiles[userLevel as keyof typeof storyProfiles] || storyProfiles.iniciante;\r\n}\r\n\r\nexport function generateContextStory(event: any, state: any) {\r\n  const profile = pickProfile(state?.userLevel || 'iniciante');\r\n  const raw = `(${profile.tone}) ${event?.tipo || 'evento'} processado. Contexto: ${Object.keys(\r\n    event?.payload || {}\r\n  )\r\n    .slice(0, 3)\r\n    .join(', ')}`;\r\n  const tone = getToneProfileForUser(state);\r\n  const spoken = speak(raw, tone, { user: state });\r\n  emitEvent(\r\n    'ai:story-generated',\r\n    { story: spoken.message, profile: profile.tone, brandTone: spoken.tone, persona: spoken.persona },\r\n    { source: 'storytellingEngine', priority: 5 }\r\n  );\r\n  return spoken.message;\r\n}\r\n\r\nexport function explainInsight(insight: any) {\r\n  const raw = `Sugerimos ${insight?.action || 'essa a├º├úo'} porque observamos ${insight?.reason || 'padr├Áes recentes'}.`;\r\n  const tone = adaptToneProfileFromPersona(insight?.persona || 'iniciante-inseguro');\r\n  const refined = rewriteWithBrandVoice(raw, tone);\r\n  emitEvent('ai:story-clarified', { story: refined, brandTone: tone }, { source: 'storytellingEngine', priority: 5 });\r\n  return refined;\r\n}\r\n\r\nexport function educateUser(topic: string, level: 'iniciante' | 'intermediario' | 'avancado' = 'iniciante') {\r\n  const profile = pickProfile(level);\r\n  const text = `(${profile.style}) Aula r├ípida: ${topic}.`;\r\n  const refined = rewriteWithBrandVoice(text, 'educativo');\r\n  emitEvent('ai:story-educational', { story: refined, level, brandTone: 'educativo' }, { source: 'storytellingEngine', priority: 4 });\r\n  return refined;\r\n}\r\n\r\nexport function createMicroStory(data: any) {\r\n  const msg = data?.message || 'Hist├│ria n├úo especificada.';\r\n  const refined = rewriteWithBrandVoice(msg, data?.tone || 'padrao');\r\n  emitEvent('ai:story-generated', { story: refined, brandTone: data?.tone || 'padrao' }, { source: 'storytellingEngine', priority: 4 });\r\n  return refined;\r\n}\r\n\r\nexport function rewriteForClarity(text: string) {\r\n  const rewritten = `Em termos simples: ${text}`;\r\n  const refined = rewriteWithBrandVoice(rewritten, 'educativo');\r\n  emitEvent('ai:story-clarified', { story: refined, brandTone: 'educativo' }, { source: 'storytellingEngine', priority: 4 });\r\n  return refined;\r\n}\r\n\r\nexport function rewriteForSales(text: string) {\r\n  const rewritten = `Benef├¡cio imediato: ${text}`;\r\n  const refined = rewriteWithBrandVoice(rewritten, 'comercial');\r\n  emitEvent('ai:story-commercial', { story: refined, brandTone: 'comercial' }, { source: 'storytellingEngine', priority: 4 });\r\n  return refined;\r\n}\r\n\r\nexport function rewriteForConfidence(text: string) {\r\n  return rewriteWithBrandVoice(`Estamos confiantes porque ${text}`, 'padrao');\r\n}\r\n\r\nexport function adaptTone(toneProfile: string) {\r\n  return storyProfiles[toneProfile as keyof typeof storyProfiles] || storyProfiles.iniciante;\r\n}\r\n\r\nexport function hallucinateMissingLinks() {\r\n  return 'Com base em sinais indiretos, inferimos um poss├¡vel ganho de margem.';\r\n}\r\n\r\nexport function generateFuturePrediction() {\r\n  return 'Prevemos aumento de engajamento se aplicar a recomenda├º├úo sugerida.';\r\n}\r\n\r\nexport function imagineAlternativePaths() {\r\n  return ['Caminho A: manter pre├ºo', 'Caminho B: ajustar margem', 'Caminho C: campanha rel├ómpago'];\r\n}\r\n\r\nexport function createCounterfactual(reason: string) {\r\n  const story = `Se ${reason}, ent├úo o resultado seria diferente.`;\r\n  const refined = rewriteWithBrandVoice(story, 'estrategico');\r\n  emitEvent('ai:story-generated', { story: refined, type: 'counterfactual', brandTone: 'estrategico' }, { source: 'storytellingEngine', priority: 4 });\r\n  return refined;\r\n}\r\n\r\nexport function stabilizeImaginations() {\r\n  return 'Imagina├º├úo estabilizada para evitar deriva.';\r\n}\r\n\r\nexport function hallucinateForContext(event: any, state: any) {\r\n  const story = generateContextStory(event, state);\r\n  return story;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\strategicEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":3,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[91,94],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[91,94],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[718,721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[718,721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'state' is defined but never used. Allowed unused args must match /^_/u.","line":23,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":23,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[984,987],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[984,987],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1223,1226],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1223,1226],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1235,1238],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1235,1238],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'state' is defined but never used. Allowed unused args must match /^_/u.","line":38,"column":44,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":49},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":38,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1452,1455],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1452,1455],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1603,1606],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1603,1606],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\nexport function analyzeGlobalState(state: any) {\r\n  const health = state?.systemHealthScore ?? 0.7;\r\n  const risks = identifyStructuralRisks(state);\r\n  const goals = defineLongTermGoals(state);\r\n  const plan = generateStrategicPlan(state, goals);\r\n  emitEvent('ai:strategic-plan-generated', { plan }, { source: 'strategicEngine', priority: 6 });\r\n  emitEvent('ai:long-term-goal-defined', { goals }, { source: 'strategicEngine', priority: 6 });\r\n  if (risks.length) {\r\n    emitEvent('ai:structural-risk-detected', { risks }, { source: 'strategicEngine', priority: 7 });\r\n  }\r\n  return { health, risks, goals, plan };\r\n}\r\n\r\nexport function identifyStructuralRisks(state: any): string[] {\r\n  const risks: string[] = [];\r\n  if (state?.operational?.load > 0.8) {risks.push('Carga operacional alta');}\r\n  if (state?.consistency?.drift) {risks.push('Drift de consist├¬ncia');}\r\n  return risks;\r\n}\r\n\r\nexport function defineLongTermGoals(state: any) {\r\n  return [\r\n    { id: 'goal-reliability', target: 'reduzir drift', horizonDays: 180 },\r\n    { id: 'goal-precision', target: 'aumentar precis├úo preditiva', horizonDays: 90 },\r\n  ];\r\n}\r\n\r\nexport function generateStrategicPlan(state: any, goals: any[]) {\r\n  return goals.map(g => ({\r\n    goalId: g.id,\r\n    actions: ['rodar simula├º├úo', 'ajustar pesos', 'monitorar m├®tricas'],\r\n    priority: 'high',\r\n  }));\r\n}\r\n\r\nexport function recommendGlobalAdjustments(state: any) {\r\n  return ['elevar sensibilidade de detec├º├úo', 'reduzir lat├¬ncia em pipelines cr├¡ticos'];\r\n}\r\n\r\nexport function detectStrategicConflicts(state: any) {\r\n  const conflicts = [];\r\n  if (state?.risk?.level === 'high' && state?.opportunity?.signal === 'strong') {\r\n    conflicts.push('Prioridade conflito: risco alto vs oportunidade forte');\r\n    emitEvent('ai:strategic-conflict-detected', { conflicts }, { source: 'strategicEngine', priority: 7 });\r\n  }\r\n  return conflicts;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\suggestionThrottler.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'UserActivityState' is defined but never used. Allowed unused vars must match /^_/u.","line":18,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * SuggestionThrottler - Motor de Controle de Frequ├¬ncia de Sugest├Áes\n *\n * Este engine ├® respons├ível por:\n * - Controlar a taxa de sugest├Áes mostradas ao usu├írio\n * - Implementar cooldowns inteligentes baseados em contexto\n * - Prevenir fadiga de sugest├Áes\n * - Priorizar sugest├Áes baseado em urg├¬ncia e relev├óncia\n *\n * @module azuria_ai/engines/suggestionThrottler\n */\n\nimport type {\n  Suggestion,\n  SuggestionPriority,\n  SuggestionType,\n  ThrottleRules,\n  UserActivityState,\n  UserContext,\n} from '../types/operational';\nimport { eventBus } from '../core/eventBus';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** Janela de tempo para contagem de sugest├Áes (1 minuto) */\nconst MINUTE_WINDOW_MS = 60000;\n\n/** Janela de tempo para contagem por tipo (1 hora) */\nconst HOUR_WINDOW_MS = 3600000;\n\n/** Cooldown padr├úo ap├│s dismiss (ms) */\nconst DEFAULT_DISMISS_COOLDOWN = 30000;\n\n/** Dura├º├úo do sil├¬ncio durante digita├º├úo (ms) */\nconst TYPING_SILENCE_DURATION = 5000;\n\n/** Dura├º├úo do sil├¬ncio ap├│s erro (ms) */\nconst DEFAULT_ERROR_SILENCE_DURATION = 10000;\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Registro de sugest├úo mostrada */\ninterface SuggestionRecord {\n  /** ID da sugest├úo */\n  id: string;\n  /** Tipo da sugest├úo */\n  type: SuggestionType;\n  /** Prioridade */\n  priority: SuggestionPriority;\n  /** Quando foi mostrada */\n  shownAt: number;\n  /** Se foi dismissed */\n  dismissed: boolean;\n  /** Se foi aceita */\n  accepted: boolean;\n  /** Tela onde foi mostrada */\n  screen: string;\n}\n\n/** Resultado da avalia├º├úo de throttle */\nexport interface ThrottleResult {\n  /** Se a sugest├úo pode ser mostrada */\n  allowed: boolean;\n  /** Raz├úo se bloqueada */\n  reason?: string;\n  /** Tempo estimado at├® poder mostrar (ms) */\n  waitTime?: number;\n  /** Prioridade ajustada */\n  adjustedPriority?: SuggestionPriority;\n}\n\n/** Estado do throttler */\ninterface ThrottlerState {\n  initialized: boolean;\n  rules: ThrottleRules;\n  history: SuggestionRecord[];\n  lastDismissAt: number;\n  lastErrorAt: number;\n  lastTypingAt: number;\n  silencedUntil: number;\n  userContext: UserContext | null;\n  pendingQueue: Suggestion[];\n}\n\n/** Configura├º├úo adaptativa baseada em comportamento */\ninterface AdaptiveConfig {\n  /** Multiplicador de cooldown baseado em dismisses */\n  cooldownMultiplier: number;\n  /** Threshold din├ómico de sugest├Áes por minuto */\n  dynamicMaxPerMinute: number;\n  /** Se deve reduzir sugest├Áes proativas */\n  reduceProactive: boolean;\n}\n\n// ============================================================================\n// Default Rules\n// ============================================================================\n\nconst DEFAULT_RULES: ThrottleRules = {\n  maxPerMinute: 3,\n  maxSameTypePerHour: 5,\n  dismissCooldown: DEFAULT_DISMISS_COOLDOWN,\n  silenceWhileTyping: true,\n  silenceAfterError: true,\n  errorSilenceDuration: DEFAULT_ERROR_SILENCE_DURATION,\n};\n\n// ============================================================================\n// Engine State\n// ============================================================================\n\nconst state: ThrottlerState = {\n  initialized: false,\n  rules: { ...DEFAULT_RULES },\n  history: [],\n  lastDismissAt: 0,\n  lastErrorAt: 0,\n  lastTypingAt: 0,\n  silencedUntil: 0,\n  userContext: null,\n  pendingQueue: [],\n};\n\n// ============================================================================\n// Core Functions\n// ============================================================================\n\n/**\n * Inicializa o SuggestionThrottler\n */\nexport function initThrottler(rules?: Partial<ThrottleRules>): void {\n  if (state.initialized) {\n    return;\n  }\n\n  state.rules = { ...DEFAULT_RULES, ...rules };\n  state.history = [];\n  state.pendingQueue = [];\n  state.lastDismissAt = 0;\n  state.lastErrorAt = 0;\n  state.lastTypingAt = 0;\n  state.silencedUntil = 0;\n\n  // Subscribe to events\n  setupEventListeners();\n\n  state.initialized = true;\n}\n\n/**\n * Encerra o SuggestionThrottler\n */\nexport function shutdownThrottler(): void {\n  state.initialized = false;\n  state.history = [];\n  state.pendingQueue = [];\n  state.userContext = null;\n}\n\n/**\n * Atualiza regras de throttle\n */\nexport function updateThrottleRules(rules: Partial<ThrottleRules>): void {\n  state.rules = { ...state.rules, ...rules };\n}\n\n/**\n * Atualiza contexto do usu├írio (para decis├Áes adaptativas)\n */\nexport function updateThrottlerContext(context: UserContext): void {\n  state.userContext = context;\n}\n\n// ============================================================================\n// Throttle Evaluation\n// ============================================================================\n\n/**\n * Verifica se uma sugest├úo pode ser mostrada\n */\nexport function canShowSuggestion(suggestion: Suggestion): ThrottleResult {\n  const now = Date.now();\n\n  // 1. Verificar sil├¬ncio for├ºado\n  if (now < state.silencedUntil) {\n    return {\n      allowed: false,\n      reason: 'Silenced period active',\n      waitTime: state.silencedUntil - now,\n    };\n  }\n\n  // 2. Verificar sil├¬ncio durante digita├º├úo\n  if (state.rules.silenceWhileTyping && isTyping(now)) {\n    return {\n      allowed: false,\n      reason: 'User is typing',\n      waitTime: TYPING_SILENCE_DURATION - (now - state.lastTypingAt),\n    };\n  }\n\n  // 3. Verificar cooldown ap├│s dismiss\n  if (now - state.lastDismissAt < state.rules.dismissCooldown) {\n    // Exce├º├úo para sugest├Áes cr├¡ticas\n    if (suggestion.priority !== 'critical') {\n      return {\n        allowed: false,\n        reason: 'Dismiss cooldown active',\n        waitTime: state.rules.dismissCooldown - (now - state.lastDismissAt),\n      };\n    }\n  }\n\n  // 4. Verificar sil├¬ncio ap├│s erro\n  if (\n    state.rules.silenceAfterError &&\n    now - state.lastErrorAt < state.rules.errorSilenceDuration\n  ) {\n    // Exce├º├úo para sugest├Áes de corre├º├úo\n    if (suggestion.type !== 'correction' && suggestion.priority !== 'critical') {\n      return {\n        allowed: false,\n        reason: 'Error silence period',\n        waitTime: state.rules.errorSilenceDuration - (now - state.lastErrorAt),\n      };\n    }\n  }\n\n  // 5. Verificar limite por minuto\n  const recentSuggestions = getSuggestionsInWindow(MINUTE_WINDOW_MS);\n  const adaptiveConfig = getAdaptiveConfig();\n\n  if (recentSuggestions.length >= adaptiveConfig.dynamicMaxPerMinute) {\n    // Exce├º├úo para sugest├Áes cr├¡ticas\n    if (suggestion.priority !== 'critical') {\n      const oldestRecent = recentSuggestions[0];\n      return {\n        allowed: false,\n        reason: 'Rate limit reached',\n        waitTime: oldestRecent.shownAt + MINUTE_WINDOW_MS - now,\n      };\n    }\n  }\n\n  // 6. Verificar limite por tipo por hora\n  const sameTypeSuggestions = getSuggestionsOfTypeInWindow(\n    suggestion.type,\n    HOUR_WINDOW_MS\n  );\n\n  if (sameTypeSuggestions.length >= state.rules.maxSameTypePerHour) {\n    // Exce├º├úo para sugest├Áes cr├¡ticas\n    if (suggestion.priority !== 'critical') {\n      const oldestSameType = sameTypeSuggestions[0];\n      return {\n        allowed: false,\n        reason: `Too many ${suggestion.type} suggestions`,\n        waitTime: oldestSameType.shownAt + HOUR_WINDOW_MS - now,\n      };\n    }\n  }\n\n  // 7. Verificar estado de atividade do usu├írio\n  const activityCheck = checkActivityState(suggestion);\n  if (!activityCheck.allowed) {\n    return activityCheck;\n  }\n\n  // 8. Verificar se usu├írio n├úo quer sugest├Áes proativas\n  if (\n    adaptiveConfig.reduceProactive &&\n    suggestion.type === 'proactive' &&\n    suggestion.priority !== 'critical'\n  ) {\n    return {\n      allowed: false,\n      reason: 'Proactive suggestions reduced based on user behavior',\n    };\n  }\n\n  // Sugest├úo permitida\n  return {\n    allowed: true,\n    adjustedPriority: adjustPriority(suggestion),\n  };\n}\n\n/**\n * Registra que uma sugest├úo foi mostrada\n */\nexport function recordSuggestionShown(suggestion: Suggestion): void {\n  const record: SuggestionRecord = {\n    id: suggestion.id,\n    type: suggestion.type,\n    priority: suggestion.priority,\n    shownAt: Date.now(),\n    dismissed: false,\n    accepted: false,\n    screen: suggestion.context?.screen ?? 'unknown',\n  };\n\n  state.history.push(record);\n\n  // Manter apenas ├║ltimas 100 sugest├Áes\n  if (state.history.length > 100) {\n    state.history = state.history.slice(-100);\n  }\n}\n\n/**\n * Registra que uma sugest├úo foi dismissed\n */\nexport function recordSuggestionDismissed(suggestionId: string): void {\n  const record = state.history.find((r) => r.id === suggestionId);\n  if (record) {\n    record.dismissed = true;\n  }\n\n  state.lastDismissAt = Date.now();\n\n  // Aumentar cooldown se muitos dismisses recentes\n  const recentDismisses = state.history\n    .filter((r) => r.dismissed && Date.now() - r.shownAt < MINUTE_WINDOW_MS * 5)\n    .length;\n\n  if (recentDismisses >= 3) {\n    // Aplicar cooldown estendido tempor├írio\n    state.silencedUntil = Date.now() + state.rules.dismissCooldown * 2;\n  }\n}\n\n/**\n * Registra que uma sugest├úo foi aceita\n */\nexport function recordSuggestionAccepted(suggestionId: string): void {\n  const record = state.history.find((r) => r.id === suggestionId);\n  if (record) {\n    record.accepted = true;\n  }\n}\n\n/**\n * Registra atividade de digita├º├úo\n */\nexport function recordTypingActivity(): void {\n  state.lastTypingAt = Date.now();\n}\n\n/**\n * Registra ocorr├¬ncia de erro\n */\nexport function recordErrorOccurrence(): void {\n  state.lastErrorAt = Date.now();\n}\n\n/**\n * Silencia sugest├Áes por um per├¡odo\n */\nexport function silenceSuggestions(durationMs: number): void {\n  state.silencedUntil = Date.now() + durationMs;\n\n  eventBus.emit({\n    type: 'user:copilot-disabled',\n    payload: { reason: 'manual_silence', duration: durationMs },\n    timestamp: Date.now(),\n    source: 'suggestion-throttler',\n  });\n}\n\n/**\n * Remove silenciamento\n */\nexport function unsilenceSuggestions(): void {\n  state.silencedUntil = 0;\n\n  eventBus.emit({\n    type: 'user:copilot-enabled',\n    payload: { reason: 'manual_unsilence' },\n    timestamp: Date.now(),\n    source: 'suggestion-throttler',\n  });\n}\n\n// ============================================================================\n// Queue Management\n// ============================================================================\n\n/**\n * Adiciona sugest├úo ├á fila de espera\n */\nexport function queueSuggestion(suggestion: Suggestion): void {\n  // Verificar se j├í existe na fila\n  if (state.pendingQueue.some((s) => s.id === suggestion.id)) {\n    return;\n  }\n\n  state.pendingQueue.push(suggestion);\n\n  // Ordenar por prioridade\n  state.pendingQueue.sort((a, b) => {\n    const priorityOrder = { critical: 0, high: 1, medium: 2, low: 3 };\n    return priorityOrder[a.priority] - priorityOrder[b.priority];\n  });\n\n  // Limitar tamanho da fila\n  if (state.pendingQueue.length > 10) {\n    state.pendingQueue = state.pendingQueue.slice(0, 10);\n  }\n}\n\n/**\n * Obt├®m pr├│xima sugest├úo da fila que pode ser mostrada\n */\nexport function getNextAllowedSuggestion(): Suggestion | null {\n  for (let i = 0; i < state.pendingQueue.length; i++) {\n    const suggestion = state.pendingQueue[i];\n    const result = canShowSuggestion(suggestion);\n\n    if (result.allowed) {\n      // Remover da fila\n      state.pendingQueue.splice(i, 1);\n      return suggestion;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Limpa a fila de sugest├Áes\n */\nexport function clearQueue(): void {\n  state.pendingQueue = [];\n}\n\n/**\n * Obt├®m tamanho da fila\n */\nexport function getQueueSize(): number {\n  return state.pendingQueue.length;\n}\n\n// ============================================================================\n// Statistics\n// ============================================================================\n\n/**\n * Obt├®m estat├¡sticas de throttling\n */\nexport function getThrottleStats(): {\n  suggestionsLastMinute: number;\n  suggestionsLastHour: number;\n  dismissRate: number;\n  acceptRate: number;\n  isSilenced: boolean;\n  adaptiveConfig: AdaptiveConfig;\n} {\n  const now = Date.now();\n  const lastMinute = getSuggestionsInWindow(MINUTE_WINDOW_MS);\n  const lastHour = getSuggestionsInWindow(HOUR_WINDOW_MS);\n\n  const totalRecent = lastHour.length;\n  const dismissedRecent = lastHour.filter((r) => r.dismissed).length;\n  const acceptedRecent = lastHour.filter((r) => r.accepted).length;\n\n  return {\n    suggestionsLastMinute: lastMinute.length,\n    suggestionsLastHour: totalRecent,\n    dismissRate: totalRecent > 0 ? dismissedRecent / totalRecent : 0,\n    acceptRate: totalRecent > 0 ? acceptedRecent / totalRecent : 0,\n    isSilenced: now < state.silencedUntil,\n    adaptiveConfig: getAdaptiveConfig(),\n  };\n}\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\nfunction getSuggestionsInWindow(windowMs: number): SuggestionRecord[] {\n  const cutoff = Date.now() - windowMs;\n  return state.history.filter((r) => r.shownAt >= cutoff);\n}\n\nfunction getSuggestionsOfTypeInWindow(\n  type: SuggestionType,\n  windowMs: number\n): SuggestionRecord[] {\n  const cutoff = Date.now() - windowMs;\n  return state.history.filter((r) => r.type === type && r.shownAt >= cutoff);\n}\n\nfunction isTyping(now: number): boolean {\n  return now - state.lastTypingAt < TYPING_SILENCE_DURATION;\n}\n\nfunction getAdaptiveConfig(): AdaptiveConfig {\n  const recentHistory = getSuggestionsInWindow(HOUR_WINDOW_MS);\n  const dismissed = recentHistory.filter((r) => r.dismissed).length;\n  const total = recentHistory.length;\n\n  // Taxa de dismiss\n  const dismissRate = total > 0 ? dismissed / total : 0;\n\n  // Ajustar baseado em comportamento\n  let cooldownMultiplier = 1;\n  let dynamicMaxPerMinute = state.rules.maxPerMinute;\n  let reduceProactive = false;\n\n  if (dismissRate > 0.7) {\n    // Usu├írio n├úo est├í gostando das sugest├Áes\n    cooldownMultiplier = 2;\n    dynamicMaxPerMinute = Math.max(1, state.rules.maxPerMinute - 1);\n    reduceProactive = true;\n  } else if (dismissRate > 0.5) {\n    cooldownMultiplier = 1.5;\n    dynamicMaxPerMinute = Math.max(2, state.rules.maxPerMinute - 1);\n    reduceProactive = true;\n  } else if (dismissRate < 0.2 && total > 5) {\n    // Usu├írio est├í aceitando bem\n    cooldownMultiplier = 0.75;\n    dynamicMaxPerMinute = Math.min(5, state.rules.maxPerMinute + 1);\n  }\n\n  // Ajustar baseado em skill level do usu├írio\n  if (state.userContext?.skillLevel === 'expert') {\n    dynamicMaxPerMinute = Math.max(1, dynamicMaxPerMinute - 1);\n    reduceProactive = true;\n  } else if (state.userContext?.skillLevel === 'beginner') {\n    dynamicMaxPerMinute = Math.min(5, dynamicMaxPerMinute + 1);\n  }\n\n  return {\n    cooldownMultiplier,\n    dynamicMaxPerMinute,\n    reduceProactive,\n  };\n}\n\nfunction checkActivityState(suggestion: Suggestion): ThrottleResult {\n  if (!state.userContext) {\n    return { allowed: true };\n  }\n\n  const activityState = state.userContext.activityState;\n\n  // N├úo interromper durante c├ílculo (exceto para corre├º├Áes/warnings)\n  if (activityState === 'calculating') {\n    if (suggestion.type !== 'correction' && suggestion.type !== 'warning') {\n      return {\n        allowed: false,\n        reason: 'User is calculating',\n      };\n    }\n  }\n\n  // N├úo interromper durante preenchimento de formul├írio (exceto para dicas relacionadas)\n  if (activityState === 'filling-form') {\n    if (\n      suggestion.type !== 'hint' &&\n      suggestion.type !== 'correction' &&\n      suggestion.priority !== 'critical'\n    ) {\n      return {\n        allowed: false,\n        reason: 'User is filling a form',\n      };\n    }\n  }\n\n  // Durante erro, priorizar sugest├Áes de ajuda\n  if (activityState === 'error-state') {\n    if (suggestion.type !== 'correction' && suggestion.priority !== 'critical') {\n      // Reduzir mas n├úo bloquear\n      return {\n        allowed: true,\n        adjustedPriority: 'low',\n      };\n    }\n  }\n\n  return { allowed: true };\n}\n\nfunction adjustPriority(suggestion: Suggestion): SuggestionPriority {\n  let priority = suggestion.priority;\n\n  // Aumentar prioridade se usu├írio est├í hesitando e sugest├úo ├® relevante\n  if (\n    state.userContext?.activityState === 'hesitating' &&\n    (suggestion.type === 'hint' || suggestion.type === 'explanation')\n  ) {\n    if (priority === 'low') {priority = 'medium';}\n    if (priority === 'medium') {priority = 'high';}\n  }\n\n  // Aumentar prioridade se usu├írio est├í em estado de erro\n  if (\n    state.userContext?.activityState === 'error-state' &&\n    suggestion.type === 'correction'\n  ) {\n    priority = 'high';\n  }\n\n  // Reduzir prioridade de sugest├Áes proativas para experts\n  if (\n    state.userContext?.skillLevel === 'expert' &&\n    suggestion.type === 'proactive'\n  ) {\n    if (priority === 'high') {priority = 'medium';}\n    if (priority === 'medium') {priority = 'low';}\n  }\n\n  return priority;\n}\n\nfunction setupEventListeners(): void {\n  // Escutar eventos de input para detectar digita├º├úo\n  eventBus.subscribe('user:input', (event) => {\n    const payload = event.payload as { interactionType?: string; event?: string };\n    if (\n      payload.interactionType === 'input' ||\n      payload.event === 'keypress'\n    ) {\n      recordTypingActivity();\n    }\n  });\n\n  // Escutar eventos de erro\n  eventBus.subscribe('user:error', () => {\n    recordErrorOccurrence();\n  });\n\n  // Escutar eventos de sugest├úo\n  eventBus.subscribe('user:suggestion-dismissed', (event) => {\n    const { suggestionId } = event.payload as { suggestionId: string };\n    recordSuggestionDismissed(suggestionId);\n  });\n\n  eventBus.subscribe('user:suggestion-accepted', (event) => {\n    const { suggestionId } = event.payload as { suggestionId: string };\n    recordSuggestionAccepted(suggestionId);\n  });\n\n  // Escutar eventos de contexto\n  eventBus.subscribe('user:context-updated', (event) => {\n    const { context } = event.payload as { context: UserContext };\n    if (context) {\n      updateThrottlerContext(context);\n    }\n  });\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport const suggestionThrottler = {\n  init: initThrottler,\n  shutdown: shutdownThrottler,\n  updateRules: updateThrottleRules,\n  updateContext: updateThrottlerContext,\n  canShow: canShowSuggestion,\n  recordShown: recordSuggestionShown,\n  recordDismissed: recordSuggestionDismissed,\n  recordAccepted: recordSuggestionAccepted,\n  recordTyping: recordTypingActivity,\n  recordError: recordErrorOccurrence,\n  silence: silenceSuggestions,\n  unsilence: unsilenceSuggestions,\n  queue: queueSuggestion,\n  getNext: getNextAllowedSuggestion,\n  clearQueue,\n  getQueueSize,\n  getStats: getThrottleStats,\n};\n\nexport default suggestionThrottler;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\systemMindEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[99,102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[99,102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[476,479],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[476,479],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[759,762],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[759,762],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[827,830],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[827,830],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1055,1058],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1055,1058],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\ntype MindState = {\r\n  globalState: Record<string, any>;\r\n  confidenceMap: Record<string, number>;\r\n  anomalies: string[];\r\n  healthScore: number;\r\n};\r\n\r\nconst mindState: MindState = {\r\n  globalState: {},\r\n  confidenceMap: {},\r\n  anomalies: [],\r\n  healthScore: 0.75,\r\n};\r\n\r\nfunction clamp(v: number, min = 0, max = 1) {\r\n  return Math.max(min, Math.min(max, v));\r\n}\r\n\r\nexport function computeGlobalState(sources: Record<string, any> = {}) {\r\n  mindState.globalState = { ...mindState.globalState, ...sources };\r\n  mindState.healthScore = clamp(0.6 + Object.keys(sources).length * 0.02);\r\n  emitGlobalMindSnapshot();\r\n  return mindState.globalState;\r\n}\r\n\r\nexport function harmonizeSignals(signals: Record<string, any> = {}) {\r\n  const conflicts = Object.values(signals).filter((s: any) => s?.conflict).length;\r\n  mindState.healthScore = clamp(mindState.healthScore - conflicts * 0.05);\r\n  emitGlobalMindSnapshot();\r\n  return { conflicts };\r\n}\r\n\r\nexport function detectInternalAnomalies(inputs: Record<string, any> = {}) {\r\n  const anomalies: string[] = [];\r\n  Object.entries(inputs).forEach(([k, v]) => {\r\n    if (v && v.health && v.health < 0.3) {anomalies.push(`low-health:${k}`);}\r\n  });\r\n  mindState.anomalies = anomalies;\r\n  if (anomalies.length > 0) {\r\n    emitEvent('ai:mind-warning', { anomalies }, { source: 'systemMindEngine', priority: 8 });\r\n  }\r\n  emitGlobalMindSnapshot();\r\n  return anomalies;\r\n}\r\n\r\nexport function rankEngineConfidence(confidenceMap: Record<string, number> = {}) {\r\n  mindState.confidenceMap = confidenceMap;\r\n  const avg = Object.values(confidenceMap).reduce((a, b) => a + b, 0) / (Object.keys(confidenceMap).length || 1);\r\n  mindState.healthScore = clamp((mindState.healthScore + avg) / 2);\r\n  emitGlobalMindSnapshot();\r\n  return confidenceMap;\r\n}\r\n\r\nexport function emitGlobalMindSnapshot() {\r\n  emitEvent(\r\n    'ai:mind-snapshot',\r\n    { state: mindState.globalState, confidenceMap: mindState.confidenceMap, anomalies: mindState.anomalies, healthScore: mindState.healthScore },\r\n    { source: 'systemMindEngine', priority: 7 }\r\n  );\r\n}\r\n\r\nexport function resetMindState() {\r\n  mindState.globalState = {};\r\n  mindState.confidenceMap = {};\r\n  mindState.anomalies = [];\r\n  mindState.healthScore = 0.75;\r\n  emitGlobalMindSnapshot();\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\temporalEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[157,160],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[157,160],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[588,591],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[588,591],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\ntype Scope = 'user' | 'calculation' | 'session' | 'global';\r\ntype TemporalEntry = { event: string; payload: any; timestamp: number };\r\n\r\nconst MAX_ENTRIES = 300;\r\n\r\nconst temporalMemory: Record<Scope, TemporalEntry[]> = {\r\n  user: [],\r\n  calculation: [],\r\n  session: [],\r\n  global: [],\r\n};\r\n\r\nfunction push(scope: Scope, entry: TemporalEntry) {\r\n  const list = temporalMemory[scope];\r\n  list.push(entry);\r\n  if (list.length > MAX_ENTRIES) {list.shift();}\r\n}\r\n\r\nexport function recordTemporalEvent(scope: Scope, eventName: string, payload: any) {\r\n  const entry: TemporalEntry = { event: eventName, payload, timestamp: Date.now() };\r\n  push(scope, entry);\r\n  emitEvent('ai:temporal-event', { scope, entry }, { source: 'temporalEngine', priority: 6 });\r\n}\r\n\r\nexport function getTimeline(scope: Scope): TemporalEntry[] {\r\n  return [...temporalMemory[scope]];\r\n}\r\n\r\nexport function computeTrends(scope: Scope) {\r\n  const data = temporalMemory[scope];\r\n  if (data.length < 5) {return null;}\r\n  const last = data.slice(-10);\r\n  const growth = last.filter(e => e.payload?.status === 'success').length / last.length;\r\n  const decline = last.filter(e => e.payload?.status === 'error').length / last.length;\r\n  const trend = growth >= decline ? 'growth' : 'decline';\r\n  const repetitions = findRepetitions(last.map(e => e.event));\r\n  const result = { scope, trend, repetitions };\r\n  emitEvent('ai:trend-detected', result, { source: 'temporalEngine', priority: 6 });\r\n  return result;\r\n}\r\n\r\nexport function predictFutureState(scope: Scope) {\r\n  const trend = computeTrends(scope);\r\n  if (!trend) {return null;}\r\n  const prediction = {\r\n    scope,\r\n    expected: trend.trend === 'growth' ? 'increasing_activity' : 'potential_drop',\r\n    repetitions: trend.repetitions,\r\n  };\r\n  emitEvent('ai:future-state-predicted', prediction, { source: 'temporalEngine', priority: 6 });\r\n  return prediction;\r\n}\r\n\r\nexport function detectTemporalAnomaly(scope: Scope) {\r\n  const data = temporalMemory[scope];\r\n  if (data.length < 4) {return null;}\r\n  const last = data.slice(-4);\r\n  const times = last.map(e => e.timestamp);\r\n  const diffs = times.slice(1).map((t, i) => t - times[i]);\r\n  const avg = diffs.reduce((a, b) => a + b, 0) / diffs.length;\r\n  const hasSpike = diffs.some(d => d > avg * 3);\r\n  if (hasSpike) {\r\n    const anomaly = { scope, message: 'Ruptura temporal detectada', diffs };\r\n    emitEvent('ai:temporal-anomaly', anomaly, { source: 'temporalEngine', priority: 7 });\r\n    return anomaly;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction findRepetitions(items: string[]) {\r\n  const counts: Record<string, number> = {};\r\n  items.forEach(i => (counts[i] = (counts[i] || 0) + 1));\r\n  return Object.entries(counts)\r\n    .filter(([, c]) => c >= 2)\r\n    .map(([k]) => k);\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\tipEngine.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":302,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":302,"endColumn":14,"suggestions":[{"fix":{"range":[8349,8455],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-case-declarations","severity":2,"message":"Unexpected lexical declaration in case block.","line":502,"column":9,"nodeType":"VariableDeclaration","messageId":"unexpected","endLine":502,"endColumn":69,"suggestions":[{"messageId":"addBrackets","fix":{"range":[13965,14089],"text":"{ const recent = state.currentContext.recentActions.slice(-5);\n        return new Set(recent).size <= 2 && recent.length >= 4; }"},"desc":"Add {} brackets around the case block."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * TipEngine - Motor de Dicas Contextuais\n * Modo Deus - N├¡vel 44: Assist├¬ncia Contextual\n *\n * Responsabilidades:\n * - Gerar dicas contextuais baseadas na tela atual\n * - Timing otimizado para n├úo interromper o fluxo\n * - Adaptar ao skill level do usu├írio\n * - Integra├º├úo com PatternLearning e Predictive\n * - UI n├úo-intrusiva\n *\n * @module azuria_ai/engines/tipEngine\n */\n\nimport { eventBus } from '../events/eventBus';\nimport { patternLearning } from './patternLearningEngine';\nimport { predictiveEngine } from './predictiveEngine';\nimport type { UserSuggestion } from '../types/operational';\n\n// =============================================================================\n// TYPES\n// =============================================================================\n\n/**\n * Tipos de dicas\n */\nexport type TipType =\n  | 'quick_action' // A├º├úo r├ípida sugerida\n  | 'shortcut' // Atalho de teclado\n  | 'feature_discovery' // Descoberta de recurso\n  | 'best_practice' // Boa pr├ítica\n  | 'time_saver' // Economia de tempo\n  | 'pro_tip' // Dica profissional\n  | 'warning' // Aviso preventivo\n  | 'help'; // Ajuda contextual\n\n/**\n * Categoria de dica\n */\nexport type TipCategory =\n  | 'calculator' // Dicas de calculadora\n  | 'navigation' // Navega├º├úo\n  | 'data_entry' // Entrada de dados\n  | 'export' // Exporta├º├úo\n  | 'pricing' // Precifica├º├úo\n  | 'general'; // Geral\n\n/**\n * Skill level do usu├írio\n */\nexport type SkillLevel = 'beginner' | 'intermediate' | 'advanced' | 'expert';\n\n/**\n * Contexto para gera├º├úo de dica\n */\nexport interface TipContext {\n  currentScreen: string;\n  userSkillLevel: SkillLevel;\n  sessionDuration: number;\n  recentActions: string[];\n  idleTime: number;\n  isTyping: boolean;\n  errorCount: number;\n  completedTasks: string[];\n  timeOfDay: 'morning' | 'afternoon' | 'evening' | 'night';\n}\n\n/**\n * Dica gerada\n */\nexport interface ContextualTip {\n  id: string;\n  type: TipType;\n  category: TipCategory;\n  title: string;\n  message: string;\n  action?: {\n    label: string;\n    handler: string; // Event to emit or function to call\n  };\n  triggerConditions: string[];\n  displayDuration: number; // ms\n  priority: 'low' | 'medium' | 'high';\n  targetSkillLevels: SkillLevel[];\n}\n\n/**\n * Configura├º├úo de throttle\n */\ninterface ThrottleConfig {\n  minTimeBetweenTips: number; // ms\n  maxTipsPerHour: number;\n  respectTyping: boolean;\n  respectErrors: boolean;\n}\n\n// =============================================================================\n// STATE\n// =============================================================================\n\ninterface TipEngineState {\n  initialized: boolean;\n  currentContext: TipContext;\n  lastTipShownAt: number;\n  tipsShownThisHour: number;\n  lastHourReset: number;\n  userSkillLevel: SkillLevel;\n  suppressedCategories: Set<TipCategory>;\n  shownTipIds: Set<string>; // Para n├úo repetir\n}\n\nconst state: TipEngineState = {\n  initialized: false,\n  currentContext: {\n    currentScreen: '',\n    userSkillLevel: 'beginner',\n    sessionDuration: 0,\n    recentActions: [],\n    idleTime: 0,\n    isTyping: false,\n    errorCount: 0,\n    completedTasks: [],\n    timeOfDay: 'morning',\n  },\n  lastTipShownAt: 0,\n  tipsShownThisHour: 0,\n  lastHourReset: Date.now(),\n  userSkillLevel: 'beginner',\n  suppressedCategories: new Set(),\n  shownTipIds: new Set(),\n};\n\n// Configuration\nconst CONFIG: ThrottleConfig = {\n  minTimeBetweenTips: 120000, // 2 minutes\n  maxTipsPerHour: 5,\n  respectTyping: true,\n  respectErrors: true, // Don't show tips if user just had errors\n};\n\n// =============================================================================\n// TIP LIBRARY\n// =============================================================================\n\n/**\n * Biblioteca de dicas pr├®-definidas\n */\nconst TIP_LIBRARY: Record<string, ContextualTip[]> = {\n  'calculator/markup': [\n    {\n      id: 'markup-shortcut',\n      type: 'shortcut',\n      category: 'calculator',\n      title: 'Atalho r├ípido',\n      message: 'Pressione Tab para navegar entre os campos rapidamente',\n      triggerConditions: ['first_visit', 'beginner'],\n      displayDuration: 5000,\n      priority: 'low',\n      targetSkillLevels: ['beginner', 'intermediate'],\n    },\n    {\n      id: 'markup-vs-margin',\n      type: 'feature_discovery',\n      category: 'calculator',\n      title: 'Diferen├ºa importante',\n      message: 'Markup e Margem s├úo diferentes! Clique em \"?\" para entender a diferen├ºa',\n      action: {\n        label: 'Ver explica├º├úo',\n        handler: 'show-markup-margin-explanation',\n      },\n      triggerConditions: ['multiple_visits', 'confusion_detected'],\n      displayDuration: 8000,\n      priority: 'high',\n      targetSkillLevels: ['beginner'],\n    },\n    {\n      id: 'markup-quick-calc',\n      type: 'time_saver',\n      category: 'calculator',\n      title: 'C├ílculo r├ípido',\n      message: 'Digite o valor e pressione Enter para calcular automaticamente',\n      triggerConditions: ['intermediate_user'],\n      displayDuration: 4000,\n      priority: 'medium',\n      targetSkillLevels: ['intermediate'],\n    },\n  ],\n  'calculator/margin': [\n    {\n      id: 'margin-recommendation',\n      type: 'best_practice',\n      category: 'pricing',\n      title: 'Margem saud├ível',\n      message: 'Para produtos de revenda, recomenda-se margem m├¡nima de 30%',\n      triggerConditions: ['low_margin_entered'],\n      displayDuration: 6000,\n      priority: 'medium',\n      targetSkillLevels: ['beginner', 'intermediate'],\n    },\n    {\n      id: 'margin-history',\n      type: 'feature_discovery',\n      category: 'calculator',\n      title: 'Hist├│rico salvo',\n      message: 'Seus c├ílculos ficam salvos no hist├│rico. Acesse pelo menu lateral',\n      triggerConditions: ['multiple_calculations'],\n      displayDuration: 5000,\n      priority: 'low',\n      targetSkillLevels: ['beginner'],\n    },\n  ],\n  'calculator/price': [\n    {\n      id: 'price-taxes',\n      type: 'warning',\n      category: 'pricing',\n      title: 'Aten├º├úo aos impostos',\n      message: 'N├úo esque├ºa de incluir os impostos no c├ílculo. Verifique a categoria tribut├íria',\n      triggerConditions: ['no_tax_selected'],\n      displayDuration: 7000,\n      priority: 'high',\n      targetSkillLevels: ['beginner', 'intermediate'],\n    },\n    {\n      id: 'price-advanced-calc',\n      type: 'pro_tip',\n      category: 'calculator',\n      title: 'Calculadora avan├ºada',\n      message: 'Experimente a Calculadora Avan├ºada para m├║ltiplos produtos de uma vez',\n      triggerConditions: ['frequent_user', 'multiple_calculations'],\n      displayDuration: 6000,\n      priority: 'medium',\n      targetSkillLevels: ['intermediate', 'advanced'],\n    },\n  ],\n  'calculator/bdi': [\n    {\n      id: 'bdi-complexity',\n      type: 'help',\n      category: 'calculator',\n      title: 'C├ílculo complexo',\n      message: 'BDI inclui custos indiretos. Preencha todos os campos para precis├úo',\n      triggerConditions: ['first_visit'],\n      displayDuration: 8000,\n      priority: 'high',\n      targetSkillLevels: ['beginner'],\n    },\n  ],\n  'export': [\n    {\n      id: 'export-formats',\n      type: 'feature_discovery',\n      category: 'export',\n      title: 'M├║ltiplos formatos',\n      message: 'Voc├¬ pode exportar em PDF, Excel ou CSV. Escolha o melhor para voc├¬',\n      triggerConditions: ['first_export'],\n      displayDuration: 5000,\n      priority: 'medium',\n      targetSkillLevels: ['beginner', 'intermediate'],\n    },\n  ],\n  'home': [\n    {\n      id: 'home-quick-start',\n      type: 'quick_action',\n      category: 'navigation',\n      title: 'Comece r├ípido',\n      message: 'A maioria dos usu├írios come├ºa pela Calculadora de Markup. Quer tentar?',\n      action: {\n        label: 'Ir para Markup',\n        handler: 'navigate-to-markup',\n      },\n      triggerConditions: ['new_user', 'idle'],\n      displayDuration: 10000,\n      priority: 'high',\n      targetSkillLevels: ['beginner'],\n    },\n  ],\n};\n\n// =============================================================================\n// INITIALIZATION\n// =============================================================================\n\n/**\n * Inicializa o TipEngine\n */\nexport function initTipEngine(): void {\n  if (state.initialized) {return;}\n\n  // Detectar skill level do usu├írio\n  detectUserSkillLevel();\n\n  // Setup event listeners\n  setupEventListeners();\n\n  // Start periodic context updates\n  startContextMonitoring();\n\n  state.initialized = true;\n\n  console.log('[TipEngine] Initialized', {\n    skillLevel: state.userSkillLevel,\n    throttle: CONFIG,\n  });\n}\n\n/**\n * Detecta skill level do usu├írio baseado em padr├Áes\n */\nfunction detectUserSkillLevel(): void {\n  try {\n    // Tenta obter do PatternLearning\n    const patterns = patternLearning.getPatternsByType('skill_progression');\n    \n    if (patterns.length > 0) {\n      const latest = patterns.sort(\n        (a, b) => b.lastDetected.getTime() - a.lastDetected.getTime()\n      )[0];\n      \n      const data = latest.data as { level?: SkillLevel };\n      state.userSkillLevel = data.level ?? 'beginner';\n      state.currentContext.userSkillLevel = state.userSkillLevel;\n      return;\n    }\n\n    // Heur├¡stica baseada em uso\n    const calcPatterns = patternLearning.getPatternsByType('calculation');\n    const navPatterns = patternLearning.getPatternsByType('navigation');\n\n    const totalUsage = calcPatterns.length + navPatterns.length;\n\n    if (totalUsage > 50) {state.userSkillLevel = 'expert';}\n    else if (totalUsage > 20) {state.userSkillLevel = 'advanced';}\n    else if (totalUsage > 5) {state.userSkillLevel = 'intermediate';}\n    else {state.userSkillLevel = 'beginner';}\n\n    state.currentContext.userSkillLevel = state.userSkillLevel;\n  } catch {\n    // Default to beginner\n    state.userSkillLevel = 'beginner';\n    state.currentContext.userSkillLevel = 'beginner';\n  }\n}\n\n// =============================================================================\n// CONTEXT MANAGEMENT\n// =============================================================================\n\n/**\n * Atualiza contexto da dica\n */\nexport function updateTipContext(context: Partial<TipContext>): void {\n  Object.assign(state.currentContext, context);\n\n  // Auto-detect time of day\n  if (!context.timeOfDay) {\n    const hour = new Date().getHours();\n    if (hour >= 5 && hour < 12) {state.currentContext.timeOfDay = 'morning';}\n    else if (hour >= 12 && hour < 17) {state.currentContext.timeOfDay = 'afternoon';}\n    else if (hour >= 17 && hour < 21) {state.currentContext.timeOfDay = 'evening';}\n    else {state.currentContext.timeOfDay = 'night';}\n  }\n}\n\n/**\n * Atualiza tela atual\n */\nexport function setCurrentScreen(screen: string): void {\n  state.currentContext.currentScreen = screen;\n  \n  // Try to show relevant tip after screen change\n  setTimeout(() => {\n    tryShowContextualTip();\n  }, 2000); // Wait 2s for user to settle\n}\n\n// =============================================================================\n// TIP GENERATION\n// =============================================================================\n\n/**\n * Tenta mostrar dica contextual\n */\nexport function tryShowContextualTip(): UserSuggestion | null {\n  // Check throttle\n  if (!canShowTip()) {\n    return null;\n  }\n\n  // Generate tip\n  const tip = generateBestTip();\n\n  if (!tip) {\n    return null;\n  }\n\n  // Mark as shown\n  markTipShown(tip.id);\n\n  // Convert to UserSuggestion\n  const suggestion = tipToSuggestion(tip);\n\n  // Emit event\n  eventBus.emit('ai:suggestion-generated', {\n    source: 'tip-engine',\n    suggestion,\n    context: state.currentContext,\n  }, { source: 'tip-engine' });\n\n  return suggestion;\n}\n\n/**\n * Gera a melhor dica para o contexto atual\n */\nfunction generateBestTip(): ContextualTip | null {\n  const { currentScreen, userSkillLevel } = state.currentContext;\n\n  // Get tips for current screen\n  const screenTips = TIP_LIBRARY[currentScreen] ?? [];\n\n  if (screenTips.length === 0) {\n    return null;\n  }\n\n  // Filter by skill level and conditions\n  const relevantTips = screenTips.filter((tip) => {\n    // Already shown?\n    if (state.shownTipIds.has(tip.id)) {\n      return false;\n    }\n\n    // Right skill level?\n    if (!tip.targetSkillLevels.includes(userSkillLevel)) {\n      return false;\n    }\n\n    // Category suppressed?\n    if (state.suppressedCategories.has(tip.category)) {\n      return false;\n    }\n\n    // Check trigger conditions\n    return checkTriggerConditions(tip.triggerConditions);\n  });\n\n  if (relevantTips.length === 0) {\n    return null;\n  }\n\n  // Sort by priority\n  const priorityOrder = { critical: 4, high: 3, medium: 2, low: 1 };\n  relevantTips.sort((a, b) => priorityOrder[b.priority] - priorityOrder[a.priority]);\n\n  return relevantTips[0];\n}\n\n/**\n * Verifica condi├º├Áes de trigger\n */\nfunction checkTriggerConditions(conditions: string[]): boolean {\n  for (const condition of conditions) {\n    switch (condition) {\n      case 'first_visit':\n        // Check if this is first time on this screen\n        return state.currentContext.sessionDuration < 60000;\n\n      case 'multiple_visits':\n        // User has been here before\n        return state.currentContext.sessionDuration > 60000;\n\n      case 'beginner':\n        return state.userSkillLevel === 'beginner';\n\n      case 'intermediate_user':\n        return state.userSkillLevel === 'intermediate';\n\n      case 'frequent_user':\n        return ['advanced', 'expert'].includes(state.userSkillLevel);\n\n      case 'idle':\n        return state.currentContext.idleTime > 30000; // 30s idle\n\n      case 'new_user':\n        return state.userSkillLevel === 'beginner' && \n               state.currentContext.completedTasks.length === 0;\n\n      case 'multiple_calculations':\n        return state.currentContext.completedTasks.length >= 3;\n\n      case 'no_tax_selected':\n        // Would need to check actual form state\n        return false; // Placeholder\n\n      case 'low_margin_entered':\n        // Would need to check actual form state\n        return false; // Placeholder\n\n      case 'confusion_detected':\n        // Check for back-and-forth navigation\n        const recent = state.currentContext.recentActions.slice(-5);\n        return new Set(recent).size <= 2 && recent.length >= 4;\n\n      case 'first_export':\n        return !state.currentContext.completedTasks.some(t => t.includes('export'));\n\n      default:\n        return true;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Converte ContextualTip para UserSuggestion\n */\nfunction tipToSuggestion(tip: ContextualTip): UserSuggestion {\n  return {\n    id: tip.id,\n    type: 'tip',\n    category: 'general',\n    priority: tip.priority,\n    title: tip.title,\n    message: tip.message,\n    actions: tip.action ? [{\n      id: 'primary',\n      label: tip.action.label,\n      type: 'primary',\n      handler: tip.action.handler,\n    }] : undefined,\n    metadata: {\n      createdAt: Date.now(),\n      expiresAt: Date.now() + tip.displayDuration,\n      source: 'tip-engine',\n      confidence: 0.8,\n      tipType: tip.type,\n      tipCategory: tip.category,\n    },\n    status: 'pending',\n  };\n}\n\n// =============================================================================\n// THROTTLING\n// =============================================================================\n\n/**\n * Verifica se pode mostrar dica agora\n */\nfunction canShowTip(): boolean {\n  const now = Date.now();\n\n  // Reset hourly counter\n  if (now - state.lastHourReset > 3600000) {\n    state.tipsShownThisHour = 0;\n    state.lastHourReset = now;\n  }\n\n  // Max per hour\n  if (state.tipsShownThisHour >= CONFIG.maxTipsPerHour) {\n    return false;\n  }\n\n  // Min time between tips\n  if (now - state.lastTipShownAt < CONFIG.minTimeBetweenTips) {\n    return false;\n  }\n\n  // Respect typing\n  if (CONFIG.respectTyping && state.currentContext.isTyping) {\n    return false;\n  }\n\n  // Respect errors\n  if (CONFIG.respectErrors && state.currentContext.errorCount > 0) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Marca dica como mostrada\n */\nfunction markTipShown(tipId: string): void {\n  state.lastTipShownAt = Date.now();\n  state.tipsShownThisHour++;\n  state.shownTipIds.add(tipId);\n}\n\n// =============================================================================\n// PREDICTIVE INTEGRATION\n// =============================================================================\n\n/**\n * Gera dica baseada em predi├º├úo\n */\nexport function generatePredictiveTip(): ContextualTip | null {\n  try {\n    const prediction = predictiveEngine.getMostLikelyNextAction();\n\n    if (!prediction || prediction.probability < 0.7) {\n      return null;\n    }\n\n    return {\n      id: `predictive-${prediction.action}`,\n      type: 'quick_action',\n      category: 'navigation',\n      title: 'Pr├│xima a├º├úo sugerida',\n      message: `A maioria dos usu├írios vai para ${formatAction(prediction.action)}. Quer ir direto?`,\n      action: {\n        label: 'Ir agora',\n        handler: `navigate-to-${prediction.action}`,\n      },\n      triggerConditions: ['high_probability'],\n      displayDuration: 8000,\n      priority: 'medium',\n      targetSkillLevels: ['intermediate', 'advanced', 'expert'],\n    };\n  } catch {\n    return null;\n  }\n}\n\nfunction formatAction(action: string): string {\n  const labels: Record<string, string> = {\n    'calculator/markup': 'Calculadora de Markup',\n    'calculator/margin': 'Calculadora de Margem',\n    'calculator/price': 'Pre├ºo de Venda',\n    'export': 'Exporta├º├úo',\n  };\n  return labels[action] ?? action;\n}\n\n// =============================================================================\n// CONFIGURATION\n// =============================================================================\n\n/**\n * Suprime categoria de dicas\n */\nexport function suppressCategory(category: TipCategory): void {\n  state.suppressedCategories.add(category);\n}\n\n/**\n * Habilita categoria de dicas\n */\nexport function enableCategory(category: TipCategory): void {\n  state.suppressedCategories.delete(category);\n}\n\n/**\n * Atualiza configura├º├úo de throttle\n */\nexport function updateThrottleConfig(config: Partial<ThrottleConfig>): void {\n  Object.assign(CONFIG, config);\n}\n\n/**\n * Define skill level manualmente\n */\nexport function setUserSkillLevel(level: SkillLevel): void {\n  state.userSkillLevel = level;\n  state.currentContext.userSkillLevel = level;\n}\n\n// =============================================================================\n// EVENT LISTENERS\n// =============================================================================\n\nfunction setupEventListeners(): void {\n  // Listen to navigation\n  eventBus.on('user:navigated', (event) => {\n    setCurrentScreen(event.payload.to);\n  });\n\n  // Listen to typing\n  eventBus.on('user:typing', () => {\n    state.currentContext.isTyping = true;\n    setTimeout(() => {\n      state.currentContext.isTyping = false;\n    }, 3000);\n  });\n\n  // Listen to errors\n  eventBus.on('user:error', () => {\n    state.currentContext.errorCount++;\n    // Reset after 5 minutes\n    setTimeout(() => {\n      if (state.currentContext.errorCount > 0) {\n        state.currentContext.errorCount--;\n      }\n    }, 300000);\n  });\n\n  // Listen to task completion\n  eventBus.on('user:task-completed', (event) => {\n    state.currentContext.completedTasks.push(event.payload.taskType);\n  });\n}\n\n// =============================================================================\n// MONITORING\n// =============================================================================\n\nlet monitoringInterval: ReturnType<typeof setInterval> | null = null;\n\nfunction startContextMonitoring(): void {\n  if (monitoringInterval) {\n    clearInterval(monitoringInterval);\n  }\n\n  monitoringInterval = setInterval(() => {\n    // Update session duration\n    state.currentContext.sessionDuration += 30000;\n\n    // Try to show tip if idle\n    if (state.currentContext.idleTime > 60000) {\n      tryShowContextualTip();\n    }\n  }, 30000); // Every 30s\n}\n\n// =============================================================================\n// STATS & DEBUG\n// =============================================================================\n\n/**\n * Retorna estat├¡sticas do engine\n */\nexport function getTipStats(): {\n  skillLevel: SkillLevel;\n  tipsShownThisHour: number;\n  totalTipsShown: number;\n  suppressedCategories: string[];\n  currentContext: TipContext;\n} {\n  return {\n    skillLevel: state.userSkillLevel,\n    tipsShownThisHour: state.tipsShownThisHour,\n    totalTipsShown: state.shownTipIds.size,\n    suppressedCategories: [...state.suppressedCategories],\n    currentContext: { ...state.currentContext },\n  };\n}\n\n/**\n * Reseta dicas mostradas (para testes)\n */\nexport function resetShownTips(): void {\n  state.shownTipIds.clear();\n}\n\n/**\n * Reseta completamente o engine\n */\nexport function resetTipEngine(): void {\n  state.initialized = false;\n  state.shownTipIds.clear();\n  state.suppressedCategories.clear();\n  state.tipsShownThisHour = 0;\n  state.lastTipShownAt = 0;\n\n  if (monitoringInterval) {\n    clearInterval(monitoringInterval);\n    monitoringInterval = null;\n  }\n}\n\n// =============================================================================\n// EXPORTS\n// =============================================================================\n\nexport const tipEngine = {\n  init: initTipEngine,\n  updateContext: updateTipContext,\n  setScreen: setCurrentScreen,\n  tryShow: tryShowContextualTip,\n  generatePredictive: generatePredictiveTip,\n  suppressCategory,\n  enableCategory,\n  updateThrottle: updateThrottleConfig,\n  setSkillLevel: setUserSkillLevel,\n  getStats: getTipStats,\n  resetShown: resetShownTips,\n  reset: resetTipEngine,\n};\n\nexport default tipEngine;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\truthEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[137,140],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[137,140],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":77,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":80,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[224,227],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[224,227],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[407,410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[407,410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[690,693],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[690,693],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1059,1062],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1059,1062],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1075,1078],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1075,1078],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":35,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1422,1425],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1422,1425],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1736,1739],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1736,1739],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1958,1961],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1958,1961],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\n\r\ninterface TruthCheckResult {\r\n  ok: boolean;\r\n  contradictions?: string[];\r\n  details?: any;\r\n}\r\n\r\nfunction emitTruthAlert(severity: 'info' | 'warning' | 'critical', details: any) {\r\n  emitEvent('ai:truth-alert', { severity, details }, { source: 'truthEngine', priority: severity === 'critical' ? 9 : 6 });\r\n}\r\n\r\nexport function checkLogicalCoherence(state: any): TruthCheckResult {\r\n  const contradictions = detectContradictions(state).contradictions;\r\n  const ok = contradictions.length === 0;\r\n  if (!ok) {emitTruthAlert('warning', { contradictions });}\r\n  return { ok, contradictions };\r\n}\r\n\r\nexport function detectContradictions(state: any): TruthCheckResult {\r\n  const contradictions: string[] = [];\r\n  if (state?.pricing?.price < 0) {contradictions.push('Pre├ºo negativo detectado');}\r\n  if (state?.inventory?.stock && state.inventory.stock < 0) {contradictions.push('Estoque negativo');}\r\n  return { ok: contradictions.length === 0, contradictions };\r\n}\r\n\r\nexport function validateRealityModel(reality: any, perceived: any): TruthCheckResult {\r\n  const diff: string[] = [];\r\n  if (reality && perceived && reality.version !== perceived.version) {diff.push('Vers├úo de realidade divergente');}\r\n  const ok = diff.length === 0;\r\n  if (!ok) {emitTruthAlert('warning', { diff });}\r\n  return { ok, contradictions: diff };\r\n}\r\n\r\nexport function auditStateConsistency(state: any): TruthCheckResult {\r\n  const issues: string[] = [];\r\n  if (state?.operational?.load > 1) {issues.push('Load acima de 1');}\r\n  const ok = issues.length === 0;\r\n  if (!ok) {emitTruthAlert('critical', { issues });}\r\n  return { ok, contradictions: issues };\r\n}\r\n\r\nexport function ensureTruthBeforeAction(context: any): boolean {\r\n  const check = checkLogicalCoherence(context);\r\n  if (!check.ok) {return false;}\r\n  const audit = auditStateConsistency(context);\r\n  return audit.ok;\r\n}\r\n\r\nexport function ensureTruthAfterAction(context: any): boolean {\r\n  const validation = validateRealityModel(context?.reality, context?.perceived);\r\n  return validation.ok;\r\n}\r\n\r\nexport { emitTruthAlert };\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\tutorialEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'SkillLevel' is defined but never used. Allowed unused vars must match /^_/u.","line":14,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * TutorialEngine - Motor de Tutoriais Passo-a-Passo\n *\n * Este engine ├® respons├ível por:\n * - Gerenciar tutoriais interativos\n * - Guiar o usu├írio atrav├®s de fluxos complexos\n * - Adaptar tutoriais ao n├¡vel do usu├írio\n * - Rastrear progresso e conquistas\n * - Sugerir tutoriais relevantes\n *\n * @module azuria_ai/engines/tutorialEngine\n */\n\nimport type { CreateSuggestionInput, SkillLevel, UserContext } from '../types/operational';\nimport { eventBus } from '../core/eventBus';\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Status de um passo do tutorial */\nexport type TutorialStepStatus = 'pending' | 'active' | 'completed' | 'skipped';\n\n/** Status geral do tutorial */\nexport type TutorialStatus = 'not-started' | 'in-progress' | 'completed' | 'abandoned';\n\n/** Tipo de a├º├úo esperada em um passo */\nexport type StepActionType =\n  | 'click'\n  | 'input'\n  | 'select'\n  | 'navigate'\n  | 'calculate'\n  | 'read'\n  | 'wait'\n  | 'confirm';\n\n/** Defini├º├úo de um passo do tutorial */\nexport interface TutorialStep {\n  /** ID ├║nico do passo */\n  id: string;\n  /** Ordem do passo */\n  order: number;\n  /** T├¡tulo do passo */\n  title: string;\n  /** Instru├º├úo principal */\n  instruction: string;\n  /** Explica├º├úo detalhada (opcional) */\n  explanation?: string;\n  /** Dica (opcional) */\n  hint?: string;\n  /** Tipo de a├º├úo esperada */\n  actionType: StepActionType;\n  /** Seletor do elemento alvo (CSS selector) */\n  targetSelector?: string;\n  /** Tela onde o passo ocorre */\n  screen?: string;\n  /** Valida├º├úo para considerar completo */\n  validation?: {\n    /** Tipo de valida├º├úo */\n    type: 'element-exists' | 'value-changed' | 'navigation' | 'custom';\n    /** Valor esperado (se aplic├ível) */\n    expectedValue?: string | number;\n    /** Fun├º├úo de valida├º├úo customizada */\n    customValidator?: string;\n  };\n  /** Se pode ser pulado */\n  skippable: boolean;\n  /** Dura├º├úo estimada (segundos) */\n  estimatedDuration: number;\n  /** A├º├úo ao completar */\n  onComplete?: {\n    /** Pr├│ximo passo (se n├úo for sequencial) */\n    nextStepId?: string;\n    /** Evento a emitir */\n    emitEvent?: string;\n    /** Mensagem de sucesso */\n    successMessage?: string;\n  };\n}\n\n/** Defini├º├úo de um tutorial */\nexport interface Tutorial {\n  /** ID ├║nico */\n  id: string;\n  /** T├¡tulo */\n  title: string;\n  /** Descri├º├úo */\n  description: string;\n  /** Categoria */\n  category: 'getting-started' | 'pricing' | 'tax' | 'bidding' | 'advanced' | 'tips';\n  /** N├¡vel de dificuldade */\n  difficulty: 'beginner' | 'intermediate' | 'advanced';\n  /** Passos do tutorial */\n  steps: TutorialStep[];\n  /** Tela inicial */\n  startScreen: string;\n  /** Pr├®-requisitos (IDs de outros tutoriais) */\n  prerequisites?: string[];\n  /** Dura├º├úo total estimada (minutos) */\n  estimatedDuration: number;\n  /** Tags para busca */\n  tags: string[];\n  /** Se est├í habilitado */\n  enabled: boolean;\n  /** Vers├úo */\n  version: number;\n}\n\n/** Progresso do usu├írio em um tutorial */\nexport interface TutorialProgress {\n  /** ID do tutorial */\n  tutorialId: string;\n  /** Status */\n  status: TutorialStatus;\n  /** Passo atual */\n  currentStepIndex: number;\n  /** Passos completados */\n  completedSteps: string[];\n  /** Passos pulados */\n  skippedSteps: string[];\n  /** Quando iniciou */\n  startedAt: number;\n  /** Quando completou (se aplic├ível) */\n  completedAt?: number;\n  /** Tempo total gasto (ms) */\n  timeSpent: number;\n  /** ├Ültima atualiza├º├úo */\n  lastUpdatedAt: number;\n}\n\n/** Conquista do usu├írio */\nexport interface TutorialAchievement {\n  /** ID da conquista */\n  id: string;\n  /** T├¡tulo */\n  title: string;\n  /** Descri├º├úo */\n  description: string;\n  /** ├ìcone */\n  icon: string;\n  /** Quando desbloqueou */\n  unlockedAt: number;\n  /** Tutorial relacionado */\n  tutorialId?: string;\n}\n\n/** Callback para eventos do tutorial */\nexport type TutorialEventCallback = (event: {\n  type: 'step-completed' | 'step-skipped' | 'tutorial-completed' | 'tutorial-abandoned';\n  tutorialId: string;\n  stepId?: string;\n  progress: TutorialProgress;\n}) => void;\n\n// ============================================================================\n// Tutorial Definitions\n// ============================================================================\n\nconst TUTORIALS: Tutorial[] = [\n  // Getting Started\n  {\n    id: 'getting-started',\n    title: 'Primeiros Passos no Azuria',\n    description: 'Aprenda os conceitos b├ísicos e navegue pela plataforma.',\n    category: 'getting-started',\n    difficulty: 'beginner',\n    startScreen: '/',\n    estimatedDuration: 3,\n    tags: ['iniciante', 'b├ísico', 'navega├º├úo'],\n    enabled: true,\n    version: 1,\n    steps: [\n      {\n        id: 'welcome',\n        order: 1,\n        title: 'Bem-vindo ao Azuria!',\n        instruction: 'Vamos conhecer a plataforma. Clique em \"Pr├│ximo\" para continuar.',\n        explanation: 'O Azuria ├® uma plataforma completa para c├ílculos de precifica├º├úo, impostos e licita├º├Áes.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 10,\n      },\n      {\n        id: 'nav-calculator',\n        order: 2,\n        title: 'Acesse a Calculadora',\n        instruction: 'Clique no menu \"Calculadora\" para acessar as ferramentas de c├ílculo.',\n        hint: 'O menu est├í no topo da p├ígina.',\n        actionType: 'click',\n        targetSelector: '[data-nav=\"calculator\"], a[href*=\"calculator\"]',\n        skippable: true,\n        estimatedDuration: 5,\n        onComplete: {\n          successMessage: '├ôtimo! Voc├¬ encontrou a calculadora.',\n        },\n      },\n      {\n        id: 'first-calc-intro',\n        order: 3,\n        title: 'Sua Primeira Calculadora',\n        instruction: 'Esta ├® a calculadora de pre├ºo de venda. Ela ajuda a definir o pre├ºo ideal.',\n        explanation: 'Com ela, voc├¬ pode calcular pre├ºos considerando custos, despesas e margem desejada.',\n        actionType: 'read',\n        screen: '/calculator',\n        skippable: false,\n        estimatedDuration: 15,\n      },\n      {\n        id: 'input-cost',\n        order: 4,\n        title: 'Informe o Custo',\n        instruction: 'Digite o custo do seu produto no campo \"Custo\".',\n        hint: 'Use um valor de exemplo como R$ 100,00.',\n        actionType: 'input',\n        targetSelector: '[data-field=\"cost\"], input[name*=\"cost\"], #cost',\n        skippable: true,\n        estimatedDuration: 10,\n        validation: {\n          type: 'value-changed',\n        },\n      },\n      {\n        id: 'complete',\n        order: 5,\n        title: 'Tutorial Conclu├¡do!',\n        instruction: 'Parab├®ns! Voc├¬ completou o tutorial inicial.',\n        explanation: 'Agora voc├¬ conhece o b├ísico. Explore os outros tutoriais para aprender mais.',\n        actionType: 'confirm',\n        skippable: false,\n        estimatedDuration: 5,\n        onComplete: {\n          emitEvent: 'tutorial:getting-started-completed',\n          successMessage: 'Voc├¬ ganhou a conquista \"Primeiro Passo\"!',\n        },\n      },\n    ],\n  },\n\n  // Pricing Tutorial\n  {\n    id: 'pricing-basics',\n    title: 'Forma├º├úo de Pre├ºo de Venda',\n    description: 'Aprenda a calcular o pre├ºo de venda ideal para seus produtos.',\n    category: 'pricing',\n    difficulty: 'beginner',\n    startScreen: '/calculator',\n    estimatedDuration: 5,\n    tags: ['pre├ºo', 'margem', 'markup', 'custo'],\n    enabled: true,\n    version: 1,\n    steps: [\n      {\n        id: 'intro',\n        order: 1,\n        title: 'Calculando o Pre├ºo Ideal',\n        instruction: 'Vamos aprender a calcular o pre├ºo de venda corretamente.',\n        explanation:\n          'O pre├ºo de venda deve cobrir custos, despesas e ainda gerar o lucro desejado.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 15,\n      },\n      {\n        id: 'understand-cost',\n        order: 2,\n        title: 'Entenda o Custo',\n        instruction: 'O custo ├® quanto voc├¬ paga pelo produto ou servi├ºo.',\n        explanation: 'Inclua todos os custos diretos: compra, frete, embalagem, etc.',\n        hint: 'N├úo esque├ºa custos \"escondidos\" como perdas e devolu├º├Áes.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 20,\n      },\n      {\n        id: 'input-cost',\n        order: 3,\n        title: 'Informe o Custo',\n        instruction: 'Digite o custo do produto no campo apropriado.',\n        actionType: 'input',\n        targetSelector: '[data-field=\"cost\"]',\n        skippable: true,\n        estimatedDuration: 10,\n      },\n      {\n        id: 'understand-expenses',\n        order: 4,\n        title: 'Despesas Vari├íveis',\n        instruction: 'S├úo despesas que variam conforme a venda.',\n        explanation:\n          'Incluem impostos (ICMS, PIS, COFINS), comiss├Áes, taxas de cart├úo, etc.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 20,\n      },\n      {\n        id: 'input-expenses',\n        order: 5,\n        title: 'Informe as Despesas',\n        instruction: 'Preencha o percentual total de despesas vari├íveis.',\n        hint: 'Some todos os impostos e taxas que incidem sobre a venda.',\n        actionType: 'input',\n        targetSelector: '[data-field=\"expenses\"], [data-field=\"variable-expenses\"]',\n        skippable: true,\n        estimatedDuration: 15,\n      },\n      {\n        id: 'understand-margin',\n        order: 6,\n        title: 'Margem de Lucro',\n        instruction: 'A margem ├® o lucro que voc├¬ quer ter em cada venda.',\n        explanation:\n          'Margem ├® calculada sobre o pre├ºo de venda, n├úo sobre o custo! 30% de margem n├úo ├® custo ├ù 1,3.',\n        hint: 'Considere o mercado e a concorr├¬ncia ao definir sua margem.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 25,\n      },\n      {\n        id: 'input-margin',\n        order: 7,\n        title: 'Defina sua Margem',\n        instruction: 'Informe a margem de lucro desejada.',\n        actionType: 'input',\n        targetSelector: '[data-field=\"margin\"]',\n        skippable: true,\n        estimatedDuration: 10,\n      },\n      {\n        id: 'calculate',\n        order: 8,\n        title: 'Calcule o Pre├ºo',\n        instruction: 'Clique no bot├úo para calcular o pre├ºo de venda.',\n        actionType: 'click',\n        targetSelector: '[data-action=\"calculate\"], button[type=\"submit\"]',\n        skippable: false,\n        estimatedDuration: 5,\n      },\n      {\n        id: 'review-result',\n        order: 9,\n        title: 'Analise o Resultado',\n        instruction: 'Veja o pre├ºo calculado e os indicadores.',\n        explanation:\n          'O sistema mostra o pre├ºo ideal, markup resultante e valida├º├Áes.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 20,\n        onComplete: {\n          successMessage: 'Parab├®ns! Voc├¬ aprendeu a calcular pre├ºos!',\n        },\n      },\n    ],\n  },\n\n  // BDI Tutorial\n  {\n    id: 'bdi-calculation',\n    title: 'C├ílculo de BDI para Licita├º├Áes',\n    description: 'Aprenda a calcular o BDI conforme metodologia TCU.',\n    category: 'bidding',\n    difficulty: 'intermediate',\n    startScreen: '/bdi-calculator',\n    estimatedDuration: 8,\n    tags: ['bdi', 'licita├º├úo', 'tcu', 'obras', 'servi├ºos'],\n    enabled: true,\n    version: 1,\n    steps: [\n      {\n        id: 'intro',\n        order: 1,\n        title: 'O que ├® BDI?',\n        instruction: 'BDI significa Bonifica├º├úo e Despesas Indiretas.',\n        explanation:\n          '├ë o percentual aplicado sobre custos diretos para formar o pre├ºo em licita├º├Áes.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 20,\n      },\n      {\n        id: 'select-type',\n        order: 2,\n        title: 'Selecione o Tipo',\n        instruction: 'Escolha o tipo de contrato: Obras, Servi├ºos ou Fornecimento.',\n        hint: 'Cada tipo tem faixas de BDI diferentes recomendadas pelo TCU.',\n        actionType: 'select',\n        targetSelector: '[data-field=\"contract-type\"]',\n        skippable: false,\n        estimatedDuration: 10,\n      },\n      {\n        id: 'components-intro',\n        order: 3,\n        title: 'Componentes do BDI',\n        instruction: 'O BDI ├® composto por: AC, Seguros, Riscos, Garantias, DF, Lucro e Tributos.',\n        explanation:\n          'Cada componente tem faixas recomendadas pelo TCU. Valores fora podem ser questionados.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 30,\n      },\n      {\n        id: 'fill-components',\n        order: 4,\n        title: 'Preencha os Componentes',\n        instruction: 'Informe os percentuais de cada componente do BDI.',\n        hint: 'Use os valores sugeridos como refer├¬ncia inicial.',\n        actionType: 'input',\n        skippable: true,\n        estimatedDuration: 60,\n      },\n      {\n        id: 'calculate',\n        order: 5,\n        title: 'Calcule o BDI',\n        instruction: 'Clique para calcular usando a f├│rmula TCU.',\n        explanation: 'F├│rmula: BDI = [(1+AC+S+R+G) ├ù (1+DF) ├ù (1+L) / (1-I)] - 1',\n        actionType: 'click',\n        targetSelector: '[data-action=\"calculate-bdi\"]',\n        skippable: false,\n        estimatedDuration: 5,\n      },\n      {\n        id: 'review-alerts',\n        order: 6,\n        title: 'Verifique os Alertas',\n        instruction: 'Analise se o BDI est├í dentro da faixa TCU.',\n        explanation:\n          'BDI fora da faixa n├úo impede participa├º├úo, mas pode gerar questionamentos.',\n        actionType: 'read',\n        skippable: false,\n        estimatedDuration: 20,\n        onComplete: {\n          successMessage: 'Excelente! Voc├¬ dominou o c├ílculo de BDI!',\n        },\n      },\n    ],\n  },\n];\n\n// ============================================================================\n// Achievements\n// ============================================================================\n\nconst ACHIEVEMENTS: Omit<TutorialAchievement, 'unlockedAt'>[] = [\n  {\n    id: 'first-step',\n    title: 'Primeiro Passo',\n    description: 'Completou o tutorial inicial',\n    icon: '­ƒÄ»',\n    tutorialId: 'getting-started',\n  },\n  {\n    id: 'pricing-master',\n    title: 'Mestre da Precifica├º├úo',\n    description: 'Completou o tutorial de forma├º├úo de pre├ºo',\n    icon: '­ƒÆ░',\n    tutorialId: 'pricing-basics',\n  },\n  {\n    id: 'bdi-expert',\n    title: 'Expert em BDI',\n    description: 'Completou o tutorial de c├ílculo de BDI',\n    icon: '­ƒôè',\n    tutorialId: 'bdi-calculation',\n  },\n  {\n    id: 'completionist',\n    title: 'Completista',\n    description: 'Completou todos os tutoriais',\n    icon: '­ƒÅå',\n  },\n  {\n    id: 'speed-learner',\n    title: 'Aprendiz R├ípido',\n    description: 'Completou um tutorial em menos de 2 minutos',\n    icon: 'ÔÜí',\n  },\n];\n\n// ============================================================================\n// State\n// ============================================================================\n\ninterface EngineState {\n  initialized: boolean;\n  activeTutorial: string | null;\n  progress: Map<string, TutorialProgress>;\n  achievements: TutorialAchievement[];\n  eventCallbacks: TutorialEventCallback[];\n}\n\nconst state: EngineState = {\n  initialized: false,\n  activeTutorial: null,\n  progress: new Map(),\n  achievements: [],\n  eventCallbacks: [],\n};\n\n// ============================================================================\n// Core Functions\n// ============================================================================\n\n/**\n * Inicializa o TutorialEngine\n */\nexport function initTutorialEngine(): void {\n  if (state.initialized) {return;}\n\n  state.initialized = true;\n  state.activeTutorial = null;\n  state.progress = new Map();\n  state.achievements = [];\n}\n\n/**\n * Encerra o TutorialEngine\n */\nexport function shutdownTutorialEngine(): void {\n  state.initialized = false;\n  state.activeTutorial = null;\n  state.progress.clear();\n  state.eventCallbacks = [];\n}\n\n/**\n * Registra callback para eventos\n */\nexport function onTutorialEvent(callback: TutorialEventCallback): () => void {\n  state.eventCallbacks.push(callback);\n  return () => {\n    state.eventCallbacks = state.eventCallbacks.filter((cb) => cb !== callback);\n  };\n}\n\n// ============================================================================\n// Tutorial Management\n// ============================================================================\n\n/**\n * Obt├®m todos os tutoriais dispon├¡veis\n */\nexport function getAvailableTutorials(\n  userContext?: UserContext\n): Tutorial[] {\n  let tutorials = TUTORIALS.filter((t) => t.enabled);\n\n  // Filtrar por n├¡vel do usu├írio\n  if (userContext) {\n    const skillLevel = userContext.skillLevel;\n    tutorials = tutorials.filter((t) => {\n      if (skillLevel === 'beginner') {\n        return t.difficulty === 'beginner';\n      }\n      if (skillLevel === 'intermediate') {\n        return t.difficulty !== 'advanced';\n      }\n      return true; // advanced e expert veem todos\n    });\n  }\n\n  return tutorials;\n}\n\n/**\n * Obt├®m um tutorial espec├¡fico\n */\nexport function getTutorial(tutorialId: string): Tutorial | null {\n  return TUTORIALS.find((t) => t.id === tutorialId) ?? null;\n}\n\n/**\n * Obt├®m tutoriais por categoria\n */\nexport function getTutorialsByCategory(\n  category: Tutorial['category']\n): Tutorial[] {\n  return TUTORIALS.filter((t) => t.enabled && t.category === category);\n}\n\n/**\n * Busca tutoriais por texto\n */\nexport function searchTutorials(query: string): Tutorial[] {\n  const q = query.toLowerCase();\n  return TUTORIALS.filter(\n    (t) =>\n      t.enabled &&\n      (t.title.toLowerCase().includes(q) ||\n        t.description.toLowerCase().includes(q) ||\n        t.tags.some((tag) => tag.toLowerCase().includes(q)))\n  );\n}\n\n/**\n * Inicia um tutorial\n */\nexport function startTutorial(tutorialId: string): TutorialProgress | null {\n  const tutorial = getTutorial(tutorialId);\n  if (!tutorial) {return null;}\n\n  // Verificar pr├®-requisitos\n  if (tutorial.prerequisites) {\n    for (const prereq of tutorial.prerequisites) {\n      const prereqProgress = state.progress.get(prereq);\n      if (!prereqProgress || prereqProgress.status !== 'completed') {\n        return null; // Pr├®-requisito n├úo completado\n      }\n    }\n  }\n\n  const now = Date.now();\n  const progress: TutorialProgress = {\n    tutorialId,\n    status: 'in-progress',\n    currentStepIndex: 0,\n    completedSteps: [],\n    skippedSteps: [],\n    startedAt: now,\n    timeSpent: 0,\n    lastUpdatedAt: now,\n  };\n\n  state.progress.set(tutorialId, progress);\n  state.activeTutorial = tutorialId;\n\n  // Emitir evento\n  eventBus.emit({\n    type: 'user:navigation',\n    payload: {\n      event: 'tutorial-started',\n      tutorialId,\n      tutorialTitle: tutorial.title,\n    },\n    timestamp: now,\n    source: 'tutorial-engine',\n  });\n\n  return progress;\n}\n\n/**\n * Avan├ºa para o pr├│ximo passo\n */\nexport function nextStep(): TutorialStep | null {\n  if (!state.activeTutorial) {return null;}\n\n  const progress = state.progress.get(state.activeTutorial);\n  const tutorial = getTutorial(state.activeTutorial);\n\n  if (!progress || !tutorial) {return null;}\n\n  const currentStep = tutorial.steps[progress.currentStepIndex];\n  if (!currentStep) {return null;}\n\n  // Marcar passo atual como completo\n  progress.completedSteps.push(currentStep.id);\n  progress.currentStepIndex++;\n  progress.lastUpdatedAt = Date.now();\n\n  // Notificar callbacks\n  for (const cb of state.eventCallbacks) {\n    cb({\n      type: 'step-completed',\n      tutorialId: state.activeTutorial,\n      stepId: currentStep.id,\n      progress,\n    });\n  }\n\n  // Verificar se tutorial acabou\n  if (progress.currentStepIndex >= tutorial.steps.length) {\n    completeTutorial();\n    return null;\n  }\n\n  return tutorial.steps[progress.currentStepIndex];\n}\n\n/**\n * Pula o passo atual\n */\nexport function skipStep(): TutorialStep | null {\n  if (!state.activeTutorial) {return null;}\n\n  const progress = state.progress.get(state.activeTutorial);\n  const tutorial = getTutorial(state.activeTutorial);\n\n  if (!progress || !tutorial) {return null;}\n\n  const currentStep = tutorial.steps[progress.currentStepIndex];\n  if (!currentStep || !currentStep.skippable) {return null;}\n\n  // Marcar como pulado\n  progress.skippedSteps.push(currentStep.id);\n  progress.currentStepIndex++;\n  progress.lastUpdatedAt = Date.now();\n\n  // Notificar callbacks\n  for (const cb of state.eventCallbacks) {\n    cb({\n      type: 'step-skipped',\n      tutorialId: state.activeTutorial,\n      stepId: currentStep.id,\n      progress,\n    });\n  }\n\n  // Verificar se tutorial acabou\n  if (progress.currentStepIndex >= tutorial.steps.length) {\n    completeTutorial();\n    return null;\n  }\n\n  return tutorial.steps[progress.currentStepIndex];\n}\n\n/**\n * Obt├®m o passo atual\n */\nexport function getCurrentStep(): TutorialStep | null {\n  if (!state.activeTutorial) {return null;}\n\n  const progress = state.progress.get(state.activeTutorial);\n  const tutorial = getTutorial(state.activeTutorial);\n\n  if (!progress || !tutorial) {return null;}\n\n  return tutorial.steps[progress.currentStepIndex] ?? null;\n}\n\n/**\n * Completa o tutorial atual\n */\nexport function completeTutorial(): void {\n  if (!state.activeTutorial) {return;}\n\n  const progress = state.progress.get(state.activeTutorial);\n  const tutorial = getTutorial(state.activeTutorial);\n\n  if (!progress || !tutorial) {return;}\n\n  const now = Date.now();\n  progress.status = 'completed';\n  progress.completedAt = now;\n  progress.timeSpent = now - progress.startedAt;\n  progress.lastUpdatedAt = now;\n\n  // Verificar conquistas\n  checkAndGrantAchievements(state.activeTutorial, progress);\n\n  // Notificar callbacks\n  for (const cb of state.eventCallbacks) {\n    cb({\n      type: 'tutorial-completed',\n      tutorialId: state.activeTutorial,\n      progress,\n    });\n  }\n\n  // Emitir evento\n  eventBus.emit({\n    type: 'user:navigation',\n    payload: {\n      event: 'tutorial-completed',\n      tutorialId: state.activeTutorial,\n      tutorialTitle: tutorial.title,\n      timeSpent: progress.timeSpent,\n    },\n    timestamp: now,\n    source: 'tutorial-engine',\n  });\n\n  state.activeTutorial = null;\n}\n\n/**\n * Abandona o tutorial atual\n */\nexport function abandonTutorial(): void {\n  if (!state.activeTutorial) {return;}\n\n  const progress = state.progress.get(state.activeTutorial);\n\n  if (!progress) {return;}\n\n  const now = Date.now();\n  progress.status = 'abandoned';\n  progress.timeSpent = now - progress.startedAt;\n  progress.lastUpdatedAt = now;\n\n  // Notificar callbacks\n  for (const cb of state.eventCallbacks) {\n    cb({\n      type: 'tutorial-abandoned',\n      tutorialId: state.activeTutorial,\n      progress,\n    });\n  }\n\n  state.activeTutorial = null;\n}\n\n/**\n * Obt├®m progresso de um tutorial\n */\nexport function getTutorialProgress(tutorialId: string): TutorialProgress | null {\n  return state.progress.get(tutorialId) ?? null;\n}\n\n/**\n * Obt├®m progresso de todos os tutoriais\n */\nexport function getAllProgress(): Map<string, TutorialProgress> {\n  return new Map(state.progress);\n}\n\n/**\n * Verifica se tutorial foi completado\n */\nexport function isTutorialCompleted(tutorialId: string): boolean {\n  const progress = state.progress.get(tutorialId);\n  return progress?.status === 'completed';\n}\n\n// ============================================================================\n// Achievements\n// ============================================================================\n\n/**\n * Verifica e concede conquistas\n */\nfunction checkAndGrantAchievements(\n  tutorialId: string,\n  progress: TutorialProgress\n): void {\n  const now = Date.now();\n\n  // Conquista do tutorial espec├¡fico\n  const tutorialAchievement = ACHIEVEMENTS.find((a) => a.tutorialId === tutorialId);\n  if (tutorialAchievement && !hasAchievement(tutorialAchievement.id)) {\n    state.achievements.push({ ...tutorialAchievement, unlockedAt: now });\n  }\n\n  // Speed learner (menos de 2 minutos)\n  if (progress.timeSpent < 120000 && !hasAchievement('speed-learner')) {\n    const speedAchievement = ACHIEVEMENTS.find((a) => a.id === 'speed-learner');\n    if (speedAchievement) {\n      state.achievements.push({ ...speedAchievement, unlockedAt: now });\n    }\n  }\n\n  // Completionist (todos os tutoriais)\n  const allCompleted = TUTORIALS.every(\n    (t) => !t.enabled || isTutorialCompleted(t.id)\n  );\n  if (allCompleted && !hasAchievement('completionist')) {\n    const completionistAchievement = ACHIEVEMENTS.find(\n      (a) => a.id === 'completionist'\n    );\n    if (completionistAchievement) {\n      state.achievements.push({ ...completionistAchievement, unlockedAt: now });\n    }\n  }\n}\n\n/**\n * Verifica se tem conquista\n */\nexport function hasAchievement(achievementId: string): boolean {\n  return state.achievements.some((a) => a.id === achievementId);\n}\n\n/**\n * Obt├®m todas as conquistas\n */\nexport function getAchievements(): TutorialAchievement[] {\n  return [...state.achievements];\n}\n\n/**\n * Obt├®m conquistas dispon├¡veis (n├úo desbloqueadas)\n */\nexport function getAvailableAchievements(): Omit<TutorialAchievement, 'unlockedAt'>[] {\n  return ACHIEVEMENTS.filter((a) => !hasAchievement(a.id));\n}\n\n// ============================================================================\n// Suggestions\n// ============================================================================\n\n/**\n * Sugere tutoriais baseado no contexto\n */\nexport function suggestTutorials(userContext?: UserContext): CreateSuggestionInput[] {\n  const suggestions: CreateSuggestionInput[] = [];\n\n  // Se nunca fez o getting started\n  if (!isTutorialCompleted('getting-started')) {\n    suggestions.push({\n      type: 'tutorial',\n      priority: 'medium',\n      category: 'general',\n      title: 'Conhe├ºa o Azuria',\n      message: 'Complete o tutorial inicial para aprender os conceitos b├ísicos.',\n      actions: [{ label: 'Iniciar', type: 'primary' }],\n      context: { trigger: 'new_user' },\n      confidence: 0.9,\n    });\n  }\n\n  // Baseado na tela atual\n  if (userContext?.currentScreen?.includes('calculator') && !isTutorialCompleted('pricing-basics')) {\n    suggestions.push({\n      type: 'tutorial',\n      priority: 'low',\n      category: 'pricing',\n      title: 'Tutorial de Precifica├º├úo',\n      message: 'Quer aprender a formar pre├ºos corretamente?',\n      actions: [{ label: 'Ver Tutorial', type: 'secondary' }],\n      context: { screen: userContext.currentScreen },\n      confidence: 0.7,\n    });\n  }\n\n  if (userContext?.currentScreen?.includes('bdi') && !isTutorialCompleted('bdi-calculation')) {\n    suggestions.push({\n      type: 'tutorial',\n      priority: 'medium',\n      category: 'bidding',\n      title: 'Aprenda BDI',\n      message: 'Entenda como calcular o BDI conforme metodologia TCU.',\n      actions: [{ label: 'Iniciar Tutorial', type: 'primary' }],\n      context: { screen: userContext.currentScreen },\n      confidence: 0.8,\n    });\n  }\n\n  return suggestions;\n}\n\n// ============================================================================\n// Stats\n// ============================================================================\n\n/**\n * Obt├®m estat├¡sticas do engine\n */\nexport function getTutorialStats(): {\n  initialized: boolean;\n  activeTutorial: string | null;\n  totalTutorials: number;\n  completedTutorials: number;\n  totalAchievements: number;\n  unlockedAchievements: number;\n} {\n  const completedCount = Array.from(state.progress.values()).filter(\n    (p) => p.status === 'completed'\n  ).length;\n\n  return {\n    initialized: state.initialized,\n    activeTutorial: state.activeTutorial,\n    totalTutorials: TUTORIALS.filter((t) => t.enabled).length,\n    completedTutorials: completedCount,\n    totalAchievements: ACHIEVEMENTS.length,\n    unlockedAchievements: state.achievements.length,\n  };\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport const tutorialEngine = {\n  init: initTutorialEngine,\n  shutdown: shutdownTutorialEngine,\n  onEvent: onTutorialEvent,\n  getAvailable: getAvailableTutorials,\n  get: getTutorial,\n  getByCategory: getTutorialsByCategory,\n  search: searchTutorials,\n  start: startTutorial,\n  next: nextStep,\n  skip: skipStep,\n  getCurrent: getCurrentStep,\n  complete: completeTutorial,\n  abandon: abandonTutorial,\n  getProgress: getTutorialProgress,\n  getAllProgress,\n  isCompleted: isTutorialCompleted,\n  hasAchievement,\n  getAchievements,\n  getAvailableAchievements,\n  suggest: suggestTutorials,\n  getStats: getTutorialStats,\n};\n\nexport default tutorialEngine;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\uiWatcherEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":409,"column":18,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":409,"endColumn":52},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":446,"column":18,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":446,"endColumn":52}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * UIWatcher - Motor de Monitoramento de Intera├º├Áes da UI\n *\n * Este engine ├® respons├ível por:\n * - Observar intera├º├Áes do usu├írio com a UI (clicks, hovers, scrolls, etc.)\n * - Detectar padr├Áes de navega├º├úo e comportamento\n * - Identificar elementos que causam confus├úo ou hesita├º├úo\n * - Emitir eventos para o Co-Piloto reagir\n *\n * @module azuria_ai/engines/uiWatcherEngine\n */\n\nimport { eventBus } from '../core/eventBus';\nimport type { UserActivityState } from '../types/operational';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** Tempo m├¡nimo de hover para considerar \"interesse\" (ms) */\nconst HOVER_INTEREST_THRESHOLD = 2000;\n\n/** Tempo m├¡nimo em um elemento para considerar \"hesita├º├úo\" (ms) */\nconst HESITATION_THRESHOLD = 5000;\n\n/** Tempo sem intera├º├úo para considerar \"idle\" (ms) */\nconst IDLE_THRESHOLD = 30000;\n\n/** Intervalo de verifica├º├úo de idle (ms) */\nconst IDLE_CHECK_INTERVAL = 5000;\n\n/** M├íximo de eventos armazenados */\nconst MAX_EVENTS_STORED = 200;\n\n/** Debounce para eventos de scroll (ms) */\nconst SCROLL_DEBOUNCE = 200;\n\n/** Debounce para eventos de resize (ms) */\nconst RESIZE_DEBOUNCE = 500;\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Tipo de intera├º├úo monitorada */\nexport type InteractionType =\n  | 'click'\n  | 'double-click'\n  | 'right-click'\n  | 'hover-start'\n  | 'hover-end'\n  | 'focus'\n  | 'blur'\n  | 'input'\n  | 'scroll'\n  | 'resize'\n  | 'visibility-change'\n  | 'keypress'\n  | 'copy'\n  | 'paste';\n\n/** Evento de intera├º├úo registrado */\nexport interface UIInteractionEvent {\n  /** ID ├║nico do evento */\n  id: string;\n  /** Tipo de intera├º├úo */\n  type: InteractionType;\n  /** Timestamp */\n  timestamp: number;\n  /** Elemento alvo (seletor simplificado) */\n  target: string;\n  /** ID do elemento (se dispon├¡vel) */\n  targetId?: string;\n  /** Classes do elemento */\n  targetClasses?: string[];\n  /** Tipo do elemento (button, input, etc.) */\n  targetType?: string;\n  /** Posi├º├úo do cursor */\n  position?: { x: number; y: number };\n  /** Dados adicionais */\n  data?: Record<string, unknown>;\n}\n\n/** Configura├º├úo do UIWatcher */\nexport interface UIWatcherConfig {\n  /** Se est├í habilitado */\n  enabled: boolean;\n  /** Monitorar clicks */\n  trackClicks: boolean;\n  /** Monitorar hovers */\n  trackHovers: boolean;\n  /** Monitorar scroll */\n  trackScroll: boolean;\n  /** Monitorar inputs */\n  trackInputs: boolean;\n  /** Monitorar teclado */\n  trackKeyboard: boolean;\n  /** Monitorar visibilidade da p├ígina */\n  trackVisibility: boolean;\n  /** Seletores a ignorar */\n  ignoreSelectors: string[];\n  /** Seletores de interesse especial */\n  interestSelectors: string[];\n}\n\n/** Estado interno do engine */\ninterface WatcherState {\n  initialized: boolean;\n  config: UIWatcherConfig;\n  events: UIInteractionEvent[];\n  lastInteractionAt: number;\n  idleCheckTimer: ReturnType<typeof setInterval> | null;\n  hoverTimers: Map<string, ReturnType<typeof setTimeout>>;\n  focusTimers: Map<string, { startTime: number; timer: ReturnType<typeof setTimeout> }>;\n  scrollDebounceTimer: ReturnType<typeof setTimeout> | null;\n  resizeDebounceTimer: ReturnType<typeof setTimeout> | null;\n  activityState: UserActivityState;\n  cleanupFunctions: (() => void)[];\n}\n\n// ============================================================================\n// Default Config\n// ============================================================================\n\nconst DEFAULT_CONFIG: UIWatcherConfig = {\n  enabled: true,\n  trackClicks: true,\n  trackHovers: true,\n  trackScroll: true,\n  trackInputs: true,\n  trackKeyboard: true,\n  trackVisibility: true,\n  ignoreSelectors: [\n    '.copilot-widget', // Ignorar o pr├│prio Co-Piloto\n    '.tooltip',\n    '.dropdown-overlay',\n    '[data-ignore-tracking]',\n  ],\n  interestSelectors: [\n    'button[type=\"submit\"]',\n    '.price-input',\n    '.calculator-input',\n    '.help-trigger',\n    '.info-icon',\n    '[data-track-interest]',\n  ],\n};\n\n// ============================================================================\n// Engine State\n// ============================================================================\n\nconst state: WatcherState = {\n  initialized: false,\n  config: { ...DEFAULT_CONFIG },\n  events: [],\n  lastInteractionAt: 0,\n  idleCheckTimer: null,\n  hoverTimers: new Map(),\n  focusTimers: new Map(),\n  scrollDebounceTimer: null,\n  resizeDebounceTimer: null,\n  activityState: 'idle',\n  cleanupFunctions: [],\n};\n\n// ============================================================================\n// Core Functions\n// ============================================================================\n\n/**\n * Inicializa o UIWatcher\n */\nexport function initUIWatcher(config?: Partial<UIWatcherConfig>): void {\n  if (state.initialized) {\n    return;\n  }\n\n  // Check if we're in a browser environment\n  if (typeof window === 'undefined' || typeof document === 'undefined') {\n    // SSR/Node environment - skip initialization\n    return;\n  }\n\n  // Merge config\n  state.config = { ...DEFAULT_CONFIG, ...config };\n  state.lastInteractionAt = Date.now();\n\n  // Setup event listeners\n  setupEventListeners();\n\n  // Start idle checker\n  state.idleCheckTimer = setInterval(checkIdle, IDLE_CHECK_INTERVAL);\n\n  state.initialized = true;\n\n  eventBus.emit({\n    type: 'system:component-loaded',\n    payload: { component: 'ui-watcher', status: 'ready' },\n    timestamp: Date.now(),\n    source: 'ui-watcher',\n  });\n}\n\n/**\n * Encerra o UIWatcher\n */\nexport function shutdownUIWatcher(): void {\n  if (!state.initialized) {\n    return;\n  }\n\n  // Clear timers\n  if (state.idleCheckTimer) {\n    clearInterval(state.idleCheckTimer);\n    state.idleCheckTimer = null;\n  }\n\n  if (state.scrollDebounceTimer) {\n    clearTimeout(state.scrollDebounceTimer);\n    state.scrollDebounceTimer = null;\n  }\n\n  if (state.resizeDebounceTimer) {\n    clearTimeout(state.resizeDebounceTimer);\n    state.resizeDebounceTimer = null;\n  }\n\n  // Clear hover timers\n  for (const timer of state.hoverTimers.values()) {\n    clearTimeout(timer);\n  }\n  state.hoverTimers.clear();\n\n  // Clear focus timers\n  for (const { timer } of state.focusTimers.values()) {\n    clearTimeout(timer);\n  }\n  state.focusTimers.clear();\n\n  // Remove event listeners\n  for (const cleanup of state.cleanupFunctions) {\n    cleanup();\n  }\n  state.cleanupFunctions = [];\n\n  state.events = [];\n  state.initialized = false;\n}\n\n/**\n * Atualiza configura├º├úo\n */\nexport function updateUIWatcherConfig(config: Partial<UIWatcherConfig>): void {\n  state.config = { ...state.config, ...config };\n}\n\n/**\n * Obt├®m eventos recentes\n */\nexport function getRecentEvents(limit = 50): UIInteractionEvent[] {\n  return state.events.slice(-limit);\n}\n\n/**\n * Obt├®m eventos por tipo\n */\nexport function getEventsByType(type: InteractionType, limit = 20): UIInteractionEvent[] {\n  return state.events.filter((e) => e.type === type).slice(-limit);\n}\n\n/**\n * Obt├®m eventos de um elemento espec├¡fico\n */\nexport function getEventsForElement(targetId: string, limit = 20): UIInteractionEvent[] {\n  return state.events.filter((e) => e.targetId === targetId).slice(-limit);\n}\n\n/**\n * Obt├®m estado de atividade atual\n */\nexport function getActivityState(): UserActivityState {\n  return state.activityState;\n}\n\n/**\n * Limpa hist├│rico de eventos\n */\nexport function clearEventHistory(): void {\n  state.events = [];\n}\n\n// ============================================================================\n// Event Recording\n// ============================================================================\n\n/**\n * Registra um evento de intera├º├úo\n */\nfunction recordEvent(\n  type: InteractionType,\n  target: HTMLElement,\n  data?: Record<string, unknown>\n): void {\n  if (!state.config.enabled) {return;}\n\n  // Check ignore selectors\n  if (shouldIgnoreElement(target)) {return;}\n\n  const event: UIInteractionEvent = {\n    id: generateEventId(),\n    type,\n    timestamp: Date.now(),\n    target: getElementSelector(target),\n    targetId: target.id || undefined,\n    targetClasses: target.className ? target.className.split(' ').filter(Boolean) : undefined,\n    targetType: target.tagName.toLowerCase(),\n    data,\n  };\n\n  // Add position for mouse events\n  if (data?.clientX !== undefined && data?.clientY !== undefined) {\n    event.position = {\n      x: data.clientX as number,\n      y: data.clientY as number,\n    };\n  }\n\n  // Store event\n  state.events.push(event);\n\n  // Trim if too many events\n  if (state.events.length > MAX_EVENTS_STORED) {\n    state.events = state.events.slice(-MAX_EVENTS_STORED);\n  }\n\n  // Update last interaction\n  state.lastInteractionAt = event.timestamp;\n\n  // Update activity state\n  updateActivityState(type);\n\n  // Check if element is of special interest\n  if (isInterestElement(target)) {\n    emitInterestEvent(event, target);\n  }\n\n  // Emit to event bus\n  eventBus.emit({\n    type: 'user:input',\n    payload: {\n      interactionType: type,\n      target: event.target,\n      targetId: event.targetId,\n      data,\n    },\n    timestamp: event.timestamp,\n    source: 'ui-watcher',\n  });\n}\n\n// ============================================================================\n// Event Handlers\n// ============================================================================\n\nfunction handleClick(e: MouseEvent): void {\n  if (!state.config.trackClicks) {return;}\n  const target = e.target as HTMLElement;\n  if (!target) {return;}\n\n  recordEvent('click', target, {\n    clientX: e.clientX,\n    clientY: e.clientY,\n    button: e.button,\n  });\n}\n\nfunction handleDoubleClick(e: MouseEvent): void {\n  if (!state.config.trackClicks) {return;}\n  const target = e.target as HTMLElement;\n  if (!target) {return;}\n\n  recordEvent('double-click', target, {\n    clientX: e.clientX,\n    clientY: e.clientY,\n  });\n}\n\nfunction handleContextMenu(e: MouseEvent): void {\n  if (!state.config.trackClicks) {return;}\n  const target = e.target as HTMLElement;\n  if (!target) {return;}\n\n  recordEvent('right-click', target, {\n    clientX: e.clientX,\n    clientY: e.clientY,\n  });\n}\n\nfunction handleMouseEnter(e: MouseEvent): void {\n  if (!state.config.trackHovers) {return;}\n  const target = e.target as HTMLElement;\n  if (!target || shouldIgnoreElement(target)) {return;}\n\n  const elementKey = getElementKey(target);\n\n  // Clear any existing timer\n  if (state.hoverTimers.has(elementKey)) {\n    clearTimeout(state.hoverTimers.get(elementKey)!);\n  }\n\n  // Set timer for hover interest detection\n  const timer = setTimeout(() => {\n    recordEvent('hover-start', target, {\n      duration: HOVER_INTEREST_THRESHOLD,\n      interested: true,\n    });\n\n    // Emit hesitation event if it's an input\n    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {\n      eventBus.emit({\n        type: 'user:input',\n        payload: {\n          inputId: target.id || getElementSelector(target),\n          event: 'hover-interest',\n          duration: HOVER_INTEREST_THRESHOLD,\n        },\n        timestamp: Date.now(),\n        source: 'ui-watcher',\n      });\n    }\n  }, HOVER_INTEREST_THRESHOLD);\n\n  state.hoverTimers.set(elementKey, timer);\n}\n\nfunction handleMouseLeave(e: MouseEvent): void {\n  if (!state.config.trackHovers) {return;}\n  const target = e.target as HTMLElement;\n  if (!target) {return;}\n\n  const elementKey = getElementKey(target);\n\n  // Clear hover timer\n  if (state.hoverTimers.has(elementKey)) {\n    clearTimeout(state.hoverTimers.get(elementKey)!);\n    state.hoverTimers.delete(elementKey);\n  }\n}\n\nfunction handleFocus(e: FocusEvent): void {\n  if (!state.config.trackInputs) {return;}\n  const target = e.target as HTMLElement;\n  if (!target) {return;}\n\n  const elementKey = getElementKey(target);\n\n  recordEvent('focus', target);\n\n  // Set timer for hesitation detection\n  const timer = setTimeout(() => {\n    const inputValue = (target as HTMLInputElement).value;\n    if (!inputValue || inputValue.trim() === '') {\n      eventBus.emit({\n        type: 'user:input',\n        payload: {\n          inputId: target.id || getElementSelector(target),\n          event: 'hesitation',\n          duration: HESITATION_THRESHOLD,\n        },\n        timestamp: Date.now(),\n        source: 'ui-watcher',\n      });\n    }\n  }, HESITATION_THRESHOLD);\n\n  state.focusTimers.set(elementKey, { startTime: Date.now(), timer });\n}\n\nfunction handleBlur(e: FocusEvent): void {\n  if (!state.config.trackInputs) {return;}\n  const target = e.target as HTMLElement;\n  if (!target) {return;}\n\n  const elementKey = getElementKey(target);\n\n  // Calculate focus duration\n  const focusData = state.focusTimers.get(elementKey);\n  let focusDuration = 0;\n\n  if (focusData) {\n    clearTimeout(focusData.timer);\n    focusDuration = Date.now() - focusData.startTime;\n    state.focusTimers.delete(elementKey);\n  }\n\n  recordEvent('blur', target, {\n    focusDuration,\n    value: (target as HTMLInputElement).value ? '[has value]' : '[empty]',\n  });\n}\n\nfunction handleInput(e: Event): void {\n  if (!state.config.trackInputs) {return;}\n  const target = e.target as HTMLInputElement;\n  if (!target) {return;}\n\n  recordEvent('input', target, {\n    valueLength: target.value?.length || 0,\n    inputType: (e as InputEvent).inputType,\n  });\n}\n\nfunction handleScroll(): void {\n  if (!state.config.trackScroll) {return;}\n\n  // Debounce scroll events\n  if (state.scrollDebounceTimer) {\n    clearTimeout(state.scrollDebounceTimer);\n  }\n\n  state.scrollDebounceTimer = setTimeout(() => {\n    const scrollPosition = {\n      x: window.scrollX,\n      y: window.scrollY,\n      maxY: document.documentElement.scrollHeight - window.innerHeight,\n    };\n\n    const scrollPercent = scrollPosition.maxY > 0\n      ? Math.round((scrollPosition.y / scrollPosition.maxY) * 100)\n      : 0;\n\n    recordEvent('scroll', document.body, {\n      ...scrollPosition,\n      scrollPercent,\n    });\n  }, SCROLL_DEBOUNCE);\n}\n\nfunction handleResize(): void {\n  if (state.resizeDebounceTimer) {\n    clearTimeout(state.resizeDebounceTimer);\n  }\n\n  state.resizeDebounceTimer = setTimeout(() => {\n    recordEvent('resize', document.body, {\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n  }, RESIZE_DEBOUNCE);\n}\n\nfunction handleVisibilityChange(): void {\n  if (!state.config.trackVisibility) {return;}\n\n  recordEvent('visibility-change', document.body, {\n    visible: !document.hidden,\n    visibilityState: document.visibilityState,\n  });\n\n  // Emit tab change event\n  eventBus.emit({\n    type: 'user:navigation',\n    payload: {\n      event: 'visibility-change',\n      visible: !document.hidden,\n    },\n    timestamp: Date.now(),\n    source: 'ui-watcher',\n  });\n}\n\nfunction handleKeyDown(e: KeyboardEvent): void {\n  if (!state.config.trackKeyboard) {return;}\n\n  // Only track special keys, not regular typing\n  const isSpecialKey = e.ctrlKey || e.metaKey || e.altKey || e.key === 'Escape' || e.key === 'Enter';\n  if (!isSpecialKey) {return;}\n\n  const target = e.target as HTMLElement;\n  if (!target) {return;}\n\n  recordEvent('keypress', target, {\n    key: e.key,\n    ctrlKey: e.ctrlKey,\n    metaKey: e.metaKey,\n    altKey: e.altKey,\n    shiftKey: e.shiftKey,\n  });\n}\n\nfunction handleCopy(): void {\n  recordEvent('copy', document.activeElement as HTMLElement || document.body);\n}\n\nfunction handlePaste(): void {\n  recordEvent('paste', document.activeElement as HTMLElement || document.body);\n}\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\nfunction generateEventId(): string {\n  return `evt_${Date.now()}_${Math.random().toString(36).substring(2, 7)}`;\n}\n\nfunction getElementSelector(el: HTMLElement): string {\n  if (el.id) {return `#${el.id}`;}\n\n  const tag = el.tagName.toLowerCase();\n  const classes = el.className\n    ? `.${el.className.split(' ').filter(Boolean).slice(0, 2).join('.')}`\n    : '';\n\n  return `${tag}${classes}`;\n}\n\nfunction getElementKey(el: HTMLElement): string {\n  return el.id || `${el.tagName}_${el.className}_${getElementSelector(el)}`;\n}\n\nfunction shouldIgnoreElement(el: HTMLElement): boolean {\n  return state.config.ignoreSelectors.some((selector) => {\n    try {\n      return el.matches(selector);\n    } catch {\n      return false;\n    }\n  });\n}\n\nfunction isInterestElement(el: HTMLElement): boolean {\n  return state.config.interestSelectors.some((selector) => {\n    try {\n      return el.matches(selector);\n    } catch {\n      return false;\n    }\n  });\n}\n\nfunction updateActivityState(interactionType: InteractionType): void {\n  let newState: UserActivityState = 'browsing';\n\n  switch (interactionType) {\n    case 'input':\n    case 'focus':\n      newState = 'filling-form';\n      break;\n    case 'scroll':\n    case 'click':\n      newState = 'browsing';\n      break;\n    default:\n      newState = 'browsing';\n  }\n\n  if (newState !== state.activityState) {\n    state.activityState = newState;\n  }\n}\n\nfunction checkIdle(): void {\n  const now = Date.now();\n  const timeSinceLastInteraction = now - state.lastInteractionAt;\n\n  if (timeSinceLastInteraction > IDLE_THRESHOLD && state.activityState !== 'idle') {\n    state.activityState = 'idle';\n\n    eventBus.emit({\n      type: 'user:input',\n      payload: {\n        event: 'idle',\n        duration: timeSinceLastInteraction,\n      },\n      timestamp: now,\n      source: 'ui-watcher',\n    });\n  }\n}\n\nfunction emitInterestEvent(event: UIInteractionEvent, target: HTMLElement): void {\n  eventBus.emit({\n    type: 'user:input',\n    payload: {\n      event: 'interest',\n      interactionType: event.type,\n      target: event.target,\n      targetId: event.targetId,\n      elementType: target.tagName.toLowerCase(),\n      data: event.data,\n    },\n    timestamp: event.timestamp,\n    source: 'ui-watcher',\n  });\n}\n\nfunction setupEventListeners(): void {\n  // Click events\n  document.addEventListener('click', handleClick, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('click', handleClick, { capture: true })\n  );\n\n  document.addEventListener('dblclick', handleDoubleClick, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('dblclick', handleDoubleClick, { capture: true })\n  );\n\n  document.addEventListener('contextmenu', handleContextMenu, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('contextmenu', handleContextMenu, { capture: true })\n  );\n\n  // Hover events (use event delegation)\n  document.addEventListener('mouseover', handleMouseEnter, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('mouseover', handleMouseEnter, { capture: true })\n  );\n\n  document.addEventListener('mouseout', handleMouseLeave, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('mouseout', handleMouseLeave, { capture: true })\n  );\n\n  // Focus events\n  document.addEventListener('focusin', handleFocus, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('focusin', handleFocus, { capture: true })\n  );\n\n  document.addEventListener('focusout', handleBlur, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('focusout', handleBlur, { capture: true })\n  );\n\n  // Input events\n  document.addEventListener('input', handleInput, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('input', handleInput, { capture: true })\n  );\n\n  // Scroll and resize\n  window.addEventListener('scroll', handleScroll, { passive: true });\n  state.cleanupFunctions.push(() => window.removeEventListener('scroll', handleScroll));\n\n  window.addEventListener('resize', handleResize, { passive: true });\n  state.cleanupFunctions.push(() => window.removeEventListener('resize', handleResize));\n\n  // Visibility\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('visibilitychange', handleVisibilityChange)\n  );\n\n  // Keyboard\n  document.addEventListener('keydown', handleKeyDown, { capture: true, passive: true });\n  state.cleanupFunctions.push(() =>\n    document.removeEventListener('keydown', handleKeyDown, { capture: true })\n  );\n\n  // Copy/Paste\n  document.addEventListener('copy', handleCopy);\n  state.cleanupFunctions.push(() => document.removeEventListener('copy', handleCopy));\n\n  document.addEventListener('paste', handlePaste);\n  state.cleanupFunctions.push(() => document.removeEventListener('paste', handlePaste));\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport const uiWatcher = {\n  init: initUIWatcher,\n  shutdown: shutdownUIWatcher,\n  updateConfig: updateUIWatcherConfig,\n  getRecentEvents,\n  getEventsByType,\n  getEventsForElement,\n  getActivityState,\n  clearHistory: clearEventHistory,\n};\n\nexport default uiWatcher;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\userContextEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\userIntentEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[552,555],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[552,555],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1385,1388],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1385,1388],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":51,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1399,1402],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1399,1402],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2867,2870],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2867,2870],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":129,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":129,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3975,3978],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3975,3978],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { emitEvent } from '../core/eventBus';\r\nimport { logConflict, logOpportunity, logRisk } from '../logs/modeDeus_internal';\r\n\r\nexport type IntentCategory =\r\n  | 'pricing'\r\n  | 'risk'\r\n  | 'freight'\r\n  | 'tax'\r\n  | 'opportunity'\r\n  | 'error'\r\n  | 'request_action';\r\n\r\nexport interface IntentResult {\r\n  category: IntentCategory;\r\n  intentConfidence: number;\r\n  signals: string[];\r\n}\r\n\r\nfunction clampConfidence(value: number) {\r\n  return Math.max(0, Math.min(1, Number.isFinite(value) ? value : 0));\r\n}\r\n\r\nfunction detectRiskOrOpportunity(payload: any) {\r\n  const alerts: { risk?: string; opportunity?: string } = {};\r\n\r\n  if (payload?.margemLucro !== undefined) {\r\n    if (payload.margemLucro < 0) {\r\n      alerts.risk = 'lucro_negativo';\r\n    } else if (payload.margemLucro < 10) {\r\n      alerts.risk = 'margem_critica';\r\n    } else if (payload.margemLucro >= 25) {\r\n      alerts.opportunity = 'margem_otima';\r\n    }\r\n  }\r\n\r\n  if (payload?.custoOperacional && payload?.precoVenda) {\r\n    const impactoFrete =\r\n      ((payload.custoOperacional || 0) / (payload.precoVenda || 1)) * 100;\r\n    if (impactoFrete > 35) {\r\n      alerts.risk = alerts.risk || 'frete_excessivo';\r\n    }\r\n  }\r\n\r\n  if (payload?.taxasMarketplace && payload.taxasMarketplace > 20) {\r\n    alerts.risk = alerts.risk || 'taxa_marketplace_alta';\r\n  }\r\n\r\n  return alerts;\r\n}\r\n\r\nexport function detectIntent(event: any, context: any = {}): IntentResult {\r\n  const payload = event?.payload || event || {};\r\n  const signals: string[] = [];\r\n  let category: IntentCategory = 'pricing';\r\n\r\n  const alerts = detectRiskOrOpportunity(payload);\r\n\r\n  if (alerts.risk) {\r\n    category = 'risk';\r\n    signals.push(alerts.risk);\r\n    emitEvent('ai:detected-risk', { alert: alerts.risk, payload }, { source: 'userIntentEngine' });\r\n    logRisk({ alert: alerts.risk, payload, context });\r\n  } else if (alerts.opportunity) {\r\n    category = 'opportunity';\r\n    signals.push(alerts.opportunity);\r\n    emitEvent('ai:detected-opportunity', { alert: alerts.opportunity, payload }, { source: 'userIntentEngine' });\r\n    logOpportunity({ alert: alerts.opportunity, payload, context });\r\n  }\r\n\r\n  if (payload?.impostos || payload?.aliquotaICMS) {\r\n    category = 'tax';\r\n    signals.push('tax_context');\r\n  }\r\n\r\n  if (payload?.frete || payload?.custoOperacional) {\r\n    signals.push('freight_context');\r\n  }\r\n\r\n  if (payload?.erro || payload?.error) {\r\n    category = 'error';\r\n    signals.push('error_signal');\r\n  }\r\n\r\n  if (payload?.acaoSolicitada || payload?.requestAction) {\r\n    category = 'request_action';\r\n    signals.push('user_requested_action');\r\n  }\r\n\r\n  const confidenceBase = signals.length / 5;\r\n  const intentConfidence = clampConfidence(confidenceBase + (alerts.risk || alerts.opportunity ? 0.2 : 0));\r\n\r\n  return { category, intentConfidence, signals };\r\n}\r\n\r\nexport function predictNextStep(context: any = {}): { nextStep: string; intentConfidence: number } {\r\n  // Heur├¡stica simples baseada em margem e custo\r\n  const margem = context?.margemLucro ?? context?.payload?.margemLucro;\r\n  const preco = context?.precoVenda ?? context?.payload?.precoVenda;\r\n  const custo = context?.custoProduto ?? context?.payload?.custoProduto;\r\n\r\n  let nextStep = 'monitor';\r\n  const signals: string[] = [];\r\n\r\n  if (margem !== undefined && margem < 10) {\r\n    nextStep = 'ajustar_preco';\r\n    signals.push('margem_baixa');\r\n  } else if (custo !== undefined && preco !== undefined && custo >= preco) {\r\n    nextStep = 'rever_custos';\r\n    signals.push('prejuizo');\r\n  } else if (margem !== undefined && margem >= 25) {\r\n    nextStep = 'explorar_oferta';\r\n    signals.push('alta_margem');\r\n  }\r\n\r\n  const confidence = clampConfidence(0.4 + signals.length * 0.2);\r\n  return { nextStep, intentConfidence: confidence };\r\n}\r\n\r\nexport const intentCategories: IntentCategory[] = [\r\n  'pricing',\r\n  'risk',\r\n  'freight',\r\n  'tax',\r\n  'opportunity',\r\n  'error',\r\n  'request_action',\r\n];\r\n\r\nexport function logConflictSignal(details: any) {\r\n  logConflict(details);\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\whatIfSimulator.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MAX_VARIABLES' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":29,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":29,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'correlation' is defined but never used. Allowed unused vars must match /^_/u.","line":365,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":365,"endColumn":21},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":843,"column":19,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":843,"endColumn":68}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * What-If Simulator - Simulador de Cen├írios para Licita├º├Áes\n *\n * Este simulador ├® respons├ível por:\n * - Simula├º├Áes Monte Carlo de varia├º├Áes de pre├ºo\n * - An├ílise de sensibilidade multi-dimensional\n * - Cen├írios What-If (e se X aumentar Y%?)\n * - An├ílise de risco e probabilidades\n * - Otimiza├º├úo de margem vs probabilidade de vit├│ria\n * - Stress testing de propostas\n *\n * @module azuria_ai/engines/whatIfSimulator\n */\n\nimport { eventBus } from '../core/eventBus';\nimport { structuredLogger } from '../../services/structuredLogger';\n\n// ============================================================================\n// Constants\n// ============================================================================\n\n/** N├║mero de simula├º├Áes Monte Carlo */\nconst MONTE_CARLO_ITERATIONS = 10000;\n\n/** N├¡veis de confian├ºa para intervalos */\nconst CONFIDENCE_LEVELS = [0.68, 0.95, 0.99]; // 1¤â, 2¤â, 3¤â\n\n/** N├║mero m├íximo de vari├íveis simult├óneas */\nconst MAX_VARIABLES = 20;\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Vari├ível de entrada para simula├º├úo */\nexport interface SimulationVariable {\n  /** Nome da vari├ível */\n  name: string;\n  /** Valor base */\n  baseValue: number;\n  /** Tipo de distribui├º├úo */\n  distribution: 'normal' | 'uniform' | 'triangular' | 'lognormal';\n  /** Par├ómetros da distribui├º├úo */\n  params: {\n    mean?: number;\n    stdDev?: number;\n    min?: number;\n    max?: number;\n    mode?: number; // Para triangular\n  };\n  /** Unidade */\n  unit?: string;\n  /** Correla├º├úo com outras vari├íveis */\n  correlations?: Record<string, number>; // -1 a 1\n}\n\n/** Resultado de simula├º├úo Monte Carlo */\nexport interface MonteCarloResult {\n  /** Vari├ível simulada */\n  variable: string;\n  /** Estat├¡sticas */\n  stats: {\n    mean: number;\n    median: number;\n    stdDev: number;\n    min: number;\n    max: number;\n    variance: number;\n    skewness: number;\n    kurtosis: number;\n  };\n  /** Percentis */\n  percentiles: {\n    p5: number;\n    p10: number;\n    p25: number;\n    p50: number;\n    p75: number;\n    p90: number;\n    p95: number;\n  };\n  /** Intervalos de confian├ºa */\n  confidenceIntervals: Array<{\n    level: number; // 0.68, 0.95, 0.99\n    lower: number;\n    upper: number;\n  }>;\n  /** Histograma (bins) */\n  histogram: Array<{\n    binStart: number;\n    binEnd: number;\n    count: number;\n    frequency: number;\n  }>;\n  /** Todas as amostras (se solicitado) */\n  samples?: number[];\n}\n\n/** Cen├írio What-If */\nexport interface WhatIfScenario {\n  /** ID do cen├írio */\n  id: string;\n  /** Nome descritivo */\n  name: string;\n  /** Descri├º├úo */\n  description?: string;\n  /** Mudan├ºas nas vari├íveis */\n  changes: Array<{\n    variable: string;\n    type: 'percentage' | 'absolute';\n    value: number; // Ex: +10 (%) ou +1000 (absoluto)\n  }>;\n  /** Resultado calculado */\n  result?: {\n    totalCost: number;\n    totalPrice: number;\n    margin: number;\n    marginPercent: number;\n    bdi: number;\n    delta: {\n      cost: number;\n      price: number;\n      margin: number;\n    };\n  };\n}\n\n/** An├ílise de sensibilidade */\nexport interface SensitivityAnalysis {\n  /** Vari├ível analisada */\n  variable: string;\n  /** Impacto em outras vari├íveis */\n  impacts: Array<{\n    targetVariable: string;\n    elasticity: number; // % mudan├ºa em target / % mudan├ºa em source\n    correlation: number; // -1 a 1\n    sensitivity: 'very_high' | 'high' | 'medium' | 'low' | 'very_low';\n  }>;\n  /** Pontos de teste */\n  testPoints: Array<{\n    variationPercent: number; // Ex: -20%, -10%, 0%, +10%, +20%\n    resultValue: number;\n    resultDelta: number;\n  }>;\n}\n\n/** An├ílise de risco */\nexport interface RiskAnalysis {\n  /** Probabilidade de diferentes faixas de resultado */\n  probabilityDistribution: Array<{\n    outcome: string; // Ex: \"Preju├¡zo\", \"Margem < 5%\", \"Margem > 10%\"\n    probability: number;\n    range: { min: number; max: number };\n  }>;\n  /** VaR (Value at Risk) */\n  valueAtRisk: {\n    p95: number; // 95% de chance de perder no m├íximo isso\n    p99: number;\n  };\n  /** Expected Shortfall (CVaR) */\n  expectedShortfall: {\n    p95: number; // Perda m├®dia no pior 5% dos casos\n    p99: number;\n  };\n  /** M├®tricas de risco */\n  metrics: {\n    probabilityOfLoss: number; // Chance de preju├¡zo\n    probabilityOfWinning: number; // Chance de vencer licita├º├úo\n    sharpeRatio: number; // Retorno/Risco\n    expectedValue: number;\n  };\n}\n\n/** Otimiza├º├úo de margem */\nexport interface MarginOptimization {\n  /** Margem ├│tima encontrada */\n  optimalMargin: number;\n  /** BDI correspondente */\n  optimalBDI: number;\n  /** Probabilidade de vit├│ria */\n  winProbability: number;\n  /** Valor esperado */\n  expectedValue: number;\n  /** Curva de trade-off */\n  tradeoffCurve: Array<{\n    margin: number;\n    bdi: number;\n    winProb: number;\n    expectedValue: number;\n  }>;\n  /** Recomenda├º├úo */\n  recommendation: {\n    strategy: 'conservative' | 'balanced' | 'aggressive';\n    reasoning: string[];\n    risks: string[];\n  };\n}\n\n/** Configura├º├úo do simulador */\nexport interface SimulatorConfig {\n  /** N├║mero de itera├º├Áes Monte Carlo */\n  iterations: number;\n  /** Seed para reprodutibilidade */\n  seed?: number;\n  /** Se deve retornar todas as amostras */\n  returnSamples: boolean;\n  /** N├║mero de bins no histograma */\n  histogramBins: number;\n  /** N├¡veis de confian├ºa */\n  confidenceLevels: number[];\n}\n\n/** Estado do simulador */\ninterface SimulatorState {\n  initialized: boolean;\n  config: SimulatorConfig;\n  simulationsRun: number;\n  lastSimulationAt: number;\n}\n\n// ============================================================================\n// State\n// ============================================================================\n\nconst state: SimulatorState = {\n  initialized: false,\n  config: {\n    iterations: MONTE_CARLO_ITERATIONS,\n    returnSamples: false,\n    histogramBins: 50,\n    confidenceLevels: CONFIDENCE_LEVELS,\n  },\n  simulationsRun: 0,\n  lastSimulationAt: 0,\n};\n\n// ============================================================================\n// Random Number Generation\n// ============================================================================\n\n/**\n * Gerador de n├║meros aleat├│rios com seed (para reprodutibilidade)\n */\nclass SeededRandom {\n  private seed: number;\n\n  constructor(seed: number = Date.now()) {\n    this.seed = seed;\n  }\n\n  next(): number {\n    // Linear Congruential Generator (LCG)\n    this.seed = (this.seed * 1664525 + 1013904223) % 2 ** 32;\n    return this.seed / 2 ** 32;\n  }\n\n  normal(mean: number = 0, stdDev: number = 1): number {\n    // Box-Muller transform\n    const u1 = this.next();\n    const u2 = this.next();\n    const z0 = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);\n    return mean + z0 * stdDev;\n  }\n\n  uniform(min: number, max: number): number {\n    return min + this.next() * (max - min);\n  }\n\n  triangular(min: number, mode: number, max: number): number {\n    const u = this.next();\n    const fc = (mode - min) / (max - min);\n    \n    if (u < fc) {\n      return min + Math.sqrt(u * (max - min) * (mode - min));\n    } else {\n      return max - Math.sqrt((1 - u) * (max - min) * (max - mode));\n    }\n  }\n\n  lognormal(mean: number, stdDev: number): number {\n    const normal = this.normal(mean, stdDev);\n    return Math.exp(normal);\n  }\n}\n\n// ============================================================================\n// Statistical Functions\n// ============================================================================\n\n/**\n * Calcula m├®dia\n */\nfunction mean(values: number[]): number {\n  return values.reduce((sum, val) => sum + val, 0) / values.length;\n}\n\n/**\n * Calcula mediana\n */\nfunction median(values: number[]): number {\n  const sorted = [...values].sort((a, b) => a - b);\n  const mid = Math.floor(sorted.length / 2);\n  return sorted.length % 2 === 0\n    ? (sorted[mid - 1] + sorted[mid]) / 2\n    : sorted[mid];\n}\n\n/**\n * Calcula desvio padr├úo\n */\nfunction stdDev(values: number[]): number {\n  const avg = mean(values);\n  const squaredDiffs = values.map(val => Math.pow(val - avg, 2));\n  const variance = mean(squaredDiffs);\n  return Math.sqrt(variance);\n}\n\n/**\n * Calcula percentil\n */\nfunction percentile(values: number[], p: number): number {\n  const sorted = [...values].sort((a, b) => a - b);\n  const index = (p / 100) * (sorted.length - 1);\n  const lower = Math.floor(index);\n  const upper = Math.ceil(index);\n  const weight = index - lower;\n  \n  return sorted[lower] * (1 - weight) + sorted[upper] * weight;\n}\n\n/**\n * Calcula skewness (assimetria)\n */\nfunction skewness(values: number[]): number {\n  const avg = mean(values);\n  const std = stdDev(values);\n  const n = values.length;\n  \n  const sumCubedDeviations = values.reduce((sum, val) => {\n    return sum + Math.pow((val - avg) / std, 3);\n  }, 0);\n  \n  return (n / ((n - 1) * (n - 2))) * sumCubedDeviations;\n}\n\n/**\n * Calcula kurtosis (curtose)\n */\nfunction kurtosis(values: number[]): number {\n  const avg = mean(values);\n  const std = stdDev(values);\n  const n = values.length;\n  \n  const sumQuarticDeviations = values.reduce((sum, val) => {\n    return sum + Math.pow((val - avg) / std, 4);\n  }, 0);\n  \n  return (n * (n + 1) / ((n - 1) * (n - 2) * (n - 3))) * sumQuarticDeviations - \n         (3 * Math.pow(n - 1, 2) / ((n - 2) * (n - 3)));\n}\n\n/**\n * Calcula correla├º├úo de Pearson\n */\nfunction correlation(x: number[], y: number[]): number {\n  if (x.length !== y.length) {\n    throw new Error('Arrays must have same length');\n  }\n\n  const n = x.length;\n  const meanX = mean(x);\n  const meanY = mean(y);\n  \n  let numerator = 0;\n  let sumSqX = 0;\n  let sumSqY = 0;\n  \n  for (let i = 0; i < n; i++) {\n    const dx = x[i] - meanX;\n    const dy = y[i] - meanY;\n    numerator += dx * dy;\n    sumSqX += dx * dx;\n    sumSqY += dy * dy;\n  }\n  \n  const denominator = Math.sqrt(sumSqX * sumSqY);\n  \n  return denominator === 0 ? 0 : numerator / denominator;\n}\n\n/**\n * Cria histograma\n */\nfunction createHistogram(values: number[], bins: number): MonteCarloResult['histogram'] {\n  const min = Math.min(...values);\n  const max = Math.max(...values);\n  const binWidth = (max - min) / bins;\n  \n  const histogram: MonteCarloResult['histogram'] = [];\n  \n  for (let i = 0; i < bins; i++) {\n    const binStart = min + i * binWidth;\n    const binEnd = binStart + binWidth;\n    const count = values.filter(v => v >= binStart && (i === bins - 1 ? v <= binEnd : v < binEnd)).length;\n    \n    histogram.push({\n      binStart,\n      binEnd,\n      count,\n      frequency: count / values.length,\n    });\n  }\n  \n  return histogram;\n}\n\n// ============================================================================\n// Monte Carlo Simulation\n// ============================================================================\n\n/**\n * Executa simula├º├úo Monte Carlo\n */\nexport async function runMonteCarloSimulation(\n  variables: SimulationVariable[],\n  formula: (values: Record<string, number>) => number,\n  config?: Partial<SimulatorConfig>\n): Promise<MonteCarloResult> {\n  \n  const simConfig = { ...state.config, ...config };\n  const rng = new SeededRandom(simConfig.seed);\n  const samples: number[] = [];\n\n  structuredLogger.info('[WhatIfSimulator] Starting Monte Carlo simulation', {\n    variables: variables.length,\n    iterations: simConfig.iterations,\n  });\n\n  // Executar itera├º├Áes\n  for (let i = 0; i < simConfig.iterations; i++) {\n    const values: Record<string, number> = {};\n    \n    // Gerar valor para cada vari├ível\n    for (const variable of variables) {\n      let value: number;\n      \n      switch (variable.distribution) {\n        case 'normal':\n          value = rng.normal(\n            variable.params.mean ?? variable.baseValue,\n            variable.params.stdDev ?? variable.baseValue * 0.1\n          );\n          break;\n        \n        case 'uniform':\n          value = rng.uniform(\n            variable.params.min ?? variable.baseValue * 0.8,\n            variable.params.max ?? variable.baseValue * 1.2\n          );\n          break;\n        \n        case 'triangular':\n          value = rng.triangular(\n            variable.params.min ?? variable.baseValue * 0.8,\n            variable.params.mode ?? variable.baseValue,\n            variable.params.max ?? variable.baseValue * 1.2\n          );\n          break;\n        \n        case 'lognormal':\n          value = rng.lognormal(\n            Math.log(variable.baseValue),\n            variable.params.stdDev ?? 0.2\n          );\n          break;\n        \n        default:\n          value = variable.baseValue;\n      }\n      \n      values[variable.name] = value;\n    }\n    \n    // Calcular resultado usando a f├│rmula\n    const result = formula(values);\n    samples.push(result);\n  }\n\n  // Calcular estat├¡sticas\n  const sortedSamples = [...samples].sort((a, b) => a - b);\n  const avg = mean(samples);\n  const std = stdDev(samples);\n  \n  const result: MonteCarloResult = {\n    variable: 'result',\n    stats: {\n      mean: avg,\n      median: median(samples),\n      stdDev: std,\n      min: sortedSamples[0],\n      max: sortedSamples[sortedSamples.length - 1],\n      variance: std * std,\n      skewness: skewness(samples),\n      kurtosis: kurtosis(samples),\n    },\n    percentiles: {\n      p5: percentile(samples, 5),\n      p10: percentile(samples, 10),\n      p25: percentile(samples, 25),\n      p50: percentile(samples, 50),\n      p75: percentile(samples, 75),\n      p90: percentile(samples, 90),\n      p95: percentile(samples, 95),\n    },\n    confidenceIntervals: simConfig.confidenceLevels.map(level => ({\n      level,\n      lower: avg - level * std,\n      upper: avg + level * std,\n    })),\n    histogram: createHistogram(samples, simConfig.histogramBins),\n    samples: simConfig.returnSamples ? samples : undefined,\n  };\n\n  state.simulationsRun++;\n  state.lastSimulationAt = Date.now();\n\n  eventBus.emit('simulator:monte-carlo-completed', {\n    iterations: simConfig.iterations,\n    mean: avg,\n    stdDev: std,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[WhatIfSimulator] Monte Carlo completed', {\n    iterations: simConfig.iterations,\n    mean: avg,\n    stdDev: std,\n    duration: Date.now() - state.lastSimulationAt,\n  });\n\n  return result;\n}\n\n// ============================================================================\n// What-If Analysis\n// ============================================================================\n\n/**\n * Executa an├ílise What-If\n */\nexport async function analyzeWhatIfScenarios(\n  baseValues: Record<string, number>,\n  scenarios: WhatIfScenario[],\n  calculator: (values: Record<string, number>) => {\n    totalCost: number;\n    totalPrice: number;\n    margin: number;\n    bdi: number;\n  }\n): Promise<WhatIfScenario[]> {\n  \n  structuredLogger.info('[WhatIfSimulator] Analyzing What-If scenarios', {\n    scenarios: scenarios.length,\n  });\n\n  const results: WhatIfScenario[] = [];\n\n  // Calcular baseline\n  const baseline = calculator(baseValues);\n\n  // Para cada cen├írio\n  for (const scenario of scenarios) {\n    const modifiedValues = { ...baseValues };\n    \n    // Aplicar mudan├ºas\n    for (const change of scenario.changes) {\n      const currentValue = baseValues[change.variable];\n      \n      if (change.type === 'percentage') {\n        modifiedValues[change.variable] = currentValue * (1 + change.value / 100);\n      } else {\n        modifiedValues[change.variable] = currentValue + change.value;\n      }\n    }\n    \n    // Calcular resultado\n    const result = calculator(modifiedValues);\n    \n    results.push({\n      ...scenario,\n      result: {\n        ...result,\n        marginPercent: (result.margin / result.totalCost) * 100,\n        delta: {\n          cost: result.totalCost - baseline.totalCost,\n          price: result.totalPrice - baseline.totalPrice,\n          margin: result.margin - baseline.margin,\n        },\n      },\n    });\n  }\n\n  eventBus.emit('simulator:whatif-completed', {\n    scenarios: results.length,\n    timestamp: Date.now(),\n  });\n\n  return results;\n}\n\n// ============================================================================\n// Sensitivity Analysis\n// ============================================================================\n\n/**\n * Executa an├ílise de sensibilidade\n */\nexport async function analyzeSensitivity(\n  baseValues: Record<string, number>,\n  targetVariable: string,\n  testVariables: string[],\n  calculator: (values: Record<string, number>) => number,\n  variationPercent: number[] = [-20, -10, -5, 0, 5, 10, 20]\n): Promise<SensitivityAnalysis[]> {\n  \n  structuredLogger.info('[WhatIfSimulator] Analyzing sensitivity', {\n    targetVariable,\n    testVariables: testVariables.length,\n  });\n\n  const results: SensitivityAnalysis[] = [];\n  const baselineResult = calculator(baseValues);\n\n  for (const variable of testVariables) {\n    const testPoints: SensitivityAnalysis['testPoints'] = [];\n    \n    // Testar diferentes varia├º├Áes\n    for (const variation of variationPercent) {\n      const modifiedValues = { ...baseValues };\n      modifiedValues[variable] = baseValues[variable] * (1 + variation / 100);\n      \n      const result = calculator(modifiedValues);\n      const delta = result - baselineResult;\n      \n      testPoints.push({\n        variationPercent: variation,\n        resultValue: result,\n        resultDelta: delta,\n      });\n    }\n    \n    // Calcular elasticidade (usando pontos +10% e -10%)\n    const plus10 = testPoints.find(p => p.variationPercent === 10);\n    const minus10 = testPoints.find(p => p.variationPercent === -10);\n    \n    let elasticity = 0;\n    if (plus10 && minus10) {\n      const deltaPercent = ((plus10.resultValue - minus10.resultValue) / baselineResult) / 0.2; // 20% variation\n      elasticity = deltaPercent;\n    }\n    \n    // Classificar sensibilidade\n    const absElasticity = Math.abs(elasticity);\n    let sensitivity: SensitivityAnalysis['impacts'][0]['sensitivity'];\n    \n    if (absElasticity > 2) {\n      sensitivity = 'very_high';\n    } else if (absElasticity > 1) {\n      sensitivity = 'high';\n    } else if (absElasticity > 0.5) {\n      sensitivity = 'medium';\n    } else if (absElasticity > 0.1) {\n      sensitivity = 'low';\n    } else {\n      sensitivity = 'very_low';\n    }\n    \n    results.push({\n      variable,\n      impacts: [{\n        targetVariable,\n        elasticity,\n        correlation: elasticity > 0 ? 1 : -1, // Simplificado\n        sensitivity,\n      }],\n      testPoints,\n    });\n  }\n\n  eventBus.emit('simulator:sensitivity-completed', {\n    variables: results.length,\n    timestamp: Date.now(),\n  });\n\n  return results;\n}\n\n// ============================================================================\n// Risk Analysis\n// ============================================================================\n\n/**\n * Executa an├ílise de risco\n */\nexport async function analyzeRisk(\n  monteCarlo: MonteCarloResult,\n  competitorPrices?: number[]\n): Promise<RiskAnalysis> {\n  \n  const samples = monteCarlo.samples || [];\n  if (samples.length === 0) {\n    throw new Error('Monte Carlo samples are required for risk analysis');\n  }\n\n  const sortedSamples = [...samples].sort((a, b) => a - b);\n  const mean = monteCarlo.stats.mean;\n  \n  // Probabilidade de preju├¡zo (pre├ºo < custo)\n  const lossCount = samples.filter(s => s < 0).length;\n  const probabilityOfLoss = lossCount / samples.length;\n  \n  // VaR e CVaR\n  const var95 = percentile(samples, 5);\n  const var99 = percentile(samples, 1);\n  \n  const worst5Percent = sortedSamples.slice(0, Math.floor(samples.length * 0.05));\n  const worst1Percent = sortedSamples.slice(0, Math.floor(samples.length * 0.01));\n  \n  const cvar95 = mean(worst5Percent);\n  const cvar99 = mean(worst1Percent);\n  \n  // Probabilidade de vencer (se temos pre├ºos dos concorrentes)\n  let probabilityOfWinning = 0.5; // Default\n  \n  if (competitorPrices && competitorPrices.length > 0) {\n    const avgCompetitorPrice = mean(competitorPrices);\n    const winsCount = samples.filter(s => s < avgCompetitorPrice).length;\n    probabilityOfWinning = winsCount / samples.length;\n  }\n  \n  // Sharpe Ratio (simplificado)\n  const riskFreeRate = 0; // Assumindo 0 para simplificar\n  const excessReturn = mean - riskFreeRate;\n  const sharpeRatio = excessReturn / monteCarlo.stats.stdDev;\n  \n  // Distribui├º├úo de probabilidades\n  const probabilityDistribution: RiskAnalysis['probabilityDistribution'] = [\n    {\n      outcome: 'Preju├¡zo',\n      probability: probabilityOfLoss,\n      range: { min: sortedSamples[0], max: 0 },\n    },\n    {\n      outcome: 'Margem < 5%',\n      probability: samples.filter(s => s > 0 && s < mean * 0.05).length / samples.length,\n      range: { min: 0, max: mean * 0.05 },\n    },\n    {\n      outcome: 'Margem 5-10%',\n      probability: samples.filter(s => s >= mean * 0.05 && s < mean * 0.1).length / samples.length,\n      range: { min: mean * 0.05, max: mean * 0.1 },\n    },\n    {\n      outcome: 'Margem > 10%',\n      probability: samples.filter(s => s >= mean * 0.1).length / samples.length,\n      range: { min: mean * 0.1, max: sortedSamples[sortedSamples.length - 1] },\n    },\n  ];\n\n  const result: RiskAnalysis = {\n    probabilityDistribution,\n    valueAtRisk: {\n      p95: var95,\n      p99: var99,\n    },\n    expectedShortfall: {\n      p95: cvar95,\n      p99: cvar99,\n    },\n    metrics: {\n      probabilityOfLoss,\n      probabilityOfWinning,\n      sharpeRatio,\n      expectedValue: mean,\n    },\n  };\n\n  structuredLogger.info('[WhatIfSimulator] Risk analysis completed', {\n    probabilityOfLoss,\n    probabilityOfWinning,\n    sharpeRatio,\n  });\n\n  return result;\n}\n\n// ============================================================================\n// Margin Optimization\n// ============================================================================\n\n/**\n * Otimiza margem para maximizar valor esperado\n */\nexport async function optimizeMargin(\n  baseCost: number,\n  competitorPrices: number[],\n  marginRange: { min: number; max: number; step: number }\n): Promise<MarginOptimization> {\n  \n  structuredLogger.info('[WhatIfSimulator] Optimizing margin');\n\n  const tradeoffCurve: MarginOptimization['tradeoffCurve'] = [];\n  let bestMargin = marginRange.min;\n  let bestExpectedValue = -Infinity;\n\n  // Testar diferentes margens\n  for (let margin = marginRange.min; margin <= marginRange.max; margin += marginRange.step) {\n    const price = baseCost * (1 + margin / 100);\n    \n    // Calcular probabilidade de vencer\n    const winsCount = competitorPrices.filter(cp => price < cp).length;\n    const winProb = winsCount / competitorPrices.length;\n    \n    // Valor esperado = Probabilidade * Margem\n    const expectedValue = winProb * (price - baseCost);\n    \n    // BDI estimado\n    const bdi = margin;\n    \n    tradeoffCurve.push({\n      margin,\n      bdi,\n      winProb,\n      expectedValue,\n    });\n    \n    if (expectedValue > bestExpectedValue) {\n      bestExpectedValue = expectedValue;\n      bestMargin = margin;\n    }\n  }\n\n  const optimal = tradeoffCurve.find(t => t.margin === bestMargin)!;\n\n  // Determinar estrat├®gia\n  let strategy: MarginOptimization['recommendation']['strategy'];\n  let reasoning: string[];\n  let risks: string[];\n\n  if (optimal.winProb > 0.7) {\n    strategy = 'aggressive';\n    reasoning = [\n      'Alta probabilidade de vit├│ria permite margem maior',\n      'Concorrentes t├¬m pre├ºos significativamente mais altos',\n      'Oportunidade de maximizar lucro mantendo competitividade',\n    ];\n    risks = [\n      'Concorrente pode ajustar pre├ºo de ├║ltima hora',\n      'Margem alta pode chamar aten├º├úo em auditoria',\n    ];\n  } else if (optimal.winProb > 0.4) {\n    strategy = 'balanced';\n    reasoning = [\n      'Probabilidade moderada requer equil├¡brio entre lucro e competitividade',\n      'Margem permite flexibilidade em negocia├º├úo',\n      'Risco controlado com retorno adequado',\n    ];\n    risks = [\n      'Concorr├¬ncia acirrada',\n      'Pode ser necess├írio ajuste fino antes do envio',\n    ];\n  } else {\n    strategy = 'conservative';\n    reasoning = [\n      'Concorr├¬ncia muito forte exige pre├ºo agressivo',\n      'Priorizar vit├│ria sobre margem neste caso',\n      'Construir relacionamento com ├│rg├úo para futuras licita├º├Áes',\n    ];\n    risks = [\n      'Margem baixa pode resultar em preju├¡zo se houver imprevistos',\n      'Dif├¡cil justificar valores muito baixos',\n    ];\n  }\n\n  const result: MarginOptimization = {\n    optimalMargin: bestMargin,\n    optimalBDI: optimal.bdi,\n    winProbability: optimal.winProb,\n    expectedValue: bestExpectedValue,\n    tradeoffCurve,\n    recommendation: {\n      strategy,\n      reasoning,\n      risks,\n    },\n  };\n\n  eventBus.emit('simulator:optimization-completed', {\n    optimalMargin: bestMargin,\n    winProbability: optimal.winProb,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[WhatIfSimulator] Margin optimization completed', {\n    optimalMargin: bestMargin,\n    winProbability: optimal.winProb,\n    strategy,\n  });\n\n  return result;\n}\n\n// ============================================================================\n// Engine Management\n// ============================================================================\n\n/**\n * Inicializa o simulador\n */\nexport function initWhatIfSimulator(config?: Partial<SimulatorConfig>): void {\n  if (state.initialized) {\n    structuredLogger.warn('[WhatIfSimulator] Already initialized');\n    return;\n  }\n\n  if (config) {\n    state.config = { ...state.config, ...config };\n  }\n\n  state.initialized = true;\n\n  eventBus.emit('engine:whatif-simulator-ready', {\n    config: state.config,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[WhatIfSimulator] Initialized');\n}\n\n/**\n * Estat├¡sticas\n */\nexport function getSimulatorStats(): {\n  simulationsRun: number;\n  lastSimulationAt: number;\n  config: SimulatorConfig;\n} {\n  return {\n    simulationsRun: state.simulationsRun,\n    lastSimulationAt: state.lastSimulationAt,\n    config: state.config,\n  };\n}\n\n// ============================================================================\n// Export\n// ============================================================================\n\nexport default {\n  initWhatIfSimulator,\n  runMonteCarloSimulation,\n  analyzeWhatIfScenarios,\n  analyzeSensitivity,\n  analyzeRisk,\n  optimizeMargin,\n  getSimulatorStats,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\engines\\xaiEngine.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ragEngine' is defined but never used. Allowed unused vars must match /^_/u.","line":17,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":17},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":748,"column":5,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":748,"endColumn":30,"suggestions":[{"messageId":"suggestOptionalChain","fix":{"range":[20791,20792],"text":"?"},"desc":"Consider using the optional chain operator `?.` instead. This operator includes runtime checks, so it is safer than the compile-only non-null assertion operator."}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":785,"column":21,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":785,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * XAI Engine - Explainable AI para Decis├Áes de BDI\n *\n * Este engine ├® respons├ível por:\n * - Explicar por que certos valores de BDI foram sugeridos\n * - SHAP values para import├óncia de features\n * - Counterfactual explanations (\"E se...?\")\n * - Visualiza├º├Áes de decis├úo em ├írvore\n * - Justificativas baseadas em legisla├º├úo\n * - Relat├│rios de auditoria explic├íveis\n *\n * @module azuria_ai/engines/xaiEngine\n */\n\nimport { eventBus } from '../core/eventBus';\nimport { structuredLogger } from '../../services/structuredLogger';\nimport ragEngine from './ragEngine';\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Fator que influenciou uma decis├úo */\nexport interface DecisionFactor {\n  /** Nome do fator */\n  name: string;\n  /** Valor do fator */\n  value: number | string | boolean;\n  /** Peso/import├óncia (0-1) */\n  importance: number;\n  /** Dire├º├úo do impacto */\n  impact: 'positive' | 'negative' | 'neutral';\n  /** Magnitude do impacto */\n  magnitude: number;\n  /** Explica├º├úo em texto */\n  explanation: string;\n  /** Refer├¬ncia legal (se aplic├ível) */\n  legalReference?: {\n    source: string;\n    article: string;\n    text: string;\n  };\n}\n\n/** Explica├º├úo completa de uma decis├úo */\nexport interface DecisionExplanation {\n  /** ID da decis├úo */\n  decisionId: string;\n  /** Tipo de decis├úo */\n  decisionType: 'bdi_calculation' | 'margin_suggestion' | 'risk_assessment' | 'compliance_check';\n  /** Resultado da decis├úo */\n  result: {\n    value: number | string | boolean;\n    label: string;\n    confidence: number;\n  };\n  /** Fatores que influenciaram */\n  factors: DecisionFactor[];\n  /** Fatores mais importantes (top 3-5) */\n  topFactors: DecisionFactor[];\n  /** Alternativas consideradas */\n  alternatives?: Array<{\n    value: number | string;\n    label: string;\n    confidence: number;\n    reasoning: string;\n  }>;\n  /** Justificativa geral */\n  rationale: string;\n  /** Refer├¬ncias legais aplicadas */\n  legalBasis: Array<{\n    source: string;\n    requirement: string;\n    compliance: 'met' | 'not_met' | 'partial';\n  }>;\n  /** Timestamp */\n  timestamp: number;\n}\n\n/** An├ílise SHAP (SHapley Additive exPlanations) */\nexport interface ShapAnalysis {\n  /** Feature analisada */\n  feature: string;\n  /** Valor da feature */\n  value: number | string;\n  /** SHAP value (contribui├º├úo) */\n  shapValue: number;\n  /** Baseline (valor esperado sem a feature) */\n  baseline: number;\n  /** Valor predito com a feature */\n  predicted: number;\n  /** Interpreta├º├úo */\n  interpretation: string;\n}\n\n/** Explica├º├úo counterfactual (\"E se...?\") */\nexport interface CounterfactualExplanation {\n  /** Decis├úo original */\n  original: {\n    inputs: Record<string, number | string>;\n    output: number | string;\n  };\n  /** Mudan├ºa m├¡nima necess├íria para alterar decis├úo */\n  minimalChange: {\n    changedInputs: Record<string, number | string>;\n    newOutput: number | string;\n    changes: Array<{\n      feature: string;\n      from: number | string;\n      to: number | string;\n      delta: number;\n    }>;\n  };\n  /** Explica├º├úo em texto */\n  explanation: string;\n  /** Viabilidade da mudan├ºa */\n  feasibility: 'easy' | 'moderate' | 'difficult' | 'impossible';\n}\n\n/** ├ürvore de decis├úo explic├ível */\nexport interface DecisionTree {\n  /** N├│ atual */\n  node: {\n    id: string;\n    question: string;\n    answer: string | number | boolean;\n    reasoning: string;\n  };\n  /** Caminho tomado */\n  path: Array<{\n    step: number;\n    question: string;\n    answer: string | number | boolean;\n    reasoning: string;\n  }>;\n  /** Resultado final */\n  outcome: {\n    value: number | string;\n    label: string;\n    confidence: number;\n  };\n  /** Caminhos alternativos */\n  alternativePaths?: Array<{\n    divergencePoint: number;\n    alternativeAnswer: string;\n    wouldLead: string;\n  }>;\n}\n\n/** Relat├│rio de auditoria explic├ível */\nexport interface AuditReport {\n  /** ID do relat├│rio */\n  reportId: string;\n  /** Per├¡odo analisado */\n  period: {\n    start: Date;\n    end: Date;\n  };\n  /** Decis├Áes auditadas */\n  decisionsAudited: number;\n  /** Compliance score geral */\n  complianceScore: number;\n  /** Decis├Áes por categoria */\n  byCategory: Array<{\n    category: string;\n    count: number;\n    avgConfidence: number;\n    complianceRate: number;\n    issues: string[];\n  }>;\n  /** Principais fatores de decis├úo */\n  topDecisionFactors: Array<{\n    factor: string;\n    frequency: number;\n    avgImportance: number;\n  }>;\n  /** Recomenda├º├Áes */\n  recommendations: Array<{\n    priority: 'high' | 'medium' | 'low';\n    category: string;\n    issue: string;\n    recommendation: string;\n  }>;\n  /** Gerado em */\n  generatedAt: number;\n}\n\n/** Configura├º├úo do XAI */\nexport interface XAIConfig {\n  /** Se est├í habilitado */\n  enabled: boolean;\n  /** N├¡vel de detalhe das explica├º├Áes */\n  verbosity: 'minimal' | 'standard' | 'detailed' | 'exhaustive';\n  /** Se deve incluir refer├¬ncias legais */\n  includeLegalReferences: boolean;\n  /** Se deve gerar SHAP values */\n  computeShap: boolean;\n  /** Se deve gerar counterfactuals */\n  generateCounterfactuals: boolean;\n}\n\n/** Estado do engine */\ninterface XAIEngineState {\n  initialized: boolean;\n  config: XAIConfig;\n  explanationsGenerated: number;\n  lastExplanationAt: number;\n}\n\n// ============================================================================\n// State\n// ============================================================================\n\nconst state: XAIEngineState = {\n  initialized: false,\n  config: {\n    enabled: true,\n    verbosity: 'standard',\n    includeLegalReferences: true,\n    computeShap: true,\n    generateCounterfactuals: true,\n  },\n  explanationsGenerated: 0,\n  lastExplanationAt: 0,\n};\n\n// ============================================================================\n// BDI Decision Factors\n// ============================================================================\n\n/**\n * Define fatores padr├úo para c├ílculo de BDI\n */\nconst BDI_FACTORS = {\n  // Custos Indiretos\n  administracao_central: {\n    min: 0.5,\n    max: 5.0,\n    typical: 2.5,\n    description: 'Administra├º├úo Central (escrit├│rio, RH, contabilidade)',\n    legalBasis: 'Ac├│rd├úo TCU 2622/2013',\n  },\n  despesas_financeiras: {\n    min: 0.5,\n    max: 3.0,\n    typical: 1.5,\n    description: 'Despesas Financeiras (juros, IOF, taxas banc├írias)',\n    legalBasis: 'Ac├│rd├úo TCU 2622/2013',\n  },\n  lucro: {\n    min: 3.0,\n    max: 10.0,\n    typical: 6.5,\n    description: 'Lucro da empresa',\n    legalBasis: 'Lei 8.666/93 Art. 6┬║, XI',\n  },\n  garantias: {\n    min: 0.1,\n    max: 1.5,\n    typical: 0.5,\n    description: 'Seguros e Garantias',\n    legalBasis: 'Ac├│rd├úo TCU 2622/2013',\n  },\n  impostos: {\n    min: 2.5,\n    max: 9.25,\n    typical: 5.93,\n    description: 'Impostos (ISS, PIS, COFINS, IRPJ, CSLL)',\n    legalBasis: 'Legisla├º├úo Tribut├íria Federal',\n  },\n  risco: {\n    min: 0.5,\n    max: 5.0,\n    typical: 2.0,\n    description: 'Risco do empreendimento',\n    legalBasis: 'Ac├│rd├úo TCU 2622/2013',\n  },\n};\n\n// ============================================================================\n// Core XAI Functions\n// ============================================================================\n\n/**\n * Explica c├ílculo de BDI\n */\nexport async function explainBDICalculation(\n  inputs: {\n    administracaoCentral: number;\n    despesasFinanceiras: number;\n    lucro: number;\n    garantias: number;\n    impostos: number;\n    risco: number;\n  },\n  bdiCalculado: number\n): Promise<DecisionExplanation> {\n  \n  structuredLogger.info('[XAIEngine] Explaining BDI calculation', {\n    bdi: bdiCalculado,\n  });\n\n  // 1. Analisar cada fator\n  const factors: DecisionFactor[] = [];\n\n  for (const [key, value] of Object.entries(inputs)) {\n    const factorInfo = BDI_FACTORS[key as keyof typeof BDI_FACTORS];\n    \n    if (!factorInfo) {continue;}\n\n    // Calcular import├óncia baseado em desvio do t├¡pico e magnitude\n    const deviation = Math.abs(value - factorInfo.typical);\n    const relativeDeviation = deviation / factorInfo.typical;\n    const importance = Math.min((value / bdiCalculado) * (1 + relativeDeviation), 1);\n\n    // Determinar impacto\n    let impact: DecisionFactor['impact'];\n    let magnitude: number;\n    let explanation: string;\n\n    if (value > factorInfo.typical * 1.2) {\n      impact = 'positive';\n      magnitude = (value - factorInfo.typical) / factorInfo.typical;\n      explanation = `Valor acima do t├¡pico (${factorInfo.typical}%), aumentando o BDI significativamente. ${factorInfo.description}`;\n    } else if (value < factorInfo.typical * 0.8) {\n      impact = 'negative';\n      magnitude = (factorInfo.typical - value) / factorInfo.typical;\n      explanation = `Valor abaixo do t├¡pico (${factorInfo.typical}%), resultando em BDI mais competitivo. ${factorInfo.description}`;\n    } else {\n      impact = 'neutral';\n      magnitude = Math.abs(value - factorInfo.typical) / factorInfo.typical;\n      explanation = `Valor dentro da faixa t├¡pica (${factorInfo.typical}%). ${factorInfo.description}`;\n    }\n\n    // Buscar refer├¬ncia legal (se habilitado)\n    let legalReference;\n    if (state.config.includeLegalReferences) {\n      // TODO: Integrar com RAG para buscar texto completo\n      legalReference = {\n        source: factorInfo.legalBasis,\n        article: '',\n        text: `Conforme ${factorInfo.legalBasis}, este item est├í previsto na composi├º├úo do BDI.`,\n      };\n    }\n\n    factors.push({\n      name: key,\n      value,\n      importance,\n      impact,\n      magnitude,\n      explanation,\n      legalReference,\n    });\n  }\n\n  // 2. Identificar top fatores\n  const topFactors = [...factors]\n    .sort((a, b) => b.importance - a.importance)\n    .slice(0, 3);\n\n  // 3. Construir rationale\n  const rationale = `\nO BDI de ${bdiCalculado.toFixed(2)}% foi calculado considerando ${factors.length} componentes principais.\n\n**Fatores mais relevantes**:\n${topFactors.map(f => `ÔÇó **${f.name}**: ${f.value}% - ${f.explanation}`).join('\\n')}\n\nO valor est├í ${bdiCalculado > 25 ? 'acima' : bdiCalculado < 20 ? 'abaixo' : 'dentro'} da faixa t├¡pica de mercado (20-25%).\n\n${bdiCalculado > 30 ? 'ÔÜá´©Å **Aten├º├úo**: BDI acima de 30% pode ser questionado em auditoria TCU.' : ''}\n${bdiCalculado < 15 ? 'ÔÜá´©Å **Aten├º├úo**: BDI abaixo de 15% pode indicar proposta inexequ├¡vel.' : ''}\n  `.trim();\n\n  // 4. Legal basis\n  const legalBasis = [\n    {\n      source: 'Lei 8.666/93 Art. 6┬║, XI',\n      requirement: 'BDI deve incluir despesas indiretas, tributos, lucro e custos financeiros',\n      compliance: 'met' as const,\n    },\n    {\n      source: 'Ac├│rd├úo TCU 2622/2013',\n      requirement: 'Percentuais de cada componente devem estar dentro de faixas razo├íveis',\n      compliance: (bdiCalculado >= 15 && bdiCalculado <= 30) ? 'met' as const : 'partial' as const,\n    },\n  ];\n\n  // 5. Alternativas\n  const alternatives = [\n    {\n      value: bdiCalculado * 0.9,\n      label: 'BDI Conservador (-10%)',\n      confidence: 0.85,\n      reasoning: 'Aumenta chances de vit├│ria, mas reduz margem',\n    },\n    {\n      value: bdiCalculado * 1.1,\n      label: 'BDI Agressivo (+10%)',\n      confidence: 0.65,\n      reasoning: 'Maior margem, mas menor chance de vit├│ria',\n    },\n  ];\n\n  const explanation: DecisionExplanation = {\n    decisionId: `bdi-${Date.now()}`,\n    decisionType: 'bdi_calculation',\n    result: {\n      value: bdiCalculado,\n      label: `BDI: ${bdiCalculado.toFixed(2)}%`,\n      confidence: 0.92,\n    },\n    factors,\n    topFactors,\n    alternatives,\n    rationale,\n    legalBasis,\n    timestamp: Date.now(),\n  };\n\n  state.explanationsGenerated++;\n  state.lastExplanationAt = Date.now();\n\n  eventBus.emit('xai:explanation-generated', {\n    type: 'bdi_calculation',\n    bdi: bdiCalculado,\n    topFactors: topFactors.map(f => f.name),\n    timestamp: Date.now(),\n  });\n\n  return explanation;\n}\n\n/**\n * Computa SHAP values para features\n */\nexport async function computeShapValues(\n  inputs: Record<string, number>,\n  prediction: number,\n  model: (inputs: Record<string, number>) => number\n): Promise<ShapAnalysis[]> {\n  \n  if (!state.config.computeShap) {\n    return [];\n  }\n\n  structuredLogger.info('[XAIEngine] Computing SHAP values');\n\n  const shapAnalyses: ShapAnalysis[] = [];\n\n  // Baseline: m├®dia de todos os inputs\n  const baseline = Object.values(inputs).reduce((sum, val) => sum + val, 0) / Object.keys(inputs).length;\n  const baselinePrediction = model(Object.fromEntries(Object.keys(inputs).map(k => [k, baseline])));\n\n  // Para cada feature, calcular contribui├º├úo marginal\n  for (const [feature, value] of Object.entries(inputs)) {\n    // Predi├º├úo sem esta feature (usando baseline)\n    const inputsWithoutFeature = { ...inputs, [feature]: baseline };\n    const predictionWithoutFeature = model(inputsWithoutFeature);\n\n    // SHAP value = diferen├ºa marginal\n    const shapValue = prediction - predictionWithoutFeature;\n\n    // Interpreta├º├úo\n    let interpretation: string;\n    const absShap = Math.abs(shapValue);\n    \n    if (absShap > prediction * 0.1) {\n      interpretation = shapValue > 0\n        ? `${feature} aumenta significativamente o resultado (+${shapValue.toFixed(2)})`\n        : `${feature} reduz significativamente o resultado (${shapValue.toFixed(2)})`;\n    } else if (absShap > prediction * 0.05) {\n      interpretation = shapValue > 0\n        ? `${feature} tem impacto moderado positivo`\n        : `${feature} tem impacto moderado negativo`;\n    } else {\n      interpretation = `${feature} tem impacto m├¡nimo no resultado`;\n    }\n\n    shapAnalyses.push({\n      feature,\n      value,\n      shapValue,\n      baseline: baselinePrediction,\n      predicted: prediction,\n      interpretation,\n    });\n  }\n\n  // Ordenar por import├óncia (|SHAP value|)\n  shapAnalyses.sort((a, b) => Math.abs(b.shapValue) - Math.abs(a.shapValue));\n\n  return shapAnalyses;\n}\n\n/**\n * Gera explica├º├úo counterfactual\n */\nexport async function generateCounterfactual(\n  originalInputs: Record<string, number>,\n  originalOutput: number,\n  targetOutput: number,\n  model: (inputs: Record<string, number>) => number,\n  constraints?: Record<string, { min: number; max: number }>\n): Promise<CounterfactualExplanation> {\n  \n  if (!state.config.generateCounterfactuals) {\n    throw new Error('Counterfactual generation is disabled');\n  }\n\n  structuredLogger.info('[XAIEngine] Generating counterfactual explanation');\n\n  // Algoritmo simples: testar mudan├ºas incrementais em cada feature\n  let bestInputs = { ...originalInputs };\n  let bestDistance = Infinity;\n  let bestOutput = originalOutput;\n\n  const maxIterations = 100;\n  const stepSize = 0.01; // 1% de mudan├ºa por itera├º├úo\n\n  for (let iter = 0; iter < maxIterations; iter++) {\n    for (const feature of Object.keys(originalInputs)) {\n      // Tentar aumentar\n      const testInputsUp = { ...bestInputs };\n      testInputsUp[feature] *= (1 + stepSize);\n      \n      // Verificar constraints\n      if (constraints && constraints[feature]) {\n        const { min, max } = constraints[feature];\n        if (testInputsUp[feature] < min || testInputsUp[feature] > max) {\n          continue;\n        }\n      }\n      \n      const outputUp = model(testInputsUp);\n      const distanceUp = Math.abs(outputUp - targetOutput);\n      \n      if (distanceUp < bestDistance) {\n        bestInputs = testInputsUp;\n        bestDistance = distanceUp;\n        bestOutput = outputUp;\n      }\n\n      // Tentar diminuir\n      const testInputsDown = { ...bestInputs };\n      testInputsDown[feature] *= (1 - stepSize);\n      \n      if (constraints && constraints[feature]) {\n        const { min, max } = constraints[feature];\n        if (testInputsDown[feature] < min || testInputsDown[feature] > max) {\n          continue;\n        }\n      }\n      \n      const outputDown = model(testInputsDown);\n      const distanceDown = Math.abs(outputDown - targetOutput);\n      \n      if (distanceDown < bestDistance) {\n        bestInputs = testInputsDown;\n        bestDistance = distanceDown;\n        bestOutput = outputDown;\n      }\n    }\n\n    // Se chegou perto o suficiente, parar\n    if (bestDistance < Math.abs(targetOutput) * 0.01) {\n      break;\n    }\n  }\n\n  // Calcular mudan├ºas\n  const changes = Object.keys(originalInputs).map(feature => {\n    const from = originalInputs[feature];\n    const to = bestInputs[feature];\n    const delta = ((to - from) / from) * 100;\n    \n    return { feature, from, to, delta };\n  }).filter(c => Math.abs(c.delta) > 0.1); // Apenas mudan├ºas > 0.1%\n\n  // Explica├º├úo\n  const explanation = `\nPara alcan├ºar BDI de ${targetOutput.toFixed(2)}% (ao inv├®s de ${originalOutput.toFixed(2)}%), voc├¬ precisaria:\n\n${changes.map(c => {\n  const direction = c.delta > 0 ? 'aumentar' : 'reduzir';\n  return `ÔÇó ${direction} **${c.feature}** de ${c.from.toFixed(2)}% para ${c.to.toFixed(2)}% (${c.delta > 0 ? '+' : ''}${c.delta.toFixed(1)}%)`;\n}).join('\\n')}\n\n${changes.length === 0 ? 'Nenhuma mudan├ºa m├¡nima vi├ível foi encontrada dentro das restri├º├Áes.' : ''}\n  `.trim();\n\n  // Viabilidade\n  const totalChangePercent = changes.reduce((sum, c) => sum + Math.abs(c.delta), 0);\n  let feasibility: CounterfactualExplanation['feasibility'];\n  \n  if (totalChangePercent < 5) {\n    feasibility = 'easy';\n  } else if (totalChangePercent < 15) {\n    feasibility = 'moderate';\n  } else if (totalChangePercent < 30) {\n    feasibility = 'difficult';\n  } else {\n    feasibility = 'impossible';\n  }\n\n  return {\n    original: {\n      inputs: originalInputs,\n      output: originalOutput,\n    },\n    minimalChange: {\n      changedInputs: bestInputs,\n      newOutput: bestOutput,\n      changes,\n    },\n    explanation,\n    feasibility,\n  };\n}\n\n/**\n * Constr├│i ├írvore de decis├úo explic├ível\n */\nexport async function buildDecisionTree(\n  inputs: Record<string, number | string | boolean>,\n  decisionType: 'bdi_calculation' | 'compliance_check'\n): Promise<DecisionTree> {\n  \n  structuredLogger.info('[XAIEngine] Building decision tree');\n\n  const path: DecisionTree['path'] = [];\n  let step = 0;\n\n  if (decisionType === 'bdi_calculation') {\n    // Exemplo de ├írvore para BDI\n    \n    // Passo 1: Verificar modalidade\n    step++;\n    path.push({\n      step,\n      question: 'Qual a modalidade da licita├º├úo?',\n      answer: inputs.modalidade as string,\n      reasoning: 'Modalidade determina limites e regras espec├¡ficas do TCU',\n    });\n\n    // Passo 2: Verificar valor estimado\n    const valorEstimado = inputs.valorEstimado as number;\n    step++;\n    path.push({\n      step,\n      question: 'Valor estimado da obra/servi├ºo?',\n      answer: valorEstimado,\n      reasoning: 'Obras de maior valor exigem BDI mais conservador',\n    });\n\n    // Passo 3: Calcular faixa de BDI\n    const bdiMin = 15;\n    let bdiMax = 25;\n    \n    if (valorEstimado > 10000000) { // > 10M\n      bdiMax = 22;\n      step++;\n      path.push({\n        step,\n        question: 'Obra de grande porte (> R$ 10M)?',\n        answer: 'Sim',\n        reasoning: 'Limitar BDI m├íximo em 22% conforme jurisprud├¬ncia TCU',\n      });\n    }\n\n    // Passo 4: Ajustar por risco\n    const risco = inputs.risco as number;\n    if (risco > 3) {\n      bdiMax += 3;\n      step++;\n      path.push({\n        step,\n        question: 'Risco do empreendimento ├® alto?',\n        answer: `${risco}% (Alto)`,\n        reasoning: 'Risco alto justifica BDI at├® 3% maior',\n      });\n    }\n\n    // Resultado\n    const bdiFinal = (bdiMin + bdiMax) / 2;\n\n    return {\n      node: {\n        id: `decision-${Date.now()}`,\n        question: 'Qual o BDI adequado?',\n        answer: bdiFinal,\n        reasoning: `Baseado na an├ílise, BDI entre ${bdiMin}% e ${bdiMax}%`,\n      },\n      path,\n      outcome: {\n        value: bdiFinal,\n        label: `BDI sugerido: ${bdiFinal.toFixed(2)}%`,\n        confidence: 0.88,\n      },\n      alternativePaths: [\n        {\n          divergencePoint: 3,\n          alternativeAnswer: 'Risco baixo',\n          wouldLead: `BDI mais conservador (~${bdiMin}%)`,\n        },\n      ],\n    };\n  }\n\n  // Default (compliance_check)\n  return {\n    node: {\n      id: `decision-${Date.now()}`,\n      question: 'Verificar compliance',\n      answer: true,\n      reasoning: 'Todos os crit├®rios foram atendidos',\n    },\n    path: [],\n    outcome: {\n      value: true,\n      label: 'Conforme',\n      confidence: 0.95,\n    },\n  };\n}\n\n/**\n * Gera relat├│rio de auditoria\n */\nexport async function generateAuditReport(\n  period: { start: Date; end: Date },\n  decisions: DecisionExplanation[]\n): Promise<AuditReport> {\n  \n  structuredLogger.info('[XAIEngine] Generating audit report', {\n    period,\n    decisions: decisions.length,\n  });\n\n  // Agrupar por categoria\n  const byCategory = new Map<string, DecisionExplanation[]>();\n  \n  for (const decision of decisions) {\n    const category = decision.decisionType;\n    if (!byCategory.has(category)) {\n      byCategory.set(category, []);\n    }\n    byCategory.get(category)!.push(decision);\n  }\n\n  const categorySummaries = Array.from(byCategory.entries()).map(([category, decs]) => {\n    const avgConfidence = decs.reduce((sum, d) => sum + d.result.confidence, 0) / decs.length;\n    const compliantCount = decs.filter(d => \n      d.legalBasis.every(lb => lb.compliance === 'met')\n    ).length;\n    const complianceRate = compliantCount / decs.length;\n\n    const issues: string[] = [];\n    \n    if (avgConfidence < 0.7) {\n      issues.push('Confian├ºa m├®dia abaixo de 70%');\n    }\n    \n    if (complianceRate < 0.9) {\n      issues.push(`Taxa de compliance baixa (${(complianceRate * 100).toFixed(1)}%)`);\n    }\n\n    return {\n      category,\n      count: decs.length,\n      avgConfidence,\n      complianceRate,\n      issues,\n    };\n  });\n\n  // Top fatores\n  const factorFrequency = new Map<string, { count: number; totalImportance: number }>();\n  \n  for (const decision of decisions) {\n    for (const factor of decision.topFactors) {\n      if (!factorFrequency.has(factor.name)) {\n        factorFrequency.set(factor.name, { count: 0, totalImportance: 0 });\n      }\n      const stats = factorFrequency.get(factor.name)!;\n      stats.count++;\n      stats.totalImportance += factor.importance;\n    }\n  }\n\n  const topDecisionFactors = Array.from(factorFrequency.entries())\n    .map(([factor, stats]) => ({\n      factor,\n      frequency: stats.count,\n      avgImportance: stats.totalImportance / stats.count,\n    }))\n    .sort((a, b) => b.frequency - a.frequency)\n    .slice(0, 5);\n\n  // Recomenda├º├Áes\n  const recommendations: AuditReport['recommendations'] = [];\n  \n  if (categorySummaries.some(c => c.avgConfidence < 0.7)) {\n    recommendations.push({\n      priority: 'high',\n      category: 'confian├ºa',\n      issue: 'Decis├Áes com baixa confian├ºa detectadas',\n      recommendation: 'Revisar manualmente decis├Áes com confian├ºa < 70%',\n    });\n  }\n\n  if (categorySummaries.some(c => c.complianceRate < 0.9)) {\n    recommendations.push({\n      priority: 'high',\n      category: 'compliance',\n      issue: 'Taxa de compliance abaixo do ideal',\n      recommendation: 'Verificar requisitos legais n├úo atendidos',\n    });\n  }\n\n  // Compliance score geral\n  const overallCompliance = categorySummaries.reduce((sum, c) => sum + c.complianceRate, 0) / categorySummaries.length;\n\n  return {\n    reportId: `audit-${Date.now()}`,\n    period,\n    decisionsAudited: decisions.length,\n    complianceScore: overallCompliance,\n    byCategory: categorySummaries,\n    topDecisionFactors,\n    recommendations,\n    generatedAt: Date.now(),\n  };\n}\n\n// ============================================================================\n// Engine Management\n// ============================================================================\n\n/**\n * Inicializa o XAI Engine\n */\nexport function initXAIEngine(config?: Partial<XAIConfig>): void {\n  if (state.initialized) {\n    structuredLogger.warn('[XAIEngine] Already initialized');\n    return;\n  }\n\n  if (config) {\n    state.config = { ...state.config, ...config };\n  }\n\n  state.initialized = true;\n\n  eventBus.emit('engine:xai-ready', {\n    config: state.config,\n    timestamp: Date.now(),\n  });\n\n  structuredLogger.info('[XAIEngine] Initialized', {\n    verbosity: state.config.verbosity,\n  });\n}\n\n/**\n * Estat├¡sticas\n */\nexport function getXAIStats(): {\n  explanationsGenerated: number;\n  lastExplanationAt: number;\n  config: XAIConfig;\n} {\n  return {\n    explanationsGenerated: state.explanationsGenerated,\n    lastExplanationAt: state.lastExplanationAt,\n    config: state.config,\n  };\n}\n\n// ============================================================================\n// Export\n// ============================================================================\n\nexport default {\n  initXAIEngine,\n  explainBDICalculation,\n  computeShapValues,\n  generateCounterfactual,\n  buildDecisionTree,\n  generateAuditReport,\n  getXAIStats,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\events\\creatorEvents.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82,85],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82,85],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export interface CreatorEvent {\r\n  severity: string;\r\n  area: string;\r\n  details: any;\r\n  recommendation: string;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\events\\eventBus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\events\\evolutionEvents.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":12,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[235,238],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[235,238],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[422,425],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[422,425],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[519,522],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[519,522],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export interface EvolutionLearning {\r\n  source: string;\r\n  concept: string;\r\n  confidence: number;\r\n  example?: string;\r\n}\r\n\r\nexport interface EvolutionPattern {\r\n  pattern: string;\r\n  frequency: number;\r\n  impact: number;\r\n  details: any;\r\n}\r\n\r\nexport interface EvolutionInsight {\r\n  insight: string;\r\n  relevance: number;\r\n  recommendedAction?: string;\r\n}\r\n\r\nexport interface EvolutionMemory {\r\n  key: string;\r\n  value: any;\r\n  reason: string;\r\n}\r\n\r\nexport interface EvolutionQuery {\r\n  question: string;\r\n  context: any;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\events\\nimEvents.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[42,45],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[42,45],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[56,59],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[56,59],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export function emitNimResponse(eventBus: any, payload: any) {\r\n  eventBus.emit('ai:nim-response', payload);\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\hooks\\useAdvancedCalcWatcher.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[689,692],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[689,692],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[717,720],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[717,720],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[737,740],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[737,740],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleDataChange' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":127,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":127,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * useAdvancedCalcWatcher Hook\r\n *\r\n * Hook que monitora a Calculadora Avan├ºada e envia eventos para a IA.\r\n * Detecta mudan├ºas em cen├írios, taxas e c├ílculos avan├ºados.\r\n */\r\n\r\nimport { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { emitEvent } from '../core/eventBus';\r\n\r\nexport interface AdvancedCalcWatcherOptions {\r\n  enabled?: boolean;\r\n  debounceMs?: number;\r\n  captureScenarios?: boolean;\r\n  captureFees?: boolean;\r\n  autoEmitEvents?: boolean;\r\n}\r\n\r\nexport interface AdvancedCalcData {\r\n  custoProduto?: number;\r\n  margemLucro?: number;\r\n  custoOperacional?: number;\r\n  impostos?: number;\r\n  taxasMarketplace?: number;\r\n  precoVenda?: number;\r\n  cenarios?: any[];\r\n  taxasDetalhadas?: any;\r\n  resultado?: any;\r\n}\r\n\r\nexport interface AdvancedCalcEvent {\r\n  type:\r\n    | 'scenario_changed'\r\n    | 'fees_changed'\r\n    | 'calculation_completed'\r\n    | 'error_occurred';\r\n  data: AdvancedCalcData;\r\n  timestamp: number;\r\n  changedField?: string;\r\n}\r\n\r\nexport interface UseAdvancedCalcWatcherReturn {\r\n  isWatching: boolean;\r\n  lastEvent: AdvancedCalcEvent | null;\r\n  eventCount: number;\r\n  startWatching: () => void;\r\n  stopWatching: () => void;\r\n  getEventHistory: () => AdvancedCalcEvent[];\r\n  emitCalculationEvent: (\r\n    data: AdvancedCalcData,\r\n    type?: AdvancedCalcEvent['type']\r\n  ) => void;\r\n}\r\n\r\nexport function useAdvancedCalcWatcher(\r\n  options: AdvancedCalcWatcherOptions = {}\r\n): UseAdvancedCalcWatcherReturn {\r\n  const {\r\n    enabled = true,\r\n    debounceMs = 500,\r\n    captureScenarios = true,\r\n    captureFees = true,\r\n    autoEmitEvents = true,\r\n  } = options;\r\n\r\n  const [isWatching, setIsWatching] = useState(enabled);\r\n  const [lastEvent, setLastEvent] = useState<AdvancedCalcEvent | null>(null);\r\n  const [eventCount, setEventCount] = useState(0);\r\n\r\n  const eventHistoryRef = useRef<AdvancedCalcEvent[]>([]);\r\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n  const previousDataRef = useRef<AdvancedCalcData>({});\r\n\r\n  /**\r\n   * Emite um evento de c├ílculo avan├ºado para o event bus\r\n   */\r\n  const emitCalculationEvent = useCallback(\r\n    (\r\n      data: AdvancedCalcData,\r\n      type: AdvancedCalcEvent['type'] = 'calculation_completed'\r\n    ) => {\r\n      if (!isWatching) {return;}\r\n\r\n      const calcEvent: AdvancedCalcEvent = {\r\n        type,\r\n        data,\r\n        timestamp: Date.now(),\r\n      };\r\n\r\n      setLastEvent(calcEvent);\r\n      setEventCount(prev => prev + 1);\r\n      eventHistoryRef.current.push(calcEvent);\r\n\r\n      if (eventHistoryRef.current.length > 50) {\r\n        eventHistoryRef.current.shift();\r\n      }\r\n\r\n      if (autoEmitEvents) {\r\n        // Emitir eventos espec├¡ficos baseados no tipo\r\n        if (type === 'scenario_changed' && captureScenarios) {\r\n          emitEvent('scenario:updated', data, {\r\n            source: 'useAdvancedCalcWatcher',\r\n            priority: 5,\r\n            metadata: { type },\r\n          });\r\n        } else if (type === 'fees_changed' && captureFees) {\r\n          emitEvent('fees:updated', data, {\r\n            source: 'useAdvancedCalcWatcher',\r\n            priority: 4,\r\n            metadata: { type },\r\n          });\r\n        } else {\r\n          emitEvent('calc:updated', data, {\r\n            source: 'useAdvancedCalcWatcher',\r\n            priority: 5,\r\n            metadata: { type },\r\n          });\r\n        }\r\n      }\r\n    },\r\n    [isWatching, autoEmitEvents, captureScenarios, captureFees]\r\n  );\r\n\r\n  /**\r\n   * Detecta mudan├ºas nos dados do c├ílculo avan├ºado\r\n   */\r\n  const handleDataChange = useCallback(\r\n    (newData: AdvancedCalcData, changedField?: string) => {\r\n      if (!isWatching) {return;}\r\n\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      debounceTimerRef.current = setTimeout(() => {\r\n        const calcEvent: AdvancedCalcEvent = {\r\n          type: 'calculation_completed',\r\n          data: newData,\r\n          timestamp: Date.now(),\r\n          changedField,\r\n        };\r\n\r\n        setLastEvent(calcEvent);\r\n        eventHistoryRef.current.push(calcEvent);\r\n\r\n        if (autoEmitEvents) {\r\n          emitEvent('calc:updated', newData, {\r\n            source: 'useAdvancedCalcWatcher',\r\n            priority: 5,\r\n            metadata: { changedField },\r\n          });\r\n        }\r\n\r\n        previousDataRef.current = newData;\r\n      }, debounceMs);\r\n    },\r\n    [isWatching, debounceMs, autoEmitEvents]\r\n  );\r\n\r\n  const startWatching = useCallback(() => {\r\n    setIsWatching(true);\r\n  }, []);\r\n\r\n  const stopWatching = useCallback(() => {\r\n    setIsWatching(false);\r\n\r\n    if (debounceTimerRef.current) {\r\n      clearTimeout(debounceTimerRef.current);\r\n    }\r\n  }, []);\r\n\r\n  const getEventHistory = useCallback(() => {\r\n    return [...eventHistoryRef.current];\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (enabled) {\r\n      startWatching();\r\n    } else {\r\n      stopWatching();\r\n    }\r\n\r\n    return () => {\r\n      stopWatching();\r\n    };\r\n  }, [enabled, startWatching, stopWatching]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    isWatching,\r\n    lastEvent,\r\n    eventCount,\r\n    startWatching,\r\n    stopWatching,\r\n    getEventHistory,\r\n    emitCalculationEvent,\r\n  };\r\n}\r\n\r\nexport default useAdvancedCalcWatcher;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\hooks\\useAzuriaAI.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'OrchestratorRequest' is defined but never used. Allowed unused vars must match /^_/u.","line":19,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'OrchestratorResponse' is defined but never used. Allowed unused vars must match /^_/u.","line":20,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[807,810],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[807,810],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":42,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[998,1001],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[998,1001],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsTyping' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":52,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":52,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'message' is defined but never used. Allowed unused args must match /^_/u.","line":62,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":49},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'context' is defined but never used. Allowed unused args must match /^_/u.","line":62,"column":59,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":66},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1737,1740],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1737,1740],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * useAzuriaAI Hook\r\n *\r\n * Hook principal para comunica├º├úo entre frontend e IA.\r\n *\r\n * Funcionalidades a serem implementadas:\r\n * - Enviar mensagens para a IA\r\n * - Receber respostas em tempo real\r\n * - Gerenciar estado da conversa├º├úo\r\n * - Streaming de respostas\r\n * - Hist├│rico de mensagens\r\n * - Indicadores de loading/typing\r\n * - Tratamento de erros\r\n * - Retry autom├ítico\r\n */\r\n\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport type {\r\n  OrchestratorRequest,\r\n  OrchestratorResponse,\r\n} from '../core/aiOrchestrator';\r\n\r\nexport interface UseAzuriaAIOptions {\r\n  userId?: string;\r\n  autoConnect?: boolean;\r\n  streamResponses?: boolean;\r\n}\r\n\r\nexport interface AzuriaMessage {\r\n  id: string;\r\n  role: 'user' | 'assistant';\r\n  content: string;\r\n  timestamp: number;\r\n  metadata?: any;\r\n}\r\n\r\nexport interface UseAzuriaAIReturn {\r\n  messages: AzuriaMessage[];\r\n  isLoading: boolean;\r\n  isTyping: boolean;\r\n  error: Error | null;\r\n  sendMessage: (message: string, context?: any) => Promise<void>;\r\n  clearHistory: () => void;\r\n  retry: () => Promise<void>;\r\n}\r\n\r\nexport function useAzuriaAI(\r\n  options: UseAzuriaAIOptions = {}\r\n): UseAzuriaAIReturn {\r\n  const [messages, setMessages] = useState<AzuriaMessage[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [error, setError] = useState<Error | null>(null);\r\n\r\n  // TODO: Implementar conex├úo com backend\r\n  // TODO: Implementar envio de mensagens\r\n  // TODO: Implementar recebimento de respostas\r\n  // TODO: Implementar streaming\r\n  // TODO: Implementar retry logic\r\n  // TODO: Implementar gerenciamento de hist├│rico\r\n\r\n  const sendMessage = useCallback(async (message: string, context?: any) => {\r\n    // TODO: Implementar envio de mensagem\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // L├│gica de envio ser├í implementada na pr├│xima fase\r\n    } catch (err) {\r\n      setError(err as Error);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const clearHistory = useCallback(() => {\r\n    // TODO: Implementar limpeza de hist├│rico\r\n    setMessages([]);\r\n  }, []);\r\n\r\n  const retry = useCallback(async () => {\r\n    // TODO: Implementar retry da ├║ltima mensagem\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // TODO: Implementar auto-connect se habilitado\r\n    if (options.autoConnect) {\r\n      // L├│gica de conex├úo\r\n    }\r\n  }, [options.autoConnect]);\r\n\r\n  return {\r\n    messages,\r\n    isLoading,\r\n    isTyping,\r\n    error,\r\n    sendMessage,\r\n    clearHistory,\r\n    retry,\r\n  };\r\n}\r\n\r\nexport default useAzuriaAI;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\hooks\\useBidCalcWatcher.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[679,682],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[679,682],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[754,757],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[754,757],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleDataChange' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":126,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":126,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * useBidCalcWatcher Hook\r\n *\r\n * Hook que monitora a Calculadora de Licita├º├Áes e envia eventos para a IA.\r\n * Detecta mudan├ºas em lances, riscos e descontos.\r\n */\r\n\r\nimport { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { emitEvent } from '../core/eventBus';\r\n\r\nexport interface BidCalcWatcherOptions {\r\n  enabled?: boolean;\r\n  debounceMs?: number;\r\n  captureRisk?: boolean;\r\n  captureDiscount?: boolean;\r\n  autoEmitEvents?: boolean;\r\n}\r\n\r\nexport interface BidCalcData {\r\n  precoReferencia?: number;\r\n  custoTotal?: number;\r\n  margemDesejada?: number;\r\n  lanceCalculado?: number;\r\n  descontoPorLote?: number;\r\n  nivelRisco?: string;\r\n  avaliacaoRisco?: any;\r\n  prazoEntrega?: number;\r\n  quantidadeLotes?: number;\r\n  resultado?: any;\r\n}\r\n\r\nexport interface BidCalcEvent {\r\n  type:\r\n    | 'bid_changed'\r\n    | 'risk_changed'\r\n    | 'discount_changed'\r\n    | 'calculation_completed'\r\n    | 'error_occurred';\r\n  data: BidCalcData;\r\n  timestamp: number;\r\n  changedField?: string;\r\n}\r\n\r\nexport interface UseBidCalcWatcherReturn {\r\n  isWatching: boolean;\r\n  lastEvent: BidCalcEvent | null;\r\n  eventCount: number;\r\n  startWatching: () => void;\r\n  stopWatching: () => void;\r\n  getEventHistory: () => BidCalcEvent[];\r\n  emitBidEvent: (data: BidCalcData, type?: BidCalcEvent['type']) => void;\r\n}\r\n\r\nexport function useBidCalcWatcher(\r\n  options: BidCalcWatcherOptions = {}\r\n): UseBidCalcWatcherReturn {\r\n  const {\r\n    enabled = true,\r\n    debounceMs = 500,\r\n    captureRisk = true,\r\n    captureDiscount = true,\r\n    autoEmitEvents = true,\r\n  } = options;\r\n\r\n  const [isWatching, setIsWatching] = useState(enabled);\r\n  const [lastEvent, setLastEvent] = useState<BidCalcEvent | null>(null);\r\n  const [eventCount, setEventCount] = useState(0);\r\n\r\n  const eventHistoryRef = useRef<BidCalcEvent[]>([]);\r\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n  const previousDataRef = useRef<BidCalcData>({});\r\n\r\n  /**\r\n   * Emite um evento de c├ílculo de licita├º├úo para o event bus\r\n   */\r\n  const emitBidEvent = useCallback(\r\n    (\r\n      data: BidCalcData,\r\n      type: BidCalcEvent['type'] = 'calculation_completed'\r\n    ) => {\r\n      if (!isWatching) {return;}\r\n\r\n      const bidEvent: BidCalcEvent = {\r\n        type,\r\n        data,\r\n        timestamp: Date.now(),\r\n      };\r\n\r\n      setLastEvent(bidEvent);\r\n      setEventCount(prev => prev + 1);\r\n      eventHistoryRef.current.push(bidEvent);\r\n\r\n      if (eventHistoryRef.current.length > 50) {\r\n        eventHistoryRef.current.shift();\r\n      }\r\n\r\n      if (autoEmitEvents) {\r\n        // Emitir eventos espec├¡ficos baseados no tipo\r\n        if (type === 'risk_changed' && captureRisk) {\r\n          emitEvent('risk:updated', data, {\r\n            source: 'useBidCalcWatcher',\r\n            priority: 6,\r\n            metadata: { type },\r\n          });\r\n        } else if (type === 'discount_changed' && captureDiscount) {\r\n          emitEvent('discount:updated', data, {\r\n            source: 'useBidCalcWatcher',\r\n            priority: 4,\r\n            metadata: { type },\r\n          });\r\n        } else {\r\n          emitEvent('bid:updated', data, {\r\n            source: 'useBidCalcWatcher',\r\n            priority: 5,\r\n            metadata: { type },\r\n          });\r\n        }\r\n      }\r\n    },\r\n    [isWatching, autoEmitEvents, captureRisk, captureDiscount]\r\n  );\r\n\r\n  /**\r\n   * Detecta mudan├ºas nos dados do c├ílculo de licita├º├úo\r\n   */\r\n  const handleDataChange = useCallback(\r\n    (newData: BidCalcData, changedField?: string) => {\r\n      if (!isWatching) {return;}\r\n\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      debounceTimerRef.current = setTimeout(() => {\r\n        const bidEvent: BidCalcEvent = {\r\n          type: 'calculation_completed',\r\n          data: newData,\r\n          timestamp: Date.now(),\r\n          changedField,\r\n        };\r\n\r\n        setLastEvent(bidEvent);\r\n        eventHistoryRef.current.push(bidEvent);\r\n\r\n        if (autoEmitEvents) {\r\n          emitEvent('bid:updated', newData, {\r\n            source: 'useBidCalcWatcher',\r\n            priority: 5,\r\n            metadata: { changedField },\r\n          });\r\n        }\r\n\r\n        previousDataRef.current = newData;\r\n      }, debounceMs);\r\n    },\r\n    [isWatching, debounceMs, autoEmitEvents]\r\n  );\r\n\r\n  const startWatching = useCallback(() => {\r\n    setIsWatching(true);\r\n  }, []);\r\n\r\n  const stopWatching = useCallback(() => {\r\n    setIsWatching(false);\r\n\r\n    if (debounceTimerRef.current) {\r\n      clearTimeout(debounceTimerRef.current);\r\n    }\r\n  }, []);\r\n\r\n  const getEventHistory = useCallback(() => {\r\n    return [...eventHistoryRef.current];\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (enabled) {\r\n      startWatching();\r\n    } else {\r\n      stopWatching();\r\n    }\r\n\r\n    return () => {\r\n      stopWatching();\r\n    };\r\n  }, [enabled, startWatching, stopWatching]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    isWatching,\r\n    lastEvent,\r\n    eventCount,\r\n    startWatching,\r\n    stopWatching,\r\n    getEventHistory,\r\n    emitBidEvent,\r\n  };\r\n}\r\n\r\nexport default useBidCalcWatcher;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\hooks\\useCalcWatcher.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AzuriaEvent' is defined but never used. Allowed unused vars must match /^_/u.","line":9,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":26},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":26,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[693,696],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[693,696],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'captureResults' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":57,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":57,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleDataChange' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":112,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":112,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * useCalcWatcher Hook\r\n *\r\n * Hook que monitora a Calculadora B├ísica e envia eventos para a IA.\r\n * Detecta mudan├ºas nos inputs e resultados, emitindo eventos reativos.\r\n */\r\n\r\nimport { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { type AzuriaEvent, emitEvent } from '../core/eventBus';\r\n\r\nexport interface CalcWatcherOptions {\r\n  enabled?: boolean;\r\n  debounceMs?: number;\r\n  captureInputs?: boolean;\r\n  captureResults?: boolean;\r\n  autoEmitEvents?: boolean;\r\n}\r\n\r\nexport interface CalcData {\r\n  custoProduto?: number;\r\n  margemLucro?: number;\r\n  custoOperacional?: number;\r\n  impostos?: number;\r\n  taxasMarketplace?: number;\r\n  precoVenda?: number;\r\n  resultado?: any;\r\n}\r\n\r\nexport interface CalcEvent {\r\n  type:\r\n    | 'input_changed'\r\n    | 'calculation_started'\r\n    | 'calculation_completed'\r\n    | 'error_occurred';\r\n  data: CalcData;\r\n  timestamp: number;\r\n  changedField?: string;\r\n}\r\n\r\nexport interface UseCalcWatcherReturn {\r\n  isWatching: boolean;\r\n  lastEvent: CalcEvent | null;\r\n  eventCount: number;\r\n  startWatching: () => void;\r\n  stopWatching: () => void;\r\n  getEventHistory: () => CalcEvent[];\r\n  emitCalculationEvent: (data: CalcData, type?: CalcEvent['type']) => void;\r\n}\r\n\r\nexport function useCalcWatcher(\r\n  options: CalcWatcherOptions = {}\r\n): UseCalcWatcherReturn {\r\n  const {\r\n    enabled = true,\r\n    debounceMs = 500,\r\n    captureInputs = true,\r\n    captureResults = true,\r\n    autoEmitEvents = true,\r\n  } = options;\r\n\r\n  const [isWatching, setIsWatching] = useState(enabled);\r\n  const [lastEvent, setLastEvent] = useState<CalcEvent | null>(null);\r\n  const [eventCount, setEventCount] = useState(0);\r\n\r\n  const eventHistoryRef = useRef<CalcEvent[]>([]);\r\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n  const previousDataRef = useRef<CalcData>({});\r\n\r\n  /**\r\n   * Emite um evento de c├ílculo para o event bus\r\n   */\r\n  const emitCalculationEvent = useCallback(\r\n    (data: CalcData, type: CalcEvent['type'] = 'calculation_completed') => {\r\n      if (!isWatching) {\r\n        return;\r\n      }\r\n\r\n      const calcEvent: CalcEvent = {\r\n        type,\r\n        data,\r\n        timestamp: Date.now(),\r\n      };\r\n\r\n      // Atualizar estado local\r\n      setLastEvent(calcEvent);\r\n      setEventCount(prev => prev + 1);\r\n      eventHistoryRef.current.push(calcEvent);\r\n\r\n      // Limitar hist├│rico a 50 eventos\r\n      if (eventHistoryRef.current.length > 50) {\r\n        eventHistoryRef.current.shift();\r\n      }\r\n\r\n      // Emitir para o event bus global se habilitado\r\n      if (autoEmitEvents) {\r\n        emitEvent('calc:completed', data, {\r\n          source: 'useCalcWatcher',\r\n          priority: 5,\r\n          metadata: {\r\n            type,\r\n            changedField: calcEvent.changedField,\r\n          },\r\n        });\r\n      }\r\n    },\r\n    [isWatching, autoEmitEvents]\r\n  );\r\n\r\n  /**\r\n   * Detecta mudan├ºas nos dados do c├ílculo\r\n   */\r\n  const handleDataChange = useCallback(\r\n    (newData: CalcData, changedField?: string) => {\r\n      if (!isWatching || !captureInputs) {\r\n        return;\r\n      }\r\n\r\n      // Limpar timer anterior\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      // Debounce para evitar muitos eventos\r\n      debounceTimerRef.current = setTimeout(() => {\r\n        const calcEvent: CalcEvent = {\r\n          type: 'input_changed',\r\n          data: newData,\r\n          timestamp: Date.now(),\r\n          changedField,\r\n        };\r\n\r\n        setLastEvent(calcEvent);\r\n        eventHistoryRef.current.push(calcEvent);\r\n\r\n        // Emitir evento de atualiza├º├úo\r\n        if (autoEmitEvents) {\r\n          emitEvent('calc:updated', newData, {\r\n            source: 'useCalcWatcher',\r\n            priority: 3,\r\n            metadata: {\r\n              changedField,\r\n            },\r\n          });\r\n        }\r\n\r\n        previousDataRef.current = newData;\r\n      }, debounceMs);\r\n    },\r\n    [isWatching, captureInputs, debounceMs, autoEmitEvents]\r\n  );\r\n\r\n  /**\r\n   * Inicia o monitoramento\r\n   */\r\n  const startWatching = useCallback(() => {\r\n    setIsWatching(true);\r\n\r\n    emitEvent(\r\n      'calc:started',\r\n      {},\r\n      {\r\n        source: 'useCalcWatcher',\r\n        priority: 2,\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  /**\r\n   * Para o monitoramento\r\n   */\r\n  const stopWatching = useCallback(() => {\r\n    setIsWatching(false);\r\n\r\n    // Limpar timer de debounce\r\n    if (debounceTimerRef.current) {\r\n      clearTimeout(debounceTimerRef.current);\r\n    }\r\n  }, []);\r\n\r\n  /**\r\n   * Retorna o hist├│rico de eventos\r\n   */\r\n  const getEventHistory = useCallback(() => {\r\n    return [...eventHistoryRef.current];\r\n  }, []);\r\n\r\n  // Iniciar/parar monitoramento baseado na op├º├úo enabled\r\n  useEffect(() => {\r\n    if (enabled) {\r\n      startWatching();\r\n    } else {\r\n      stopWatching();\r\n    }\r\n\r\n    return () => {\r\n      stopWatching();\r\n    };\r\n  }, [enabled, startWatching, stopWatching]);\r\n\r\n  // Cleanup ao desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    isWatching,\r\n    lastEvent,\r\n    eventCount,\r\n    startWatching,\r\n    stopWatching,\r\n    getEventHistory,\r\n    emitCalculationEvent,\r\n  };\r\n}\r\n\r\nexport default useCalcWatcher;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\hooks\\useCoPilot.ts","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has an unnecessary dependency: 'state.suggestions.length'. Either exclude it or remove the dependency array.","line":293,"column":6,"nodeType":"ArrayExpression","endLine":293,"endColumn":32,"suggestions":[{"desc":"Update the dependencies array to be: []","fix":{"range":[7561,7587],"text":"[]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has an unnecessary dependency: 'state.suggestions.length'. Either exclude it or remove the dependency array.","line":298,"column":6,"nodeType":"ArrayExpression","endLine":298,"endColumn":32,"suggestions":[{"desc":"Update the dependencies array to be: []","fix":{"range":[7734,7760],"text":"[]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\hooks\\useCreatorStream.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[148,151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[148,151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":9,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[284,287],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[284,287],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[486,489],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[486,489],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useRef } from 'react';\r\nimport { ADMIN_UID_FRONT } from '../../config/admin';\r\n\r\nexport function useCreatorStream(onEvent: (ev: any) => void) {\r\n  const esRef = useRef<EventSource | null>(null);\r\n\r\n  useEffect(() => {\r\n    let closed = false;\r\n    let retryTimer: any;\r\n\r\n    const connect = () => {\r\n      const url = `/api/admin/creator/stream?admin_uid=${encodeURIComponent(ADMIN_UID_FRONT)}`;\r\n      const sse = new EventSource(url, { withCredentials: true } as any);\r\n      const handler = (ev: MessageEvent) => onEvent(JSON.parse(ev.data));\r\n      sse.addEventListener('creator-alert', handler);\r\n      sse.addEventListener('creator-insight', handler);\r\n      sse.addEventListener('creator-recommendation', handler);\r\n      sse.addEventListener('creator-roadmap', handler);\r\n      sse.onerror = () => {\r\n        sse.close();\r\n        if (!closed) {\r\n          retryTimer = setTimeout(connect, 3000); // fallback silencioso\r\n        }\r\n      };\r\n      esRef.current = sse;\r\n    };\r\n\r\n    connect();\r\n\r\n    return () => {\r\n      closed = true;\r\n      if (retryTimer) {clearTimeout(retryTimer);}\r\n      esRef.current?.close();\r\n      esRef.current = null;\r\n    };\r\n  }, [onEvent]);\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\hooks\\useEventBus.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":130,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":130,"endColumn":22,"suggestions":[{"fix":{"range":[3207,3251],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\hooks\\useTaxCalcWatcher.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[746,749],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[746,749],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleDataChange' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":127,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":127,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * useTaxCalcWatcher Hook\r\n *\r\n * Hook que monitora a Calculadora de Regime Tribut├írio e envia eventos para a IA.\r\n * Detecta mudan├ºas em ICMS, ST, MVA e outros c├ílculos fiscais.\r\n */\r\n\r\nimport { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { emitEvent } from '../core/eventBus';\r\n\r\nexport interface TaxCalcWatcherOptions {\r\n  enabled?: boolean;\r\n  debounceMs?: number;\r\n  captureICMS?: boolean;\r\n  captureST?: boolean;\r\n  autoEmitEvents?: boolean;\r\n}\r\n\r\nexport interface TaxCalcData {\r\n  regime?: string;\r\n  aliquotaICMS?: number;\r\n  valorICMS?: number;\r\n  baseCalculoST?: number;\r\n  valorST?: number;\r\n  mva?: number;\r\n  precoFinal?: number;\r\n  ufOrigem?: string;\r\n  ufDestino?: string;\r\n  ncm?: string;\r\n  resultado?: any;\r\n}\r\n\r\nexport interface TaxCalcEvent {\r\n  type:\r\n    | 'tax_changed'\r\n    | 'icms_changed'\r\n    | 'st_changed'\r\n    | 'calculation_completed'\r\n    | 'error_occurred';\r\n  data: TaxCalcData;\r\n  timestamp: number;\r\n  changedField?: string;\r\n}\r\n\r\nexport interface UseTaxCalcWatcherReturn {\r\n  isWatching: boolean;\r\n  lastEvent: TaxCalcEvent | null;\r\n  eventCount: number;\r\n  startWatching: () => void;\r\n  stopWatching: () => void;\r\n  getEventHistory: () => TaxCalcEvent[];\r\n  emitTaxEvent: (data: TaxCalcData, type?: TaxCalcEvent['type']) => void;\r\n}\r\n\r\nexport function useTaxCalcWatcher(\r\n  options: TaxCalcWatcherOptions = {}\r\n): UseTaxCalcWatcherReturn {\r\n  const {\r\n    enabled = true,\r\n    debounceMs = 500,\r\n    captureICMS = true,\r\n    captureST = true,\r\n    autoEmitEvents = true,\r\n  } = options;\r\n\r\n  const [isWatching, setIsWatching] = useState(enabled);\r\n  const [lastEvent, setLastEvent] = useState<TaxCalcEvent | null>(null);\r\n  const [eventCount, setEventCount] = useState(0);\r\n\r\n  const eventHistoryRef = useRef<TaxCalcEvent[]>([]);\r\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n  const previousDataRef = useRef<TaxCalcData>({});\r\n\r\n  /**\r\n   * Emite um evento de c├ílculo tribut├írio para o event bus\r\n   */\r\n  const emitTaxEvent = useCallback(\r\n    (\r\n      data: TaxCalcData,\r\n      type: TaxCalcEvent['type'] = 'calculation_completed'\r\n    ) => {\r\n      if (!isWatching) {return;}\r\n\r\n      const taxEvent: TaxCalcEvent = {\r\n        type,\r\n        data,\r\n        timestamp: Date.now(),\r\n      };\r\n\r\n      setLastEvent(taxEvent);\r\n      setEventCount(prev => prev + 1);\r\n      eventHistoryRef.current.push(taxEvent);\r\n\r\n      if (eventHistoryRef.current.length > 50) {\r\n        eventHistoryRef.current.shift();\r\n      }\r\n\r\n      if (autoEmitEvents) {\r\n        // Emitir eventos espec├¡ficos baseados no tipo\r\n        if (type === 'icms_changed' && captureICMS) {\r\n          emitEvent('icms:updated', data, {\r\n            source: 'useTaxCalcWatcher',\r\n            priority: 5,\r\n            metadata: { type },\r\n          });\r\n        } else if (type === 'st_changed' && captureST) {\r\n          emitEvent('st:updated', data, {\r\n            source: 'useTaxCalcWatcher',\r\n            priority: 5,\r\n            metadata: { type },\r\n          });\r\n        } else {\r\n          emitEvent('tax:updated', data, {\r\n            source: 'useTaxCalcWatcher',\r\n            priority: 5,\r\n            metadata: { type },\r\n          });\r\n        }\r\n      }\r\n    },\r\n    [isWatching, autoEmitEvents, captureICMS, captureST]\r\n  );\r\n\r\n  /**\r\n   * Detecta mudan├ºas nos dados do c├ílculo tribut├írio\r\n   */\r\n  const handleDataChange = useCallback(\r\n    (newData: TaxCalcData, changedField?: string) => {\r\n      if (!isWatching) {return;}\r\n\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      debounceTimerRef.current = setTimeout(() => {\r\n        const taxEvent: TaxCalcEvent = {\r\n          type: 'calculation_completed',\r\n          data: newData,\r\n          timestamp: Date.now(),\r\n          changedField,\r\n        };\r\n\r\n        setLastEvent(taxEvent);\r\n        eventHistoryRef.current.push(taxEvent);\r\n\r\n        if (autoEmitEvents) {\r\n          emitEvent('tax:updated', newData, {\r\n            source: 'useTaxCalcWatcher',\r\n            priority: 5,\r\n            metadata: { changedField },\r\n          });\r\n        }\r\n\r\n        previousDataRef.current = newData;\r\n      }, debounceMs);\r\n    },\r\n    [isWatching, debounceMs, autoEmitEvents]\r\n  );\r\n\r\n  const startWatching = useCallback(() => {\r\n    setIsWatching(true);\r\n  }, []);\r\n\r\n  const stopWatching = useCallback(() => {\r\n    setIsWatching(false);\r\n\r\n    if (debounceTimerRef.current) {\r\n      clearTimeout(debounceTimerRef.current);\r\n    }\r\n  }, []);\r\n\r\n  const getEventHistory = useCallback(() => {\r\n    return [...eventHistoryRef.current];\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (enabled) {\r\n      startWatching();\r\n    } else {\r\n      stopWatching();\r\n    }\r\n\r\n    return () => {\r\n      stopWatching();\r\n    };\r\n  }, [enabled, startWatching, stopWatching]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    isWatching,\r\n    lastEvent,\r\n    eventCount,\r\n    startWatching,\r\n    stopWatching,\r\n    getEventHistory,\r\n    emitTaxEvent,\r\n  };\r\n}\r\n\r\nexport default useTaxCalcWatcher;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\logs\\ai.safeAction.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":4,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[76,79],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[76,79],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Log de a├º├Áes seguras do Modo Deus\n */\ntype LogEntry = Record<string, any>;\nconst entries: LogEntry[] = [];\nconst LIMIT = 200;\n\nexport function logSafeAction(entry: LogEntry) {\n  entries.push({ ...entry, timestamp: Date.now() });\n  if (entries.length > LIMIT) {entries.shift();}\n}\n\nexport function getSafeActionLog() {\n  return [...entries];\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\logs\\internalInsights.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\logs\\modeDeus_conscious.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[133,136],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[133,136],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Logs de governan├ºa e coer├¬ncia do Modo Deus.\n * Uso interno ÔÇö n├úo expor ao usu├írio final.\n */\n\ntype LogEntry = Record<string, any>;\n\nconst contradictions: LogEntry[] = [];\nconst justifications: LogEntry[] = [];\nconst coherenceScores: LogEntry[] = [];\nconst governanceEvents: LogEntry[] = [];\nconst LIMIT = 200;\n\nfunction push(list: LogEntry[], entry: LogEntry) {\n  list.push({ ...entry, timestamp: Date.now() });\n  if (list.length > LIMIT) {list.shift();}\n}\n\nexport function logContradiction(entry: LogEntry) {\n  push(contradictions, entry);\n}\n\nexport function logJustification(entry: LogEntry) {\n  push(justifications, entry);\n}\n\nexport function logCoherence(entry: LogEntry) {\n  push(coherenceScores, entry);\n}\n\nexport function logGovernance(entry: LogEntry) {\n  push(governanceEvents, entry);\n}\n\nexport function getConsciousLogs() {\n  return {\n    contradictions: [...contradictions],\n    justifications: [...justifications],\n    coherenceScores: [...coherenceScores],\n    governanceEvents: [...governanceEvents],\n  };\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\logs\\modeDeus_internal.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[150,153],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[150,153],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":20,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":20,"endColumn":16,"suggestions":[{"fix":{"range":[558,599],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":25,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":25,"endColumn":16,"suggestions":[{"fix":{"range":[697,745],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":30,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":30,"endColumn":16,"suggestions":[{"fix":{"range":[841,888],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":35,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":35,"endColumn":15,"suggestions":[{"fix":{"range":[980,1024],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Logs internos do Modo Deus - n├úo expor ao usu├írio final.\n * Mant├®m rastros para evolu├º├úo cont├¡nua da IA.\n */\n\ntype LogPayload = Record<string, any>;\n\nconst riskLog: LogPayload[] = [];\nconst opportunityLog: LogPayload[] = [];\nconst predictiveLog: LogPayload[] = [];\nconst conflictLog: LogPayload[] = [];\n\nfunction pushWithLimit(arr: LogPayload[], item: LogPayload, limit = 200) {\n  arr.push({ ...item, timestamp: Date.now() });\n  if (arr.length > limit) {arr.shift();}\n}\n\nexport function logRisk(entry: LogPayload) {\n  pushWithLimit(riskLog, entry);\n  console.debug('[ModoDeus][risk]', entry);\n}\n\nexport function logOpportunity(entry: LogPayload) {\n  pushWithLimit(opportunityLog, entry);\n  console.debug('[ModoDeus][opportunity]', entry);\n}\n\nexport function logPredictive(entry: LogPayload) {\n  pushWithLimit(predictiveLog, entry);\n  console.debug('[ModoDeus][predictive]', entry);\n}\n\nexport function logConflict(entry: LogPayload) {\n  pushWithLimit(conflictLog, entry);\n  console.warn('[ModoDeus][conflict]', entry);\n}\n\nexport function getInternalLogs() {\n  return {\n    risk: [...riskLog],\n    opportunity: [...opportunityLog],\n    predictive: [...predictiveLog],\n    conflict: [...conflictLog],\n  };\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\manifest\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\parsers\\documentParser.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentStart' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":184,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":184,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":213,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":213,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5930,5933],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5930,5933],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":369,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":369,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11096,11099],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11096,11099],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Document Parser - Parser Especializado de Editais\n *\n * Este parser ├® respons├ível por:\n * - Extrair dados estruturados de editais em PDF/DOCX\n * - Identificar se├º├Áes-chave (objeto, itens, prazos, requisitos)\n * - Normalizar dados extra├¡dos\n * - Validar completude da extra├º├úo\n * - Enriquecer dados com metadados\n *\n * @module azuria_ai/parsers/documentParser\n */\n\nimport { structuredLogger } from '../../services/structuredLogger';\nimport { EditalExtraction } from '../engines/multimodalEngine';\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/** Se├º├úo de documento identificada */\nexport interface DocumentSection {\n  /** Tipo de se├º├úo */\n  type: 'header' | 'object' | 'items' | 'requirements' | 'schedule' | 'terms' | 'attachments';\n  /** T├¡tulo da se├º├úo */\n  title: string;\n  /** Conte├║do da se├º├úo */\n  content: string;\n  /** Confian├ºa da identifica├º├úo */\n  confidence: number;\n  /** Posi├º├úo no documento */\n  position: {\n    start: number;\n    end: number;\n    page?: number;\n  };\n}\n\n/** Item de licita├º├úo normalizado */\nexport interface NormalizedItem {\n  /** N├║mero do item */\n  numero: string;\n  /** Descri├º├úo */\n  descricao: string;\n  /** Especifica├º├Áes t├®cnicas */\n  especificacoes?: string[];\n  /** Quantidade */\n  quantidade?: number;\n  /** Unidade de medida */\n  unidade?: string;\n  /** Valor unit├írio estimado */\n  valorUnitario?: number;\n  /** Valor total estimado */\n  valorTotal?: number;\n  /** Categoria */\n  categoria?: string;\n  /** Marca de refer├¬ncia (se houver) */\n  marcaReferencia?: string;\n}\n\n/** Requisito t├®cnico extra├¡do */\nexport interface TechnicalRequirement {\n  /** Tipo de requisito */\n  type: 'certification' | 'experience' | 'equipment' | 'technical' | 'legal' | 'financial';\n  /** Descri├º├úo do requisito */\n  description: string;\n  /** Se ├® obrigat├│rio */\n  mandatory: boolean;\n  /** Pontua├º├úo (se for crit├®rio de julgamento) */\n  score?: number;\n  /** Prazo para cumprimento */\n  deadline?: string;\n}\n\n/** Cronograma/Prazo extra├¡do */\nexport interface Schedule {\n  /** Evento */\n  event: string;\n  /** Data/prazo */\n  date?: Date;\n  /** Prazo em dias (alternativo ├á data) */\n  days?: number;\n  /** Descri├º├úo adicional */\n  description?: string;\n}\n\n/** Resultado do parsing completo */\nexport interface ParsedDocument {\n  /** Dados gerais do edital */\n  general: EditalExtraction;\n  /** Se├º├Áes identificadas */\n  sections: DocumentSection[];\n  /** Itens normalizados */\n  items: NormalizedItem[];\n  /** Requisitos t├®cnicos */\n  requirements: TechnicalRequirement[];\n  /** Cronograma */\n  schedule: Schedule[];\n  /** Documentos exigidos */\n  documents: string[];\n  /** Crit├®rios de julgamento */\n  judgmentCriteria?: {\n    type: 'menor_preco' | 'melhor_tecnica' | 'tecnica_preco';\n    details: string;\n  };\n  /** Garantias exigidas */\n  guarantees?: {\n    type: string;\n    percentage: number;\n    description: string;\n  }[];\n  /** Informa├º├Áes de pagamento */\n  payment?: {\n    method: string;\n    terms: string;\n    deadline: string;\n  };\n  /** Score de completude (0-1) */\n  completenessScore: number;\n  /** Campos faltantes */\n  missingFields: string[];\n}\n\n// ============================================================================\n// Section Identification\n// ============================================================================\n\n/**\n * Identifica se├º├Áes no texto do edital\n */\nexport function identifySections(fullText: string): DocumentSection[] {\n  const sections: DocumentSection[] = [];\n  const lines = fullText.split('\\n');\n\n  // Patterns para identificar se├º├Áes\n  const patterns = {\n    object: /^\\s*(?:1\\.|objeto|do\\s+objeto|1\\.\\s*objeto)/i,\n    items: /^\\s*(?:anexo|planilha|itens|especifica├º├Áes|tabela)/i,\n    requirements: /^\\s*(?:requisitos|qualifica├º├úo|habilita├º├úo|documentos)/i,\n    schedule: /^\\s*(?:cronograma|prazo|calendario|datas)/i,\n    terms: /^\\s*(?:condi├º├Áes|termos|cl├íusulas|disposi├º├Áes)/i,\n    attachments: /^\\s*(?:anexo|ap├¬ndice|addendum)/i,\n  };\n\n  let currentSection: DocumentSection | null = null;\n  let currentContent: string[] = [];\n  let currentStart = 0;\n\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i].trim();\n    \n    if (line.length === 0) {continue;}\n\n    // Verificar se ├® in├¡cio de uma nova se├º├úo\n    let newSectionType: DocumentSection['type'] | null = null;\n    \n    for (const [type, pattern] of Object.entries(patterns)) {\n      if (pattern.test(line)) {\n        newSectionType = type as DocumentSection['type'];\n        break;\n      }\n    }\n\n    if (newSectionType) {\n      // Salvar se├º├úo anterior\n      if (currentSection && currentContent.length > 0) {\n        currentSection.content = currentContent.join('\\n');\n        currentSection.position.end = i - 1;\n        sections.push(currentSection);\n      }\n\n      // Iniciar nova se├º├úo\n      currentSection = {\n        type: newSectionType,\n        title: line,\n        content: '',\n        confidence: 0.8,\n        position: {\n          start: i,\n          end: i,\n        },\n      };\n      currentContent = [];\n      currentStart = i;\n    } else if (currentSection) {\n      // Adicionar linha ├á se├º├úo atual\n      currentContent.push(line);\n    }\n  }\n\n  // Adicionar ├║ltima se├º├úo\n  if (currentSection && currentContent.length > 0) {\n    currentSection.content = currentContent.join('\\n');\n    currentSection.position.end = lines.length - 1;\n    sections.push(currentSection);\n  }\n\n  structuredLogger.info('[DocumentParser] Sections identified', {\n    sections: sections.length,\n    types: sections.map(s => s.type),\n  });\n\n  return sections;\n}\n\n// ============================================================================\n// Item Parsing\n// ============================================================================\n\n/**\n * Extrai e normaliza itens de licita├º├úo\n */\nexport function parseItems(itemsSection: string, tables?: any[]): NormalizedItem[] {\n  const items: NormalizedItem[] = [];\n\n  // Se temos tabela estruturada, usar ela\n  if (tables && tables.length > 0) {\n    for (const table of tables) {\n      if (!table.rows || table.rows.length === 0) {continue;}\n\n      for (const row of table.rows) {\n        const item: NormalizedItem = {\n          numero: String(row.item || row.numero || row.num || ''),\n          descricao: String(row.descricao || row.especificacao || row.produto || ''),\n          quantidade: Number(row.quantidade || row.qtd || row.qtde) || undefined,\n          unidade: String(row.unidade || row.un || row.und || ''),\n          valorUnitario: parseFloat(String(row.valor_unitario || row.preco_unitario || row.vl_unit || '').replace(/[^\\d,]/g, '').replace(',', '.')) || undefined,\n          valorTotal: parseFloat(String(row.valor_total || row.total || row.vl_total || '').replace(/[^\\d,]/g, '').replace(',', '.')) || undefined,\n        };\n\n        if (item.descricao) {\n          items.push(item);\n        }\n      }\n    }\n  } else {\n    // Fallback: parsing de texto\n    const lines = itemsSection.split('\\n');\n    \n    for (const line of lines) {\n      // Pattern: \"Item X - Descri├º├úo - Qtd - Un - Valor\"\n      const match = line.match(/(?:item\\s+)?(\\d+)\\s*[-ÔÇô]\\s*([^-ÔÇô]+?)(?:\\s*[-ÔÇô]\\s*(\\d+[.,]?\\d*)\\s*([a-z]+)?(?:\\s*[-ÔÇô]\\s*R?\\$?\\s*([\\d.,]+))?)?$/i);\n      \n      if (match) {\n        const [, numero, descricao, quantidade, unidade, valor] = match;\n        \n        items.push({\n          numero,\n          descricao: descricao.trim(),\n          quantidade: quantidade ? parseFloat(quantidade.replace(',', '.')) : undefined,\n          unidade: unidade?.toUpperCase(),\n          valorUnitario: valor ? parseFloat(valor.replace(/[^\\d,]/g, '').replace(',', '.')) : undefined,\n        });\n      }\n    }\n  }\n\n  structuredLogger.info('[DocumentParser] Items parsed', {\n    items: items.length,\n  });\n\n  return items;\n}\n\n// ============================================================================\n// Requirements Parsing\n// ============================================================================\n\n/**\n * Extrai requisitos t├®cnicos\n */\nexport function parseRequirements(requirementsSection: string): TechnicalRequirement[] {\n  const requirements: TechnicalRequirement[] = [];\n  const lines = requirementsSection.split('\\n');\n\n  // Keywords para identificar tipo\n  const typeKeywords = {\n    certification: ['certificado', 'certifica├º├úo', 'atestado', 'registro', 'alvar├í'],\n    experience: ['experi├¬ncia', 'comprova├º├úo', 'atestado de capacidade', 'execu├º├úo anterior'],\n    equipment: ['equipamento', 'm├íquina', 'ferramenta', 've├¡culo', 'material'],\n    technical: ['t├®cnica', 'projeto', 'memorial', 'especifica├º├úo', 'norma'],\n    legal: ['jur├¡dica', 'contrato social', 'cnpj', 'regularidade fiscal'],\n    financial: ['financeira', 'balan├ºo', 'patrim├┤nio', 'capital social'],\n  };\n\n  for (const line of lines) {\n    const trimmed = line.trim();\n    \n    if (trimmed.length < 10) {continue;} // Linhas muito curtas\n    \n    // Determinar tipo\n    let type: TechnicalRequirement['type'] = 'technical';\n    \n    for (const [reqType, keywords] of Object.entries(typeKeywords)) {\n      if (keywords.some(kw => trimmed.toLowerCase().includes(kw))) {\n        type = reqType as TechnicalRequirement['type'];\n        break;\n      }\n    }\n\n    // Verificar se ├® obrigat├│rio\n    const mandatory = /obrigat├│rio|exigido|necess├írio|imprescind├¡vel/i.test(trimmed);\n\n    requirements.push({\n      type,\n      description: trimmed,\n      mandatory,\n    });\n  }\n\n  structuredLogger.info('[DocumentParser] Requirements parsed', {\n    requirements: requirements.length,\n    mandatory: requirements.filter(r => r.mandatory).length,\n  });\n\n  return requirements;\n}\n\n// ============================================================================\n// Schedule Parsing\n// ============================================================================\n\n/**\n * Extrai cronograma e prazos\n */\nexport function parseSchedule(scheduleSection: string): Schedule[] {\n  const schedule: Schedule[] = [];\n  const lines = scheduleSection.split('\\n');\n\n  for (const line of lines) {\n    // Pattern: \"Evento: dd/mm/aaaa\" ou \"Evento: X dias\"\n    const dateMatch = line.match(/([^:]+):\\s*(\\d{2}\\/\\d{2}\\/\\d{4})/);\n    const daysMatch = line.match(/([^:]+):\\s*(\\d+)\\s*dias?/i);\n\n    if (dateMatch) {\n      const [, event, dateStr] = dateMatch;\n      const [day, month, year] = dateStr.split('/').map(Number);\n      \n      schedule.push({\n        event: event.trim(),\n        date: new Date(year, month - 1, day),\n      });\n    } else if (daysMatch) {\n      const [, event, days] = daysMatch;\n      \n      schedule.push({\n        event: event.trim(),\n        days: Number(days),\n      });\n    }\n  }\n\n  structuredLogger.info('[DocumentParser] Schedule parsed', {\n    events: schedule.length,\n  });\n\n  return schedule;\n}\n\n// ============================================================================\n// Main Parser\n// ============================================================================\n\n/**\n * Parse completo de edital\n */\nexport async function parseEdital(\n  fullText: string,\n  extractedTables?: any[],\n  ocrExtraction?: EditalExtraction\n): Promise<ParsedDocument> {\n  \n  structuredLogger.info('[DocumentParser] Starting full edital parse');\n\n  // 1. Identificar se├º├Áes\n  const sections = identifySections(fullText);\n\n  // 2. Extrair dados gerais (usar OCR se dispon├¡vel)\n  const general: EditalExtraction = ocrExtraction || {\n    confidence: 0.5,\n  };\n\n  // 3. Parse itens\n  const itemsSection = sections.find(s => s.type === 'items');\n  const items = itemsSection ? parseItems(itemsSection.content, extractedTables) : [];\n\n  // 4. Parse requisitos\n  const requirementsSection = sections.find(s => s.type === 'requirements');\n  const requirements = requirementsSection ? parseRequirements(requirementsSection.content) : [];\n\n  // 5. Parse cronograma\n  const scheduleSection = sections.find(s => s.type === 'schedule');\n  const schedule = scheduleSection ? parseSchedule(scheduleSection.content) : [];\n\n  // 6. Extrair documentos exigidos\n  const documents: string[] = [];\n  const docPattern = /(?:documento|certid├úo|atestado|comprovante)[^.!?]*[.!?]/gi;\n  const docMatches = fullText.match(docPattern);\n  if (docMatches) {\n    documents.push(...docMatches.map(d => d.trim()));\n  }\n\n  // 7. Calcular completude\n  const requiredFields = [\n    'numero',\n    'orgao',\n    'objeto',\n    'modalidade',\n    'dataAbertura',\n  ];\n  \n  const presentFields = requiredFields.filter(field => \n    general[field as keyof EditalExtraction] !== undefined\n  );\n\n  const missingFields = requiredFields.filter(field => \n    general[field as keyof EditalExtraction] === undefined\n  );\n\n  const completenessScore = \n    (presentFields.length / requiredFields.length) * 0.4 + // 40% dados gerais\n    (items.length > 0 ? 0.3 : 0) + // 30% itens\n    (requirements.length > 0 ? 0.15 : 0) + // 15% requisitos\n    (schedule.length > 0 ? 0.15 : 0); // 15% cronograma\n\n  const result: ParsedDocument = {\n    general,\n    sections,\n    items,\n    requirements,\n    schedule,\n    documents,\n    completenessScore,\n    missingFields,\n  };\n\n  structuredLogger.info('[DocumentParser] Parse completed', {\n    completeness: completenessScore,\n    sections: sections.length,\n    items: items.length,\n    requirements: requirements.length,\n  });\n\n  return result;\n}\n\n/**\n * Valida resultado do parsing\n */\nexport function validateParsing(parsed: ParsedDocument): {\n  isValid: boolean;\n  errors: string[];\n  warnings: string[];\n} {\n  const errors: string[] = [];\n  const warnings: string[] = [];\n\n  // Erros cr├¡ticos\n  if (!parsed.general.numero) {\n    errors.push('N├║mero do edital n├úo encontrado');\n  }\n\n  if (!parsed.general.orgao) {\n    errors.push('├ôrg├úo licitante n├úo encontrado');\n  }\n\n  if (!parsed.general.objeto) {\n    errors.push('Objeto da licita├º├úo n├úo encontrado');\n  }\n\n  if (parsed.items.length === 0) {\n    errors.push('Nenhum item foi extra├¡do');\n  }\n\n  // Avisos\n  if (parsed.completenessScore < 0.7) {\n    warnings.push(`Completude baixa (${(parsed.completenessScore * 100).toFixed(0)}%)`);\n  }\n\n  if (!parsed.general.valorEstimado) {\n    warnings.push('Valor estimado n├úo encontrado');\n  }\n\n  if (parsed.requirements.length === 0) {\n    warnings.push('Nenhum requisito t├®cnico identificado');\n  }\n\n  if (parsed.schedule.length === 0) {\n    warnings.push('Cronograma n├úo identificado');\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors,\n    warnings,\n  };\n}\n\n// ============================================================================\n// Export\n// ============================================================================\n\nexport default {\n  identifySections,\n  parseItems,\n  parseRequirements,\n  parseSchedule,\n  parseEdital,\n  validateParsing,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\policies\\governanceRules.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\providers\\ModeDeusProvider.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":93,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":93,"endColumn":28},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":107,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":107,"endColumn":36},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'user?.user_metadata?.subscription'. Either include it or remove the dependency array.","line":247,"column":6,"nodeType":"ArrayExpression","endLine":247,"endColumn":30,"suggestions":[{"desc":"Update the dependencies array to be: [user?.id, user?.user_metadata?.subscription, customConfig]","fix":{"range":[7955,7979],"text":"[user?.id, user?.user_metadata?.subscription, customConfig]"}}]}],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":206,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":206,"endColumn":24,"suggestions":[{"fix":{"range":[6665,6754],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":212,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":212,"endColumn":22,"suggestions":[{"fix":{"range":[6872,6949],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":216,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":216,"endColumn":21,"suggestions":[{"fix":{"range":[7045,7125],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":231,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":231,"endColumn":20,"suggestions":[{"fix":{"range":[7484,7553],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":245,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":245,"endColumn":20,"suggestions":[{"fix":{"range":[7877,7943],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":267,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":267,"endColumn":24,"suggestions":[{"fix":{"range":[8490,8546],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":271,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":271,"endColumn":23,"suggestions":[{"fix":{"range":[8642,8711],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * @fileoverview ModeDeusProvider - Provider que inicializa e gerencia o Modo Deus\n *\n * Este provider ├® respons├ível por:\n * - Inicializar todos os engines do Modo Deus na ordem correta\n * - Fornecer contexto global para os componentes filhos\n * - Gerenciar o ciclo de vida do sistema de IA\n * - Rastrear navega├º├úo e intera├º├Áes do usu├írio\n *\n * @module azuria_ai/providers/ModeDeusProvider\n */\n\nimport React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { useAuthContext } from '@/domains/auth';\nimport {\n  type EngineStatusValue,\n  getEngineStatuses,\n  getModeDeusConfig,\n  handleNavigation,\n  handleUserInput,\n  initModeDeus,\n  isInitialized,\n  type OrchestratorConfig,\n  process,\n  type ProcessingResult,\n  shutdownModeDeus,\n} from '../core/modeDeusOrchestrator';\nimport type { Suggestion, UserContext } from '../types/operational';\nimport { on, unsubscribeFromEvent } from '../core/eventBus';\nimport { getUserContext } from '../engines/userContextEngine';\nimport ragEngine from '../engines/ragEngine';\nimport multimodalEngine from '../engines/multimodalEngine';\nimport whatIfSimulator from '../engines/whatIfSimulator';\nimport xaiEngine from '../engines/xaiEngine';\nimport portalMonitorAgent from '../agents/portalMonitorAgent';\nimport priceMonitoringAgent from '../engines/priceMonitoringAgent';\nimport invoiceOCREngine from '../engines/invoiceOCREngine';\nimport dynamicPricingEngine from '../engines/dynamicPricingEngine';\n\n// ============================================================================\n// Types\n// ============================================================================\n\ninterface ModeDeusState {\n  /** Se o sistema est├í inicializado */\n  initialized: boolean;\n  /** Se est├í carregando */\n  loading: boolean;\n  /** Erro de inicializa├º├úo, se houver */\n  error: string | null;\n  /** Status de todos os engines */\n  engineStatuses: Record<string, EngineStatusValue>;\n  /** Resultado do ├║ltimo processamento */\n  lastResult: ProcessingResult | null;\n  /** Configura├º├úo atual */\n  config: OrchestratorConfig | null;\n}\n\ninterface ModeDeusContextValue extends ModeDeusState {\n  /** Inicializa manualmente (├║til para retry) */\n  initialize: () => Promise<void>;\n  /** Processa contexto e retorna resultado */\n  processContext: (context: Partial<UserContext>) => Promise<ProcessingResult | null>;\n  /** Processa input de texto natural */\n  processNaturalInput: (input: string) => Promise<Suggestion[]>;\n  /** Atualiza sugest├Áes manualmente */\n  refreshSuggestions: () => void;\n}\n\n// ============================================================================\n// Context\n// ============================================================================\n\nconst ModeDeusContext = createContext<ModeDeusContextValue | null>(null);\n\n// ============================================================================\n// Hooks\n// ============================================================================\n\n/**\n * Hook para acessar o contexto do Modo Deus\n * @throws Se usado fora do ModeDeusProvider\n */\nexport function useModeDeus(): ModeDeusContextValue {\n  const context = useContext(ModeDeusContext);\n\n  if (!context) {\n    throw new Error('useModeDeus deve ser usado dentro de ModeDeusProvider');\n  }\n\n  return context;\n}\n\n/**\n * Hook seguro que n├úo lan├ºa erro se fora do provider\n * ├Ütil para componentes que podem existir fora do dashboard\n */\nexport function useModeDeusOptional(): ModeDeusContextValue | null {\n  return useContext(ModeDeusContext);\n}\n\n// ============================================================================\n// Provider\n// ============================================================================\n\ninterface ModeDeusProviderProps {\n  children: React.ReactNode;\n  /** Se deve inicializar automaticamente */\n  autoInitialize?: boolean;\n  /** Configura├º├úo customizada */\n  config?: Partial<OrchestratorConfig>;\n}\n\nexport const ModeDeusProvider: React.FC<ModeDeusProviderProps> = ({\n  children,\n  autoInitialize = true,\n  config: customConfig,\n}) => {\n  // ==========================================================================\n  // State\n  // ==========================================================================\n\n  const [state, setState] = useState<ModeDeusState>({\n    initialized: false,\n    loading: false,\n    error: null,\n    engineStatuses: {},\n    lastResult: null,\n    config: null,\n  });\n\n  // ==========================================================================\n  // Hooks externos\n  // ==========================================================================\n\n  const { user } = useAuthContext();\n  const location = useLocation();\n  const previousPath = useRef<string | null>(null);\n\n  // ==========================================================================\n  // Inicializa├º├úo\n  // ==========================================================================\n\n  const initialize = useCallback(async () => {\n    if (isInitialized()) {\n      setState((prev) => ({\n        ...prev,\n        initialized: true,\n        loading: false,\n        engineStatuses: getEngineStatuses(),\n        config: getModeDeusConfig(),\n      }));\n      return;\n    }\n\n    setState((prev) => ({ ...prev, loading: true, error: null }));\n\n    try {\n      await initModeDeus(user?.id, customConfig);\n\n      // Inicializar novos engines de licita├º├Áes\n      try {\n        ragEngine.initRAGEngine();\n        multimodalEngine.initMultimodalEngine();\n        whatIfSimulator.initWhatIfSimulator();\n        xaiEngine.initXAIEngine();\n\n        // Inicializar engines v2.0 (e-commerce/marketplace)\n        priceMonitoringAgent.initPriceMonitoring();\n        invoiceOCREngine.initInvoiceOCR();\n        dynamicPricingEngine.initDynamicPricing();\n\n        // Iniciar monitoramento de pre├ºos para usu├írios PRO/Enterprise\n        if (\n          user?.user_metadata?.subscription === 'PRO' ||\n          user?.user_metadata?.subscription === 'Enterprise'\n        ) {\n          priceMonitoringAgent.startMonitoring({\n            intervalMinutes: 60, // 1 hora\n            userId: user?.id,\n          });\n        }\n\n        // Iniciar monitor de portais apenas para usu├írios PRO/Enterprise\n        if (\n          user?.user_metadata?.subscription === 'PRO' ||\n          user?.user_metadata?.subscription === 'Enterprise'\n        ) {\n          portalMonitorAgent.startPortalMonitor({\n            interval: 5 * 60 * 1000, // 5 minutos\n            autoAnalyze: true,\n            autoAlert: true,\n          });\n\n          if (import.meta.env.DEV) {\n            // eslint-disable-next-line no-console\n            console.log('[ModeDeusProvider] ­ƒñû Portal Monitor iniciado para usu├írio PRO/Enterprise');\n          }\n        }\n\n        if (import.meta.env.DEV) {\n          // eslint-disable-next-line no-console\n          console.log('[ModeDeusProvider] ­ƒÜÇ Engines v2.0 (e-commerce) inicializados');\n        }\n      } catch (engineError) {\n        // eslint-disable-next-line no-console\n        console.warn('[ModeDeusProvider] ÔÜá´©Å Erro ao inicializar engines:', engineError);\n        // N├úo bloqueia a inicializa├º├úo principal\n      }\n\n      setState((prev) => ({\n        ...prev,\n        initialized: true,\n        loading: false,\n        error: null,\n        engineStatuses: getEngineStatuses(),\n        config: getModeDeusConfig(),\n      }));\n\n      if (import.meta.env.DEV) {\n        // eslint-disable-next-line no-console\n        console.log('[ModeDeusProvider] Ô£à Sistema inicializado com sucesso');\n      }\n    } catch (err) {\n      const errorMessage =\n        err instanceof Error ? err.message : 'Erro ao inicializar Modo Deus';\n\n      setState((prev) => ({\n        ...prev,\n        initialized: false,\n        loading: false,\n        error: errorMessage,\n      }));\n\n      // eslint-disable-next-line no-console\n      console.error('[ModeDeusProvider] ÔØî Erro na inicializa├º├úo:', err);\n    }\n  }, [user?.id, customConfig]);\n\n  // Auto-inicializa├º├úo\n  useEffect(() => {\n    if (autoInitialize && !state.initialized && !state.loading) {\n      initialize();\n    }\n\n    // Cleanup no unmount\n    return () => {\n      if (state.initialized) {\n        shutdownModeDeus();\n        \n        // Desligar engines v2.0\n        try {\n          portalMonitorAgent.stopPortalMonitor();\n          priceMonitoringAgent.stopMonitoring();\n          \n          if (import.meta.env.DEV) {\n            // eslint-disable-next-line no-console\n            console.log('[ModeDeusProvider] ­ƒøæ Engines desligados');\n          }\n        } catch (err) {\n          // eslint-disable-next-line no-console\n          console.warn('[ModeDeusProvider] ÔÜá´©Å Erro ao desligar engines:', err);\n        }\n      }\n    };\n  }, [autoInitialize, initialize, state.initialized, state.loading]);\n\n  // ==========================================================================\n  // Rastreamento de navega├º├úo\n  // ==========================================================================\n\n  useEffect(() => {\n    if (!state.initialized) {\n      return;\n    }\n\n    const currentPath = location.pathname;\n\n    if (previousPath.current && previousPath.current !== currentPath) {\n      handleNavigation(previousPath.current, currentPath);\n    }\n\n    previousPath.current = currentPath;\n  }, [location.pathname, state.initialized]);\n\n  // ==========================================================================\n  // Subscription para eventos de sugest├úo via eventBus\n  // ==========================================================================\n\n  useEffect(() => {\n    if (!state.initialized) {\n      return;\n    }\n\n    const subscriptionIds: string[] = [];\n\n    const handleInsight = (event: { payload?: { suggestion?: Suggestion } }) => {\n      if (event.payload?.suggestion) {\n        setState((prev) => {\n          const suggestion = event.payload?.suggestion;\n          if (!suggestion) {\n            return prev;\n          }\n\n          const currentSuggestions = prev.lastResult?.suggestions ?? [];\n          const exists = currentSuggestions.some((s) => s.id === suggestion.id);\n\n          if (exists) {\n            return prev;\n          }\n\n          return {\n            ...prev,\n            lastResult: prev.lastResult\n              ? {\n                  ...prev.lastResult,\n                  suggestions: [...currentSuggestions, suggestion].slice(-10),\n                }\n              : {\n                  suggestions: [suggestion],\n                  predictions: [],\n                  insights: [],\n                  shouldShowAssistance: true,\n                },\n          };\n        });\n      }\n    };\n\n    subscriptionIds.push(on('insight:generated', handleInsight));\n    subscriptionIds.push(on('ai:recommended-action', handleInsight));\n\n    return () => {\n      subscriptionIds.forEach((id) => unsubscribeFromEvent(id));\n    };\n  }, [state.initialized]);\n\n  // ==========================================================================\n  // Handlers\n  // ==========================================================================\n\n  const processContext = useCallback(\n    async (context: Partial<UserContext>): Promise<ProcessingResult | null> => {\n      if (!state.initialized) {\n        return null;\n      }\n\n      const userContext = getUserContext();\n      const fullContext = userContext ?? {\n        userId: user?.id ?? 'anonymous',\n        sessionId: `session_${Date.now()}`,\n        currentPage: location.pathname,\n        previousPage: previousPath.current ?? undefined,\n        sessionStartTime: Date.now(),\n        interactionCount: 0,\n        skillLevel: 'intermediate' as const,\n        preferences: {},\n        recentActions: [],\n        formState: {},\n      };\n\n      const result = await process({\n        ...fullContext,\n        ...context,\n      });\n\n      setState((prev) => ({\n        ...prev,\n        lastResult: result,\n      }));\n\n      return result;\n    },\n    [state.initialized, user?.id, location.pathname]\n  );\n\n  const processNaturalInput = useCallback(\n    async (input: string): Promise<Suggestion[]> => {\n      if (!state.initialized) {\n        return [];\n      }\n\n      const suggestions = await handleUserInput(input);\n\n      setState((prev) => ({\n        ...prev,\n        lastResult: prev.lastResult\n          ? {\n              ...prev.lastResult,\n              suggestions: [...prev.lastResult.suggestions, ...suggestions].slice(-10),\n            }\n          : {\n              suggestions,\n              predictions: [],\n              insights: [],\n              shouldShowAssistance: suggestions.length > 0,\n            },\n      }));\n\n      return suggestions;\n    },\n    [state.initialized]\n  );\n\n  const refreshSuggestions = useCallback(() => {\n    if (!state.initialized) {\n      return;\n    }\n\n    const userContext = getUserContext();\n\n    if (userContext) {\n      process(userContext).then((result) => {\n        setState((prev) => ({ ...prev, lastResult: result }));\n      });\n    }\n  }, [state.initialized]);\n\n  // ==========================================================================\n  // Value memoizado\n  // ==========================================================================\n\n  const value = useMemo<ModeDeusContextValue>(\n    () => ({\n      ...state,\n      initialize,\n      processContext,\n      processNaturalInput,\n      refreshSuggestions,\n    }),\n    [state, initialize, processContext, processNaturalInput, refreshSuggestions]\n  );\n\n  return (\n    <ModeDeusContext.Provider value={value}>\n      {children}\n    </ModeDeusContext.Provider>\n  );\n};\n\nexport default ModeDeusProvider;\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\types\\operational.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\ui\\AzuriaAIProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\ui\\AzuriaBubble.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\ui\\CoPilot.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\ui\\InsightToast.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":164,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":164,"endColumn":33},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":173,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":173,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5226,5229],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5226,5229],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Insight Toast\r\n * \r\n * Bal├úozinho que aparece automaticamente com insights da IA.\r\n */\r\n\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { type AzuriaEvent, emitEvent, on, unsubscribeFromEvent } from '../core/eventBus';\r\nimport { AlertTriangle, Info, Lightbulb, Sparkles, X } from 'lucide-react';\r\nimport { rewriteWithBrandVoice } from '../engines/brandVoiceEngine';\r\n\r\nexport type InsightType = 'info' | 'success' | 'warning' | 'insight' | 'suggestion' | 'forecast';\r\n\r\nexport interface InsightToastProps {\r\n  message: string;\r\n  type?: InsightType;\r\n  duration?: number;\r\n  onDismiss?: () => void;\r\n  onAction?: () => void;\r\n  actionLabel?: string;\r\n  position?: 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left';\r\n}\r\n\r\ninterface ToastItem extends InsightToastProps {\r\n  id: string;\r\n  timestamp: number;\r\n  brandTone?: string;\r\n  persona?: string;\r\n  refinedMessage?: string;\r\n  emotion?: string;\r\n  affectiveMessage?: string;\r\n  emotionConfidence?: number;\r\n}\r\n\r\nexport const InsightToast: React.FC<InsightToastProps> = ({\r\n  message,\r\n  type = 'insight',\r\n  duration = 5000,\r\n  onDismiss,\r\n  onAction,\r\n  actionLabel,\r\n  position = 'bottom-right',\r\n}) => {\r\n  const [isVisible, setIsVisible] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (duration > 0) {\r\n      const timer = setTimeout(() => {\r\n        setIsVisible(false);\r\n        setTimeout(() => onDismiss?.(), 300); // Wait for exit animation\r\n      }, duration);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [duration, onDismiss]);\r\n\r\n  const handleDismiss = () => {\r\n    setIsVisible(false);\r\n    setTimeout(() => onDismiss?.(), 300);\r\n  };\r\n\r\n  const typeStyles = {\r\n    info: 'bg-blue-50 border-blue-200 text-blue-900',\r\n    success: 'bg-green-50 border-green-200 text-green-900',\r\n    warning: 'bg-yellow-50 border-yellow-200 text-yellow-900',\r\n    insight: 'bg-cyan-50 border-cyan-200 text-cyan-900',\r\n    suggestion: 'bg-purple-50 border-purple-200 text-purple-900',\r\n  forecast: 'bg-indigo-50 border-indigo-200 text-indigo-900',\r\n  };\r\n\r\n  const typeIcons = {\r\n    info: Info,\r\n    success: Sparkles,\r\n    warning: AlertTriangle,\r\n    insight: Sparkles,\r\n    suggestion: Lightbulb,\r\n  forecast: Sparkles,\r\n  };\r\n\r\n  const positionStyles = {\r\n    'top-right': 'top-4 right-4',\r\n    'top-left': 'top-4 left-4',\r\n    'bottom-right': 'bottom-20 right-4',\r\n    'bottom-left': 'bottom-20 left-4',\r\n  };\r\n\r\n  const Icon = typeIcons[type];\r\n\r\n  return (\r\n    <div\r\n      className={`\r\n        fixed ${positionStyles[position]} z-50\r\n        transform transition-all duration-300 ease-out\r\n        ${isVisible ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'}\r\n      `}\r\n    >\r\n      <div\r\n        className={`\r\n          max-w-sm w-full sm:w-96\r\n          p-4 rounded-lg border-2 shadow-lg\r\n          ${typeStyles[type]}\r\n          backdrop-blur-sm\r\n        `}\r\n      >\r\n        <div className=\"flex items-start gap-3\">\r\n          {/* Icon */}\r\n          <div className=\"flex-shrink-0\">\r\n            <Icon className=\"w-5 h-5\" />\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"flex-1 min-w-0\">\r\n            <p className=\"text-sm font-medium\">{message}</p>\r\n            {toast.affectiveMessage && (\r\n              <p className=\"text-xs text-gray-700 mt-1\">{toast.affectiveMessage}</p>\r\n            )}\r\n            {(toast.emotion || toast.brandTone || toast.persona) && (\r\n              <div className=\"text-[11px] text-gray-600 mt-1 flex gap-2 flex-wrap\">\r\n                {toast.emotion && <span>Emo├º├úo: {toast.emotion}</span>}\r\n                {toast.emotionConfidence !== undefined && (\r\n                  <span>Conf.: {Math.round((toast.emotionConfidence || 0) * 100)}%</span>\r\n                )}\r\n                {toast.brandTone && <span>Tom: {toast.brandTone}</span>}\r\n                {toast.persona && <span>Persona: {toast.persona}</span>}\r\n              </div>\r\n            )}\r\n            \r\n            {/* Action button */}\r\n            {actionLabel && onAction && (\r\n              <button\r\n                onClick={onAction}\r\n                className=\"\r\n                  mt-2 text-xs font-semibold\r\n                  hover:underline\r\n                  transition-all\r\n                \"\r\n              >\r\n                {actionLabel} ÔåÆ\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Close button */}\r\n          <button\r\n            onClick={handleDismiss}\r\n            className=\"\r\n              flex-shrink-0 p-1\r\n              hover:bg-black/10 rounded\r\n              transition-colors\r\n            \"\r\n            aria-label=\"Fechar\"\r\n          >\r\n            <X className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Hook para gerenciar fila de toasts\r\n */\r\nexport function useInsightToasts() {\r\n  const [toasts, setToasts] = useState<ToastItem[]>([]);\r\n  const processed = useRef<Set<string>>(new Set());\r\n\r\n  useEffect(() => {\r\n    let changed = false;\r\n    const updated = toasts.map((toast) => {\r\n      if (processed.current.has(toast.id)) {return toast;}\r\n      const tone = toast.brandTone || 'padrao';\r\n      const refined = rewriteWithBrandVoice(toast.message, tone as any);\r\n      processed.current.add(toast.id);\r\n      if (refined !== toast.message || !toast.refinedMessage) {\r\n        changed = true;\r\n        return { ...toast, message: refined, refinedMessage: refined, brandTone: tone };\r\n      }\r\n      return toast;\r\n    });\r\n    if (changed) {setToasts(updated);}\r\n  }, [toasts]);\r\n\r\n  useEffect(() => {\r\n    // Escutar eventos de insights gerados\r\n    const subscriptionId = on('insight:generated', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `toast-${Date.now()}-${Math.random()}`,\r\n        message: event.payload.message || 'Novo insight dispon├¡vel',\r\n        type: event.payload.type || 'insight',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n        brandTone: event.payload.brandTone,\r\n        persona: event.payload.persona,\r\n        refinedMessage: event.payload.refinedMessage,\r\n        emotion: event.payload.emotion,\r\n        emotionConfidence: event.payload.emotionConfidence,\r\n        affectiveMessage: event.payload.affectiveMessage,\r\n        actionLabel: event.payload?.suggestion ? 'Ver sugest├úo' : undefined,\r\n        onAction: event.payload?.suggestion\r\n          ? () =>\r\n              emitEvent('ui:actionClicked', {\r\n                suggestion: event.payload?.suggestion,\r\n                source: event.payload?.sourceModule,\r\n              })\r\n          : undefined,\r\n      };\r\n\r\n      setToasts((prev) => [...prev, toast]);\r\n    });\r\n\r\n    // Escutar eventos preditivos dedicados\r\n    const predictiveSubscription = on('ai:predictive-insight', (event: AzuriaEvent) => {\r\n      const suggested = event.payload?.suggestedActions?.[0];\r\n      const toast: ToastItem = {\r\n        id: event.payload?.id || `forecast-${Date.now()}`,\r\n        message:\r\n          event.payload?.message ||\r\n          'Poss├¡vel queda de margem prevista. Ajuste antes que aconte├ºa.',\r\n        type: 'forecast',\r\n        duration: 6000,\r\n        timestamp: event.timestamp,\r\n        actionLabel: suggested || 'Aplicar recomenda├º├úo',\r\n        onAction: () =>\r\n          emitEvent('ui:actionClicked', {\r\n            suggestion: suggested,\r\n            context: event.payload?.context,\r\n            type: 'forecast',\r\n          }),\r\n      };\r\n\r\n      setToasts((prev) => [...prev, toast]);\r\n    });\r\n\r\n    const cognitiveSubscription = on('ai:pattern-detected', (event: AzuriaEvent) => {\r\n      const message =\r\n        event.payload?.patterns?.join('; ') ||\r\n        'Padr├úo de uso identificado. Deseja agilizar esta tarefa?';\r\n      const toast: ToastItem = {\r\n        id: `pattern-${Date.now()}`,\r\n        message,\r\n        type: 'insight',\r\n        duration: 6000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const forecastSubscription = on('ai:forecast-generated', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `cog-forecast-${Date.now()}`,\r\n        message: event.payload?.message || 'Previs├úo gerada com base no seu uso.',\r\n        type: 'forecast',\r\n        duration: 6000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const anomalySubscription = on('ai:anomaly-detected', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `anomaly-${Date.now()}`,\r\n        message: event.payload?.message || 'Detectamos um comportamento fora do padr├úo.',\r\n        type: 'warning',\r\n        duration: 6000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const emotionSubscription = on('ai:emotion-inferred', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `emotion-${Date.now()}`,\r\n        message: `Percebemos que voc├¬ est├í ${event.payload?.emotionalState || 'em outro estado'}. Ajustaremos o tom das sugest├Áes.`,\r\n        type: 'insight',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const profileSubscription = on('ai:user-profile-updated', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `profile-${Date.now()}`,\r\n        message: 'Perfil adaptativo atualizado com base no seu uso recente.',\r\n        type: 'info',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const adaptiveSubscription = on('ui:adaptive-interface-changed', (event: AzuriaEvent) => {\r\n      const mode = event.payload?.adaptation?.conciseMode ? 'modo conciso' : 'modo detalhado';\r\n      const toast: ToastItem = {\r\n        id: `adaptive-${Date.now()}`,\r\n        message: `Interface ajustada para ${mode}.`,\r\n        type: 'info',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const driftSubscription = on('ai:internal-drift', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `drift-${Date.now()}`,\r\n        message: 'Detectamos drift interno. Ajustando par├ómetros de forma segura.',\r\n        type: 'warning',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const consistencySubscription = on('ai:consistency-warning', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `consistency-${Date.now()}`,\r\n        message: event.payload?.message || 'Aviso de consist├¬ncia interna.',\r\n        type: 'warning',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const stabilitySubscription = on('ai:stability-restored', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `stability-${Date.now()}`,\r\n        message: 'Estabilidade interna restaurada.',\r\n        type: 'success',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const trendSubscription = on('ai:trend-detected', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `trend-${Date.now()}`,\r\n        message: 'Padr├úo emergente identificado.',\r\n        type: 'insight',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const futureSubscription = on('ai:future-state-predicted', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `future-${Date.now()}`,\r\n        message: 'Estado futuro previsto ÔÇö veja o dashboard.',\r\n        type: 'forecast',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const temporalAnomalySubscription = on('ai:temporal-anomaly', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `tanomaly-${Date.now()}`,\r\n        message: 'Anomalia temporal detectada ÔÇö aten├º├úo!',\r\n        type: 'warning',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const emotionUpdateSub = on('ui:emotion-updated', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `emotion-ui-${Date.now()}`,\r\n        message: event.payload?.message || 'Ajustamos o tom da interface.',\r\n        type: 'insight',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const adaptiveLayoutSub = on('ui:adaptive-layout', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `adaptive-ui-${Date.now()}`,\r\n        message: 'Layout adaptado ├ás suas prefer├¬ncias.',\r\n        type: 'info',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const internalInsightSub = on('ai:internal-insight', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `internal-${Date.now()}`,\r\n        message: event.payload?.reason || 'Insight interno registrado.',\r\n        type: 'insight',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const contradictionSub = on('ai:contradiction-detected', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `contradiction-${Date.now()}`,\r\n        message: 'Contradi├º├úo interna detectada.',\r\n        type: 'warning',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const contextReconstructedSub = on('ai:context-reconstructed', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `context-${Date.now()}`,\r\n        message: `Contexto reconstru├¡do (confian├ºa ${(event.payload?.confidence ?? 0.5) * 100}% ).`,\r\n        type: 'info',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const silentFailureSub = on('ai:silent-failure-detected', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `silent-${Date.now()}`,\r\n        message: 'Falha silenciosa detectada.',\r\n        type: 'warning',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const strategicPlanSub = on('ai:strategic-plan-generated', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `plan-${Date.now()}`,\r\n        message: 'Plano estrat├®gico gerado.',\r\n        type: 'insight',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const strategicRiskSub = on('ai:structural-risk-detected', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `srisk-${Date.now()}`,\r\n        message: 'Risco estrutural detectado.',\r\n        type: 'warning',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const futurePredSub = on('ai:future-predicted', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `fut-${Date.now()}`,\r\n        message: 'Estado futuro previsto (cen├írio).',\r\n        type: 'forecast',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const engagementSub = on('ai:engagement-progress', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `eng-${Date.now()}`,\r\n        message: `Streak atual: ${event.payload?.streak ?? 0}`,\r\n        type: 'info',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const dropSub = on('ai:engagement-drop-detected', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `drop-${Date.now()}`,\r\n        message: 'Queda de uso detectada. Vamos retomar?',\r\n        type: 'warning',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const achievementSub = on('ai:achievement-unlocked', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `ach-${Date.now()}`,\r\n        message: 'Conquista desbloqueada! ­ƒÄë',\r\n        type: 'success',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const nextActionSub = on('ai:next-best-action', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `nba-${Date.now()}`,\r\n        message: event.payload?.action || 'Pr├│xima a├º├úo sugerida.',\r\n        type: 'insight',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const storySub = on('ai:story-generated', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `story-${Date.now()}`,\r\n        message: event.payload?.story || 'Hist├│ria gerada.',\r\n        type: 'insight',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const ethicalSub = on('ai:ethical-warning', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `eth-${Date.now()}`,\r\n        message: event.payload?.message || 'ÔÜá´©Å Alerta ├®tico emitido.',\r\n        type: 'warning',\r\n        duration: 6000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const alignmentSub = on('ai:alignment-corrected', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `align-${Date.now()}`,\r\n        message: event.payload?.message || 'ÔÜá´©Å Inten├º├úo divergente corrigida.',\r\n        type: 'info',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const safetySub = on('ai:safety-break', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `safety-${Date.now()}`,\r\n        message: event.payload?.reason ? `­ƒÜ½ A├º├úo bloqueada: ${event.payload.reason}` : '­ƒÜ½ A├º├úo bloqueada por seguran├ºa',\r\n        type: 'warning',\r\n        duration: 6000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const mindWarnSub = on('ai:mind-warning', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `mindwarn-${Date.now()}`,\r\n        message: event.payload?.anomalies?.join(', ') || 'ÔÜá´©Å Alerta cognitivo interno.',\r\n        type: 'warning',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const mindSnapshotSub = on('ai:mind-snapshot', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `mindsnap-${Date.now()}`,\r\n        message: 'Mapa cognitivo atualizado.',\r\n        type: 'info',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const realitySub = on('ai:reality-updated', (event: AzuriaEvent) => {\r\n      const forces = event.payload?.forces ? Object.entries(event.payload.forces).map(([k,v]) => `${k}:${v}`).join(', ') : '';\r\n      const toast: ToastItem = {\r\n        id: `reality-${Date.now()}`,\r\n        message: event.payload?.message || `Mudan├ºa detectada: ${forces || 'contexto atualizado'}.`,\r\n        type: 'insight',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const truthSub = on('ai:truth-alert', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `truth-${Date.now()}`,\r\n        message: `Alerta de verdade: ${event.payload?.severity || 'verifique contexto'}`,\r\n        type: 'warning',\r\n        duration: 6000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const stabilitySub = on('ai:stability-alert', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `stab-${Date.now()}`,\r\n        message: `Estabilidade: risco ${Math.round((event.payload?.riskLevel || 0) * 100)}%`,\r\n        type: event.payload?.severity === 'critical' ? 'warning' : 'info',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const marketSub = on('ai:market-insight', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `market-${Date.now()}`,\r\n        message: event.payload?.suggestion || event.payload?.topic || 'Nova insight de mercado detectado.',\r\n        type: 'insight',\r\n        duration: 5000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    const metaLayerSub = on('ai:meta-layer-updated', (event: AzuriaEvent) => {\r\n      const toast: ToastItem = {\r\n        id: `metalayer-${Date.now()}`,\r\n        message: 'Pipeline cognitiva completa atualizada.',\r\n        type: 'info',\r\n        duration: 4000,\r\n        timestamp: event.timestamp,\r\n      };\r\n      setToasts(prev => [...prev, toast]);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent(subscriptionId);\r\n      unsubscribeFromEvent(predictiveSubscription);\r\n      unsubscribeFromEvent(cognitiveSubscription);\r\n      unsubscribeFromEvent(forecastSubscription);\r\n      unsubscribeFromEvent(anomalySubscription);\r\n      unsubscribeFromEvent(emotionSubscription);\r\n      unsubscribeFromEvent(profileSubscription);\r\n      unsubscribeFromEvent(adaptiveSubscription);\r\n      unsubscribeFromEvent(driftSubscription);\r\n      unsubscribeFromEvent(consistencySubscription);\r\n      unsubscribeFromEvent(stabilitySubscription);\r\n      unsubscribeFromEvent(trendSubscription);\r\n      unsubscribeFromEvent(futureSubscription);\r\n      unsubscribeFromEvent(temporalAnomalySubscription);\r\n      unsubscribeFromEvent(emotionUpdateSub);\r\n      unsubscribeFromEvent(adaptiveLayoutSub);\r\n      unsubscribeFromEvent(internalInsightSub);\r\n      unsubscribeFromEvent(contradictionSub);\r\n      unsubscribeFromEvent(contextReconstructedSub);\r\n      unsubscribeFromEvent(silentFailureSub);\r\n      unsubscribeFromEvent(strategicPlanSub);\r\n      unsubscribeFromEvent(strategicRiskSub);\r\n      unsubscribeFromEvent(futurePredSub);\r\n      unsubscribeFromEvent(engagementSub);\r\n      unsubscribeFromEvent(dropSub);\r\n      unsubscribeFromEvent(achievementSub);\r\n      unsubscribeFromEvent(nextActionSub);\r\n      unsubscribeFromEvent(storySub);\r\n      unsubscribeFromEvent(ethicalSub);\r\n      unsubscribeFromEvent(alignmentSub);\r\n      unsubscribeFromEvent(safetySub);\r\n      unsubscribeFromEvent(mindWarnSub);\r\n      unsubscribeFromEvent(mindSnapshotSub);\r\n      unsubscribeFromEvent(realitySub);\r\n      unsubscribeFromEvent(truthSub);\r\n      unsubscribeFromEvent(stabilitySub);\r\n      unsubscribeFromEvent(marketSub);\r\n      unsubscribeFromEvent(metaLayerSub);\r\n    };\r\n  }, []);\r\n\r\n  const dismissToast = (id: string) => {\r\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\r\n  };\r\n\r\n  const showToast = (props: Omit<InsightToastProps, 'onDismiss'>) => {\r\n    const toast: ToastItem = {\r\n      ...props,\r\n      id: `toast-${Date.now()}-${Math.random()}`,\r\n      timestamp: Date.now(),\r\n    };\r\n\r\n    setToasts((prev) => [...prev, toast]);\r\n  };\r\n\r\n  return {\r\n    toasts,\r\n    showToast,\r\n    dismissToast,\r\n  };\r\n}\r\n\r\n/**\r\n * Container component to render all active toasts\r\n */\r\nexport const InsightToastContainer: React.FC = () => {\r\n  const { toasts, dismissToast } = useInsightToasts();\r\n\r\n  return (\r\n    <>\r\n      {toasts.map((toast, index) => (\r\n        <div\r\n          key={toast.id}\r\n          style={{\r\n            transform: `translateY(-${index * 80}px)`,\r\n          }}\r\n        >\r\n          <InsightToast\r\n            {...toast}\r\n            onDismiss={() => dismissToast(toast.id)}\r\n          />\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InsightToast;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\ui\\MiniDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":74,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1752,1755],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1752,1755],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":80,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1930,1933],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1930,1933],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":93,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":93,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2304,2307],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2304,2307],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2330,2333],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2330,2333],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":126,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3079,3082],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3079,3082],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userId' is defined but never used. Allowed unused args must match /^_/u.","line":151,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":151,"endColumn":9},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":174,"column":97,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":174,"endColumn":100,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5118,5121],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5118,5121],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'event' is defined but never used. Allowed unused args must match /^_/u.","line":259,"column":59,"nodeType":null,"messageId":"unusedVar","endLine":259,"endColumn":64},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'event' is defined but never used. Allowed unused args must match /^_/u.","line":287,"column":61,"nodeType":null,"messageId":"unusedVar","endLine":287,"endColumn":66},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":688,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":688,"endColumn":16,"suggestions":[{"fix":{"range":[23693,23730],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1226,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1226,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[51617,51620],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[51617,51620],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Mini Dashboard\r\n * \r\n * Painel lateral da IA que mostra insights e a├º├Áes r├ípidas.\r\n */\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { type AzuriaEvent, on, unsubscribeFromEvent } from '../core/eventBus';\r\nimport { AlertTriangle, BarChart3, Calculator, FileText, Sparkles, TrendingUp, X } from 'lucide-react';\r\nimport { rewriteWithBrandVoice } from '../engines/brandVoiceEngine';\r\n\r\nexport interface MiniDashboardProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  userId?: string;\r\n  isAdmin?: boolean;\r\n}\r\n\r\ninterface Insight {\r\n  type: 'warning' | 'suggestion' | 'info';\r\n  message: string;\r\n  action?: string;\r\n  timestamp: number;\r\n  brandTone?: string;\r\n  persona?: string;\r\n  refinedMessage?: string;\r\n  emotion?: string;\r\n  affectiveMessage?: string;\r\n  emotionConfidence?: number;\r\n}\r\n\r\ninterface PredictiveInsightItem {\r\n  id: string;\r\n  message: string;\r\n  riskLevel: 'safe' | 'alert' | 'critical';\r\n  predictiveScore: number;\r\n  suggestedActions?: string[];\r\n  timestamp: number;\r\n}\r\n\r\ninterface CognitiveItem {\r\n  id: string;\r\n  message: string;\r\n  type: 'pattern' | 'forecast' | 'anomaly';\r\n  timestamp: number;\r\n}\r\n\r\ninterface SocialState {\r\n  emotionalState?: string;\r\n  skillLevel?: string;\r\n  riskTolerance?: string;\r\n  preferredPace?: string;\r\n}\r\n\r\ninterface AdaptiveState {\r\n  showAdvanced?: boolean;\r\n  conciseMode?: boolean;\r\n  detailedExplanations?: boolean;\r\n  tone?: string;\r\n}\r\n\r\ninterface DiagnosticState {\r\n  signalQuality?: number;\r\n  confidence?: number;\r\n  drift?: boolean;\r\n  errors?: number;\r\n  plannerActions?: string[];\r\n  timeline?: string[];\r\n  forecastText?: string;\r\n  anomalies?: string[];\r\n  evolutionScore?: number;\r\n  weaknesses?: string[];\r\n  patches?: string[];\r\n  globalState?: any;\r\n  lastUnifiedRecommendation?: string;\r\n  integratedConfidence?: number;\r\n  healthScore?: number;\r\n  emotionalTone?: string;\r\n  emotionMessage?: string;\r\n  adaptiveLayout?: any;\r\n  engagementScore?: number;\r\n  churnRisk?: number;\r\n  upgradeProbability?: number;\r\n  coherenceScore?: number;\r\n  governanceAlerts?: string[];\r\n  trustLevel?: string;\r\n  internalInsights?: string[];\r\n  contradictions?: string[];\r\n  reconstructionConfidence?: number;\r\n  sensors?: string[];\r\n  strategicHealth?: number;\r\n  strategicRisks?: string[];\r\n  longTermGoals?: any[];\r\n  strategicPlan?: any[];\r\n}\r\n\r\ninterface EngagementNarrativeState {\r\n  motivationLevel?: number;\r\n  achievementCount?: number;\r\n  recentStreak?: number;\r\n  recommendedNextAction?: string;\r\n  lastStory?: string;\r\n}\r\n\r\ninterface UXEvolutionState {\r\n  uxFrictionPoints?: number;\r\n  positivePatterns?: number;\r\n  autoFixesApplied?: string[];\r\n  abandonRate?: number;\r\n  optimizedFlows?: string[];\r\n}\r\n\r\ninterface GovernanceState {\r\n  ethicalWarnings?: number;\r\n  safetyBreaks?: number;\r\n}\r\n\r\ninterface SystemMindState {\r\n  globalHealthScore?: number;\r\n  confidenceMap?: Record<string, number>;\r\n  internalRisks?: string[];\r\n  activeConflicts?: string[];\r\n  systemUptimeCognitive?: number;\r\n  realityConfidence?: number;\r\n  externalForces?: string[];\r\n  contextSnapshot?: any;\r\n  truthScore?: number;\r\n  contradictionsDetected?: string[];\r\n  stabilityScore?: number;\r\n  predictedFailure?: number;\r\n  loadBalanceStatus?: string;\r\n  recoveryEvents?: string[];\r\n  marketOpportunities?: string[];\r\n  marketRisks?: string[];\r\n  metaState?: string;\r\n  decisionQuality?: number;\r\n  scenarioConfidence?: number;\r\n  personalityRiskAttitude?: string;\r\n  opportunityBias?: number;\r\n  decisionStyle?: string;\r\n}\r\n\r\nfunction renderAsciiGraph(count: number) {\r\n  const bars = Math.min(20, Math.max(1, count));\r\n  return '#'.repeat(bars);\r\n}\r\n\r\nexport const MiniDashboard: React.FC<MiniDashboardProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  userId,\r\n  isAdmin = false,\r\n}) => {\r\n  const [lastInsight, setLastInsight] = useState<Insight | null>(null);\r\n  const [insights, setInsights] = useState<Insight[]>([]);\r\n  const [predictiveInsights, setPredictiveInsights] = useState<PredictiveInsightItem[]>([]);\r\n  const [cognitiveEvents, setCognitiveEvents] = useState<CognitiveItem[]>([]);\r\n  const [socialState, setSocialState] = useState<SocialState>({});\r\n  const [adaptiveState, setAdaptiveState] = useState<AdaptiveState>({});\r\n  const [diagnostics, setDiagnostics] = useState<DiagnosticState>({});\r\n  const [timeline, setTimeline] = useState<string[]>([]);\r\n  const [forecastText, setForecastText] = useState<string>('Sem previs├úo ainda.');\r\n  const [temporalAlerts, setTemporalAlerts] = useState<string[]>([]);\r\n  const [engagementNarrative, setEngagementNarrative] = useState<EngagementNarrativeState>({});\r\n  const [uxEvolution, setUxEvolution] = useState<UXEvolutionState>({});\r\n  const [governance, setGovernance] = useState<GovernanceState>({});\r\n  const [systemMind, setSystemMind] = useState<SystemMindState>({});\r\n\r\n  // Escutar eventos de insights\r\n  useEffect(() => {\r\n    const subscriptionId = on('insight:generated', (event: AzuriaEvent) => {\r\n      const insight: Insight = {\r\n        type: event.payload.type || 'info',\r\n        message: rewriteWithBrandVoice(event.payload.message || '', (event.payload.brandTone as any) || 'padrao'),\r\n        refinedMessage: event.payload.refinedMessage,\r\n        brandTone: event.payload.brandTone,\r\n        persona: event.payload.persona,\r\n        emotion: event.payload.emotion,\r\n        affectiveMessage: event.payload.affectiveMessage,\r\n        emotionConfidence: event.payload.emotionConfidence,\r\n        action: event.payload.action,\r\n        timestamp: event.timestamp,\r\n      };\r\n\r\n      setLastInsight(insight);\r\n      setInsights((prev) => [insight, ...prev].slice(0, 10)); // Manter ├║ltimos 10\r\n    });\r\n\r\n    const predictiveSubscription = on('ai:predictive-insight', (event: AzuriaEvent) => {\r\n      const predictive: PredictiveInsightItem = {\r\n        id: event.payload?.id || `predict-${event.timestamp}`,\r\n        message: event.payload?.message || 'Insight preditivo dispon├¡vel.',\r\n        riskLevel: event.payload?.riskLevel || 'alert',\r\n        predictiveScore: event.payload?.predictiveScore ?? 0.5,\r\n        suggestedActions: event.payload?.suggestedActions || [],\r\n        timestamp: event.timestamp,\r\n      };\r\n\r\n      setPredictiveInsights(prev => [predictive, ...prev].slice(0, 5));\r\n    });\r\n\r\n    const patternSubscription = on('ai:pattern-detected', (event: AzuriaEvent) => {\r\n      const item: CognitiveItem = {\r\n        id: `pattern-${event.timestamp}`,\r\n        message:\r\n          event.payload?.patterns?.join('; ') ||\r\n          'Padr├úo de uso identificado.',\r\n        type: 'pattern',\r\n        timestamp: event.timestamp,\r\n      };\r\n      setCognitiveEvents(prev => [item, ...prev].slice(0, 5));\r\n    });\r\n\r\n    const forecastSubscription = on('ai:forecast-generated', (event: AzuriaEvent) => {\r\n      const item: CognitiveItem = {\r\n        id: `forecast-${event.timestamp}`,\r\n        message: event.payload?.message || 'Previs├úo gerada com base no uso recente.',\r\n        type: 'forecast',\r\n        timestamp: event.timestamp,\r\n      };\r\n      setCognitiveEvents(prev => [item, ...prev].slice(0, 5));\r\n    });\r\n\r\n    const anomalySubscription = on('ai:anomaly-detected', (event: AzuriaEvent) => {\r\n      const item: CognitiveItem = {\r\n        id: `anomaly-${event.timestamp}`,\r\n        message: event.payload?.message || 'Comportamento fora do padr├úo detectado.',\r\n        type: 'anomaly',\r\n        timestamp: event.timestamp,\r\n      };\r\n      setCognitiveEvents(prev => [item, ...prev].slice(0, 5));\r\n    });\r\n\r\n    const emotionSubscription = on('ai:emotion-inferred', (event: AzuriaEvent) => {\r\n      setSocialState(prev => ({\r\n        ...prev,\r\n        emotionalState: event.payload?.emotionalState,\r\n      }));\r\n    });\r\n\r\n    const profileSubscription = on('ai:user-profile-updated', (event: AzuriaEvent) => {\r\n      setSocialState(prev => ({\r\n        ...prev,\r\n        ...event.payload?.userModel,\r\n      }));\r\n    });\r\n\r\n    const adaptiveSubscription = on('ui:adaptive-interface-changed', (event: AzuriaEvent) => {\r\n      setAdaptiveState(event.payload?.adaptation || {});\r\n    });\r\n\r\n    const motivationSub = on('ai:user-motivation-level', (event: AzuriaEvent) => {\r\n      setEngagementNarrative(prev => ({\r\n        ...prev,\r\n        motivationLevel: event.payload?.motivationLevel,\r\n      }));\r\n    });\r\n\r\n    const achievementSub = on('ai:achievement-unlocked', (event: AzuriaEvent) => {\r\n      setEngagementNarrative(prev => ({\r\n        ...prev,\r\n        achievementCount: (prev.achievementCount ?? 0) + 1,\r\n      }));\r\n    });\r\n\r\n    const streakSub = on('ai:engagement-progress', (event: AzuriaEvent) => {\r\n      setEngagementNarrative(prev => ({\r\n        ...prev,\r\n        recentStreak: event.payload?.streak ?? prev.recentStreak,\r\n      }));\r\n    });\r\n\r\n    const nextActionSub = on('ai:next-best-action', (event: AzuriaEvent) => {\r\n      setEngagementNarrative(prev => ({\r\n        ...prev,\r\n        recommendedNextAction: event.payload?.action,\r\n      }));\r\n    });\r\n\r\n    const storySub = on('ai:story-generated', (event: AzuriaEvent) => {\r\n      setEngagementNarrative(prev => ({\r\n        ...prev,\r\n        lastStory: event.payload?.story,\r\n      }));\r\n    });\r\n\r\n    const behaviorSub = on('ai:behavior-pattern-detected', (event: AzuriaEvent) => {\r\n      setUxEvolution(prev => ({\r\n        ...prev,\r\n        positivePatterns: prev.positivePatterns || 0,\r\n      }));\r\n    });\r\n\r\n    const frictionSub = on('ai:ux-friction-detected', (event: AzuriaEvent) => {\r\n      setUxEvolution(prev => ({\r\n        ...prev,\r\n        uxFrictionPoints: (prev.uxFrictionPoints || 0) + 1,\r\n        abandonRate: event.payload?.struggle || prev.abandonRate,\r\n      }));\r\n    });\r\n\r\n    const autofixSub = on('ai:autofix-applied', (event: AzuriaEvent) => {\r\n      setUxEvolution(prev => ({\r\n        ...prev,\r\n        autoFixesApplied: [...(prev.autoFixesApplied || []), ...(event.payload?.fixes || [])].slice(0, 5),\r\n      }));\r\n    });\r\n\r\n    const optimizedSub = on('ai:ux-optimized', (event: AzuriaEvent) => {\r\n      setUxEvolution(prev => ({\r\n        ...prev,\r\n        optimizedFlows: [...(prev.optimizedFlows || []), ...(event.payload?.combined || [])].slice(0, 5),\r\n      }));\r\n    });\r\n\r\n    const ethicalSub = on('ai:ethical-warning', () => {\r\n      setGovernance(prev => ({\r\n        ...prev,\r\n        ethicalWarnings: (prev.ethicalWarnings || 0) + 1,\r\n      }));\r\n    });\r\n\r\n    const safetySub = on('ai:safety-break', () => {\r\n      setGovernance(prev => ({\r\n        ...prev,\r\n        safetyBreaks: (prev.safetyBreaks || 0) + 1,\r\n      }));\r\n    });\r\n\r\n    const mindSub = on('ai:mind-snapshot', (event: AzuriaEvent) => {\r\n      setSystemMind({\r\n        globalHealthScore: event.payload?.healthScore,\r\n        confidenceMap: event.payload?.confidenceMap,\r\n        internalRisks: event.payload?.anomalies,\r\n        activeConflicts: event.payload?.anomalies,\r\n        systemUptimeCognitive: Date.now(),\r\n        realityConfidence: event.payload?.confidence,\r\n        externalForces: event.payload?.forces ? Object.entries(event.payload.forces).map(([k,v]) => `${k}:${v}`) : undefined,\r\n        contextSnapshot: event.payload?.state,\r\n      });\r\n    });\r\n\r\n    const mindWarnSub = on('ai:mind-warning', (event: AzuriaEvent) => {\r\n      setSystemMind(prev => ({\r\n        ...prev,\r\n        internalRisks: event.payload?.anomalies || prev.internalRisks,\r\n      }));\r\n    });\r\n\r\n    const truthSub = on('ai:truth-alert', (event: AzuriaEvent) => {\r\n      setSystemMind(prev => ({\r\n        ...prev,\r\n        truthScore: event.payload?.severity === 'critical' ? 0.2 : 0.6,\r\n        contradictionsDetected: event.payload?.details?.contradictions || prev.contradictionsDetected,\r\n      }));\r\n    });\r\n\r\n    const stabilitySub = on('ai:stability-alert', (event: AzuriaEvent) => {\r\n      setSystemMind(prev => ({\r\n        ...prev,\r\n        stabilityScore: 1 - (event.payload?.riskLevel || 0),\r\n        predictedFailure: event.payload?.riskLevel,\r\n        loadBalanceStatus: event.payload?.details?.stage,\r\n        recoveryEvents: event.payload?.details?.recoveryEvents || prev.recoveryEvents,\r\n      }));\r\n    });\r\n\r\n    const marketSub = on('ai:market-insight', (event: AzuriaEvent) => {\r\n      setSystemMind(prev => ({\r\n        ...prev,\r\n        marketOpportunities: event.payload?.details?.opps || prev.marketOpportunities,\r\n        marketRisks: event.payload?.details?.risks || prev.marketRisks,\r\n      }));\r\n    });\r\n\r\n    const metaLayerSub = on('ai:meta-layer-updated', (event: AzuriaEvent) => {\r\n      setSystemMind(prev => ({\r\n        ...prev,\r\n        metaState: event.payload?.snapshot ? 'online' : prev.metaState,\r\n        scenarioConfidence: event.payload?.snapshot?.scenarios?.confidence,\r\n        decisionQuality: event.payload?.snapshot?.decision?.quality || prev.decisionQuality,\r\n      }));\r\n    });\r\n\r\n    const coreSyncSub = on('ai:core-sync', (event: AzuriaEvent) => {\r\n      const st = event.payload?.state;\r\n      if (!st) {return;}\r\n      setSystemMind(prev => ({\r\n        ...prev,\r\n        personalityRiskAttitude: st.personalityRiskAttitude ?? prev.personalityRiskAttitude,\r\n        opportunityBias: st.opportunityBias ?? prev.opportunityBias,\r\n        decisionStyle: st.decisionStyle ?? prev.decisionStyle,\r\n      }));\r\n    });\r\n\r\n    const signalSubscription = on('ai:signal-quality', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        signalQuality: event.payload?.signalQuality ?? prev.signalQuality,\r\n      }));\r\n    });\r\n\r\n    const confidenceSubscription = on('ai:model-confidence', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        confidence: event.payload?.confidence ?? prev.confidence,\r\n      }));\r\n    });\r\n\r\n    const driftSubscription = on('ai:internal-drift', () => {\r\n      setDiagnostics(prev => ({ ...prev, drift: true }));\r\n    });\r\n\r\n    const stabilitySubscription = on('ai:stability-restored', () => {\r\n      setDiagnostics(prev => ({ ...prev, drift: false }));\r\n    });\r\n\r\n    const plannerSubscription = on('ai:planner-plan-generated', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        plannerActions: [\r\n          `Plano criado: ${event.payload?.plan?.goalId || ''}`,\r\n          ...(prev.plannerActions || []),\r\n        ].slice(0, 5),\r\n      }));\r\n    });\r\n\r\n    const evolutionScoreSub = on('ai:evolution-score-updated', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({ ...prev, evolutionScore: event.payload?.evolutionScore }));\r\n    });\r\n\r\n    const evolutionWeaknessSub = on('ai:evolution-weakness-found', (event: AzuriaEvent) => {\r\n      const weaknesses = event.payload?.weaknesses || [];\r\n      setDiagnostics(prev => ({ ...prev, weaknesses }));\r\n    });\r\n\r\n    const evolutionPatchSub = on('ai:evolution-patch-proposed', (event: AzuriaEvent) => {\r\n      const patches = event.payload?.suggestions || [];\r\n      setDiagnostics(prev => ({ ...prev, patches }));\r\n    });\r\n\r\n    const coreSyncDiagnosticsSub = on('ai:core-sync', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        globalState: event.payload?.state,\r\n        lastUnifiedRecommendation: event.payload?.recommendation ?? prev.lastUnifiedRecommendation,\r\n        integratedConfidence: event.payload?.state?.confidence ?? prev.integratedConfidence,\r\n        healthScore: event.payload?.state?.healthScore ?? prev.healthScore,\r\n      }));\r\n    });\r\n\r\n    const emotionUpdateSub = on('ui:emotion-updated', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        emotionalTone: event.payload?.tone,\r\n        emotionMessage: event.payload?.message,\r\n      }));\r\n    });\r\n\r\n    const adaptiveLayoutSub = on('ui:adaptive-layout', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        adaptiveLayout: event.payload?.layout,\r\n      }));\r\n    });\r\n\r\n    const pricingOpportunitySub = on('ai:pricing-opportunity', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        engagementScore: event.payload?.engagementScore ?? prev.engagementScore,\r\n      }));\r\n    });\r\n\r\n    const churnRiskSub = on('ai:churn-risk', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        churnRisk: event.payload?.churnRisk ?? prev.churnRisk,\r\n      }));\r\n    });\r\n\r\n    const upgradeSub = on('ai:upgrade-opportunity', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        upgradeProbability: event.payload?.upgradeProbability ?? prev.upgradeProbability,\r\n      }));\r\n    });\r\n\r\n    const coherenceSub = on('ai:decision-validated', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        coherenceScore: event.payload?.coherenceScore,\r\n        trustLevel: event.payload?.trustLevel,\r\n      }));\r\n    });\r\n\r\n    const governanceAlertSub = on('ai:governance-alert', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        governanceAlerts: [\r\n          event.payload?.message || `Alerta de governan├ºa: ${event.payload?.risk ?? ''}`,\r\n          ...(prev.governanceAlerts || []),\r\n        ].slice(0, 5),\r\n      }));\r\n    });\r\n\r\n    const internalInsightSub = on('ai:internal-insight', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        internalInsights: [\r\n          event.payload?.reason || 'Insight interno registrado.',\r\n          ...(prev.internalInsights || []),\r\n        ].slice(0, 5),\r\n      }));\r\n    });\r\n\r\n    const contradictionSub = on('ai:contradiction-detected', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        contradictions: [\r\n          ...(event.payload?.contradictions || []),\r\n          ...(prev.contradictions || []),\r\n        ].slice(0, 5),\r\n      }));\r\n    });\r\n\r\n    const contextReconstructedSub = on('ai:context-reconstructed', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        reconstructionConfidence: event.payload?.confidence,\r\n      }));\r\n    });\r\n\r\n    const virtualSignalSub = on('ai:virtual-signal', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        sensors: [\r\n          `Freq: ${(event.payload?.sample?.eventFrequency || 0).toFixed(1)} | Lat: ${(event.payload?.sample?.avgLatency || 0).toFixed(0)}ms`,\r\n          ...(prev.sensors || []),\r\n        ].slice(0, 5),\r\n      }));\r\n    });\r\n\r\n    const strategicPlanSub = on('ai:strategic-plan-generated', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        strategicPlan: event.payload?.plan,\r\n      }));\r\n    });\r\n\r\n    const strategicRiskSub = on('ai:structural-risk-detected', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        strategicRisks: event.payload?.risks || [],\r\n      }));\r\n    });\r\n\r\n    const longTermGoalSub = on('ai:long-term-goal-defined', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        longTermGoals: event.payload?.goals || [],\r\n      }));\r\n    });\r\n\r\n    const systemHealthSub = on('ai:system-health-updated', (event: AzuriaEvent) => {\r\n      setDiagnostics(prev => ({\r\n        ...prev,\r\n        strategicHealth: event.payload?.health,\r\n      }));\r\n    });\r\n\r\n    const temporalEventSub = on('ai:temporal-event', (event: AzuriaEvent) => {\r\n      const entry = `${new Date(event.payload?.entry?.timestamp || Date.now()).toLocaleTimeString()} - ${event.payload?.scope || ''} - ${event.payload?.entry?.event}`;\r\n      setTimeline(prev => [entry, ...prev].slice(0, 20));\r\n    });\r\n\r\n    const trendSub = on('ai:trend-detected', (event: AzuriaEvent) => {\r\n      setForecastText(`Trend: ${event.payload?.trend || 'n/d'} Repeti├º├Áes: ${(event.payload?.repetitions || []).join(', ')}`);\r\n    });\r\n\r\n    const futureSub = on('ai:future-state-predicted', (event: AzuriaEvent) => {\r\n      setForecastText(`Prev: ${event.payload?.expected || 'n/d'} | Reps: ${(event.payload?.repetitions || []).join(', ')}`);\r\n    });\r\n\r\n    const temporalAnomalySub = on('ai:temporal-anomaly', (event: AzuriaEvent) => {\r\n      setTemporalAlerts(prev => [`Anomalia: ${event.payload?.message || 'detectada'}`, ...prev].slice(0, 5));\r\n    });\r\n\r\n    return () => {\r\n      unsubscribeFromEvent(subscriptionId);\r\n      unsubscribeFromEvent(predictiveSubscription);\r\n      unsubscribeFromEvent(patternSubscription);\r\n      unsubscribeFromEvent(forecastSubscription);\r\n      unsubscribeFromEvent(anomalySubscription);\r\n      unsubscribeFromEvent(emotionSubscription);\r\n      unsubscribeFromEvent(profileSubscription);\r\n      unsubscribeFromEvent(adaptiveSubscription);\r\n      unsubscribeFromEvent(signalSubscription);\r\n      unsubscribeFromEvent(confidenceSubscription);\r\n      unsubscribeFromEvent(driftSubscription);\r\n      unsubscribeFromEvent(stabilitySubscription);\r\n      unsubscribeFromEvent(plannerSubscription);\r\n      unsubscribeFromEvent(temporalEventSub);\r\n      unsubscribeFromEvent(trendSub);\r\n      unsubscribeFromEvent(futureSub);\r\n      unsubscribeFromEvent(temporalAnomalySub);\r\n      unsubscribeFromEvent(evolutionScoreSub);\r\n      unsubscribeFromEvent(evolutionWeaknessSub);\r\n      unsubscribeFromEvent(evolutionPatchSub);\r\n      unsubscribeFromEvent(coreSyncSub);\r\n      unsubscribeFromEvent(emotionUpdateSub);\r\n      unsubscribeFromEvent(adaptiveLayoutSub);\r\n      unsubscribeFromEvent(pricingOpportunitySub);\r\n      unsubscribeFromEvent(churnRiskSub);\r\n      unsubscribeFromEvent(upgradeSub);\r\n      unsubscribeFromEvent(coherenceSub);\r\n      unsubscribeFromEvent(governanceAlertSub);\r\n      unsubscribeFromEvent(internalInsightSub);\r\n      unsubscribeFromEvent(contradictionSub);\r\n      unsubscribeFromEvent(contextReconstructedSub);\r\n      unsubscribeFromEvent(virtualSignalSub);\r\n      unsubscribeFromEvent(strategicPlanSub);\r\n      unsubscribeFromEvent(strategicRiskSub);\r\n      unsubscribeFromEvent(longTermGoalSub);\r\n      unsubscribeFromEvent(systemHealthSub);\r\n      unsubscribeFromEvent(motivationSub);\r\n      unsubscribeFromEvent(achievementSub);\r\n      unsubscribeFromEvent(streakSub);\r\n      unsubscribeFromEvent(nextActionSub);\r\n      unsubscribeFromEvent(storySub);\r\n      unsubscribeFromEvent(behaviorSub);\r\n      unsubscribeFromEvent(frictionSub);\r\n      unsubscribeFromEvent(autofixSub);\r\n      unsubscribeFromEvent(optimizedSub);\r\n      unsubscribeFromEvent(ethicalSub);\r\n      unsubscribeFromEvent(safetySub);\r\n      unsubscribeFromEvent(mindSub);\r\n      unsubscribeFromEvent(mindWarnSub);\r\n      unsubscribeFromEvent(truthSub);\r\n      unsubscribeFromEvent(stabilitySub);\r\n      unsubscribeFromEvent(marketSub);\r\n      unsubscribeFromEvent(metaLayerSub);\r\n      unsubscribeFromEvent(coreSyncDiagnosticsSub);\r\n    };\r\n  }, []);\r\n\r\n  if (!isOpen) {return null;}\r\n\r\n  const insightTypeStyles = {\r\n    warning: 'bg-yellow-50 border-yellow-200 text-yellow-800',\r\n    suggestion: 'bg-blue-50 border-blue-200 text-blue-800',\r\n    info: 'bg-cyan-50 border-cyan-200 text-cyan-800',\r\n  };\r\n\r\n  const insightIcons = {\r\n    warning: 'ÔÜá´©Å',\r\n    suggestion: '­ƒÆí',\r\n    info: 'Ôä╣´©Å',\r\n  };\r\n\r\n  const quickActions = [\r\n    {\r\n      icon: TrendingUp,\r\n      label: 'Otimizar pre├ºo',\r\n      action: 'optimize_price',\r\n      color: 'text-green-600',\r\n    },\r\n    {\r\n      icon: Calculator,\r\n      label: 'Simular ICMS',\r\n      action: 'simulate_icms',\r\n      color: 'text-blue-600',\r\n    },\r\n    {\r\n      icon: FileText,\r\n      label: 'Explicar c├ílculo',\r\n      action: 'explain_calculation',\r\n      color: 'text-purple-600',\r\n    },\r\n    {\r\n      icon: BarChart3,\r\n      label: 'Ver cen├írios',\r\n      action: 'view_scenarios',\r\n      color: 'text-orange-600',\r\n    },\r\n  ];\r\n\r\n  const handleQuickAction = (action: string) => {\r\n    console.log('Quick action:', action);\r\n    // TODO: Implementar a├º├Áes r├ípidas\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Backdrop */}\r\n      <div\r\n        className=\"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 transition-opacity\"\r\n        onClick={onClose}\r\n      />\r\n\r\n      {/* Panel */}\r\n      <div\r\n        className=\"\r\n          fixed top-0 right-0 h-full w-full sm:w-96\r\n          bg-white shadow-2xl z-50\r\n          transform transition-transform duration-300 ease-out\r\n          overflow-y-auto\r\n        \"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-gradient-to-r from-cyan-500 to-blue-600 text-white p-4 shadow-md\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Sparkles className=\"w-6 h-6\" />\r\n              <h2 className=\"text-xl font-bold\">Azuria AI</h2>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-1 hover:bg-white/20 rounded-lg transition-colors\"\r\n              aria-label=\"Fechar\"\r\n            >\r\n              <X className=\"w-6 h-6\" />\r\n            </button>\r\n          </div>\r\n          <p className=\"text-sm text-cyan-100 mt-1\">Sua assistente inteligente</p>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-4 space-y-6\">\r\n          {/* Last Insight */}\r\n          {lastInsight && (\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n                <Sparkles className=\"w-4 h-4 text-cyan-600\" />\r\n                ├Ültimo Insight\r\n              </h3>\r\n              <div\r\n                className={`\r\n                  p-4 rounded-lg border-2\r\n                  ${insightTypeStyles[lastInsight.type]}\r\n                `}\r\n              >\r\n                <div className=\"flex items-start gap-2\">\r\n                  <span className=\"text-xl\">{insightIcons[lastInsight.type]}</span>\r\n                  <p className=\"text-sm flex-1\">{lastInsight.message}</p>\r\n                </div>\r\n                {(lastInsight.brandTone || lastInsight.persona) && (\r\n                  <div className=\"text-xs text-gray-600 mt-2 flex gap-2\">\r\n                    {lastInsight.brandTone && <span>Tom: {lastInsight.brandTone}</span>}\r\n                    {lastInsight.persona && <span>Persona: {lastInsight.persona}</span>}\r\n                  </div>\r\n                )}\r\n                {(lastInsight.emotion || lastInsight.affectiveMessage) && (\r\n                  <div className=\"text-xs text-gray-700 mt-2 space-y-1\">\r\n                    {lastInsight.emotion && (\r\n                      <div>\r\n                        Emo├º├úo: {lastInsight.emotion}{' '}\r\n                        {lastInsight.emotionConfidence !== undefined\r\n                          ? `(${Math.round((lastInsight.emotionConfidence || 0) * 100)}%)`\r\n                          : ''}\r\n                      </div>\r\n                    )}\r\n                    {lastInsight.affectiveMessage && (\r\n                      <div className=\"italic text-gray-600\">{lastInsight.affectiveMessage}</div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Monetiza├º├úo Inteligente */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-yellow-600\" />\r\n              Monetiza├º├úo Inteligente\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-yellow-50 border-yellow-200 text-yellow-900 space-y-1 text-sm\">\r\n              <div>Engajamento: {diagnostics.engagementScore !== undefined ? `${(diagnostics.engagementScore * 100).toFixed(0)}%` : 'n/d'}</div>\r\n              <div>Risco de churn: {diagnostics.churnRisk !== undefined ? `${(diagnostics.churnRisk * 100).toFixed(0)}%` : 'n/d'}</div>\r\n              <div>Upgrade prob.: {diagnostics.upgradeProbability !== undefined ? `${(diagnostics.upgradeProbability * 100).toFixed(0)}%` : 'n/d'}</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Actions */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700\">A├º├Áes R├ípidas</h3>\r\n            <div className=\"grid grid-cols-2 gap-2\">\r\n              {quickActions.map((action) => {\r\n                const Icon = action.icon;\r\n                return (\r\n                  <button\r\n                    key={action.action}\r\n                    onClick={() => handleQuickAction(action.action)}\r\n                    className=\"\r\n                      p-3 rounded-lg border-2 border-gray-200\r\n                      hover:border-cyan-400 hover:bg-cyan-50\r\n                      transition-all duration-200\r\n                      flex flex-col items-center gap-2\r\n                      group\r\n                    \"\r\n                  >\r\n                    <Icon className={`w-6 h-6 ${action.color} group-hover:scale-110 transition-transform`} />\r\n                    <span className=\"text-xs font-medium text-gray-700 text-center\">\r\n                      {action.label}\r\n                    </span>\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Engajamento e Narrativa */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-pink-600\" />\r\n              Engajamento e Narrativa\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-pink-50 border-pink-200 text-pink-900 space-y-1 text-sm\">\r\n              <div>Motiva├º├úo: {engagementNarrative.motivationLevel !== undefined ? `${Math.round((engagementNarrative.motivationLevel || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>Conquistas: {engagementNarrative.achievementCount ?? 0}</div>\r\n              <div>Streak recente: {engagementNarrative.recentStreak ?? 0}</div>\r\n              <div>Pr├│xima a├º├úo: {engagementNarrative.recommendedNextAction || 'n/d'}</div>\r\n              {engagementNarrative.lastStory && (\r\n                <div className=\"text-xs text-pink-800 italic mt-1\">\r\n                  Hist├│ria: {engagementNarrative.lastStory}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Evolu├º├úo da Experi├¬ncia (Beta) */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-indigo-600\" />\r\n              Evolu├º├úo da Experi├¬ncia (Beta)\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-indigo-50 border-indigo-200 text-indigo-900 space-y-1 text-sm\">\r\n              <div>Fric├º├úo UX: {uxEvolution.uxFrictionPoints ?? 0}</div>\r\n              <div>Padr├Áes positivos: {uxEvolution.positivePatterns ?? 0}</div>\r\n              <div>Auto-fixes: {(uxEvolution.autoFixesApplied || []).join(', ') || 'n/d'}</div>\r\n              <div>Abandono: {uxEvolution.abandonRate !== undefined ? `${Math.round((uxEvolution.abandonRate || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>Fluxos otimizados: {(uxEvolution.optimizedFlows || []).join(', ') || 'n/d'}</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Governan├ºa e Seguran├ºa - ADMIN ONLY */}\r\n          {isAdmin && (\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-red-600\" />\r\n              Governan├ºa & Seguran├ºa\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-red-50 border-red-200 text-red-900 space-y-1 text-sm\">\r\n              <div>Alertas ├®ticos: {governance.ethicalWarnings ?? 0}</div>\r\n              <div>Safety breaks: {governance.safetyBreaks ?? 0}</div>\r\n            </div>\r\n          </div>\r\n          )}\r\n\r\n          {/* Consci├¬ncia Sist├¬mica - ADMIN ONLY */}\r\n          {isAdmin && (\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-indigo-700\" />\r\n              Consci├¬ncia Sist├¬mica\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-indigo-50 border-indigo-200 text-indigo-900 space-y-1 text-sm\">\r\n              <div>Health Score: {systemMind.globalHealthScore !== undefined ? Math.round((systemMind.globalHealthScore || 0) * 100) + '%' : 'n/d'}</div>\r\n              <div>Confian├ºa: {systemMind.confidenceMap ? Object.entries(systemMind.confidenceMap).map(([k,v]) => `${k}:${Math.round((v||0)*100)}%`).join(' | ') : 'n/d'}</div>\r\n              <div>Riscos internos: {(systemMind.internalRisks || []).join(', ') || 'n/d'}</div>\r\n              <div>Conflitos ativos: {(systemMind.activeConflicts || []).join(', ') || 'n/d'}</div>\r\n              <div>Confian├ºa da realidade: {systemMind.realityConfidence !== undefined ? `${Math.round((systemMind.realityConfidence || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>For├ºas externas: {(systemMind.externalForces || []).join(', ') || 'n/d'}</div>\r\n              <div>Truth Score: {systemMind.truthScore !== undefined ? `${Math.round((systemMind.truthScore || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>Contradi├º├Áes: {(systemMind.contradictionsDetected || []).join(', ') || 'n/d'}</div>\r\n              <div>Estabilidade: {systemMind.stabilityScore !== undefined ? `${Math.round((systemMind.stabilityScore || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>Risco previsto: {systemMind.predictedFailure !== undefined ? `${Math.round((systemMind.predictedFailure || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>Balanceamento: {systemMind.loadBalanceStatus || 'n/d'}</div>\r\n              <div>Meta State: {systemMind.metaState || 'n/d'}</div>\r\n              <div>Decision Quality: {systemMind.decisionQuality !== undefined ? `${Math.round((systemMind.decisionQuality || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>Scenario Confidence: {systemMind.scenarioConfidence !== undefined ? `${Math.round((systemMind.scenarioConfidence || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>Risk Attitude: {systemMind.personalityRiskAttitude || 'n/d'}</div>\r\n              <div>Opportunity Bias: {systemMind.opportunityBias !== undefined ? `${Math.round((systemMind.opportunityBias || 0) * 100)}%` : 'n/d'}</div>\r\n              <div>Decision Style: {systemMind.decisionStyle || 'n/d'}</div>\r\n            </div>\r\n          </div>\r\n          )}\r\n\r\n          {/* Intelig├¬ncia de Mercado */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-amber-700\" />\r\n              Intelig├¬ncia de Mercado\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-amber-50 border-amber-200 text-amber-900 space-y-1 text-sm\">\r\n              <div>Oportunidades: {(systemMind.marketOpportunities || []).join(', ') || 'n/d'}</div>\r\n              <div>Riscos externos: {(systemMind.marketRisks || []).join(', ') || 'n/d'}</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Insights History */}\r\n          {insights.length > 1 && (\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700\">Hist├│rico de Insights</h3>\r\n              <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n                {insights.slice(1).map((insight, index) => (\r\n                  <div\r\n                    key={`${insight.timestamp}-${index}`}\r\n                    className={`\r\n                      p-3 rounded-lg border\r\n                      ${insightTypeStyles[insight.type]}\r\n                      opacity-75\r\n                    `}\r\n                  >\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <span className=\"text-sm\">{insightIcons[insight.type]}</span>\r\n                      <p className=\"text-xs flex-1\">{insight.message}</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Previs├Áes */}\r\n          {predictiveInsights.length > 0 && (\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n                <AlertTriangle className=\"w-4 h-4 text-indigo-600\" />\r\n                Previs├Áes\r\n              </h3>\r\n              <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n                {predictiveInsights.map(item => (\r\n                  <div\r\n                    key={item.id}\r\n                    className=\"p-3 rounded-lg border bg-indigo-50 border-indigo-200 text-indigo-900\"\r\n                  >\r\n                    <div className=\"flex items-center justify-between text-xs font-semibold\">\r\n                      <span>N├¡vel: {item.riskLevel}</span>\r\n                      <span>Score: {(item.predictiveScore * 100).toFixed(0)}%</span>\r\n                    </div>\r\n                    <p className=\"text-sm mt-1\">{item.message}</p>\r\n                    {item.suggestedActions && item.suggestedActions.length > 0 && (\r\n                      <ul className=\"mt-2 space-y-1 text-xs\">\r\n                        {item.suggestedActions.map((act, idx) => (\r\n                          <li key={idx} className=\"flex items-center gap-1\">\r\n                            <span className=\"text-indigo-500\">ÔÇó</span>\r\n                            <span>{act}</span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Cogni├º├úo (padr├Áes e anomalias) */}\r\n          {cognitiveEvents.length > 0 && (\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n                <Sparkles className=\"w-4 h-4 text-purple-600\" />\r\n                Cogni├º├úo\r\n              </h3>\r\n              <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n                {cognitiveEvents.map(item => (\r\n                  <div\r\n                    key={item.id}\r\n                    className=\"p-3 rounded-lg border bg-purple-50 border-purple-200 text-purple-900\"\r\n                  >\r\n                    <div className=\"text-xs font-semibold capitalize\">{item.type}</div>\r\n                    <p className=\"text-sm mt-1\">{item.message}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Estado Social */}\r\n          {(socialState.emotionalState || socialState.skillLevel) && (\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n                <Sparkles className=\"w-4 h-4 text-pink-600\" />\r\n                Estado Social\r\n              </h3>\r\n              <div className=\"p-3 rounded-lg border bg-pink-50 border-pink-200 text-pink-900 space-y-1 text-sm\">\r\n                {socialState.emotionalState && (\r\n                  <div>Emo├º├úo: {socialState.emotionalState}</div>\r\n                )}\r\n                {socialState.skillLevel && <div>N├¡vel: {socialState.skillLevel}</div>}\r\n                {socialState.riskTolerance && <div>Risco: {socialState.riskTolerance}</div>}\r\n                {socialState.preferredPace && <div>Ritmo: {socialState.preferredPace}</div>}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Interface Adaptativa */}\r\n          {Object.keys(adaptiveState).length > 0 && (\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n                <Sparkles className=\"w-4 h-4 text-teal-600\" />\r\n                Interface Adaptativa\r\n              </h3>\r\n              <div className=\"p-3 rounded-lg border bg-teal-50 border-teal-200 text-teal-900 space-y-1 text-sm\">\r\n                {'conciseMode' in adaptiveState && (\r\n                  <div>Modo conciso: {adaptiveState.conciseMode ? 'Ativo' : 'Desativado'}</div>\r\n                )}\r\n                {'showAdvanced' in adaptiveState && (\r\n                  <div>Mostrar avan├ºado: {adaptiveState.showAdvanced ? 'Sim' : 'N├úo'}</div>\r\n                )}\r\n                {'detailedExplanations' in adaptiveState && (\r\n                  <div>\r\n                    Explica├º├Áes detalhadas: {adaptiveState.detailedExplanations ? 'Sim' : 'N├úo'}\r\n                  </div>\r\n                )}\r\n                {adaptiveState.tone && <div>Tom: {adaptiveState.tone}</div>}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Diagn├│stico do Modo Deus - ADMIN ONLY */}\r\n          {isAdmin && (\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-gray-700 animate-pulse\" />\r\n              Diagn├│stico do Modo Deus\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-gray-50 border-gray-200 text-gray-900 space-y-1 text-sm\">\r\n              <div>Sinal interno: {diagnostics.signalQuality !== undefined ? `${(diagnostics.signalQuality * 100).toFixed(0)}%` : 'n/d'}</div>\r\n              <div>Confian├ºa global: {diagnostics.confidence !== undefined ? `${(diagnostics.confidence * 100).toFixed(0)}%` : 'n/d'}</div>\r\n              <div>Drift: {diagnostics.drift ? 'Detectado' : 'Normal'}</div>\r\n              <div>Erros recentes: {diagnostics.errors ?? 0}</div>\r\n              {diagnostics.plannerActions && diagnostics.plannerActions.length > 0 && (\r\n                <div className=\"pt-1\">\r\n                  <div className=\"font-semibold text-xs\">A├º├Áes do Meta-Planner:</div>\r\n                  <ul className=\"list-disc list-inside text-xs space-y-1\">\r\n                    {diagnostics.plannerActions.map((a, idx) => (\r\n                      <li key={idx}>{a}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          )}\r\n\r\n          {/* Linha do Tempo & Previs├úo */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-blue-600\" />\r\n              Timeline & Forecast\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-blue-50 border-blue-200 text-blue-900 space-y-2 text-sm\">\r\n              <div className=\"font-semibold text-xs\">├Ültimos eventos</div>\r\n              <div className=\"font-mono whitespace-pre-wrap text-xs bg-blue-100 p-2 rounded\">\r\n                {timeline.slice(0, 10).join('\\n') || 'Sem eventos ainda.'}\r\n              </div>\r\n              <div className=\"font-semibold text-xs pt-1\">ASCII trend</div>\r\n              <div className=\"font-mono text-xs\">\r\n                {renderAsciiGraph(timeline.length)}\r\n              </div>\r\n              <div className=\"font-semibold text-xs pt-1\">Previs├úo</div>\r\n              <div>{forecastText}</div>\r\n              {temporalAlerts.length > 0 && (\r\n                <div className=\"pt-1\">\r\n                  <div className=\"font-semibold text-xs\">Alertas:</div>\r\n                  <ul className=\"list-disc list-inside text-xs space-y-1\">\r\n                    {temporalAlerts.map((a, idx) => (\r\n                      <li key={idx}>{a}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* ­ƒº¼ Evolu├º├úo Interna */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-green-600\" />\r\n              ­ƒº¼ Evolu├º├úo Interna\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-green-50 border-green-200 text-green-900 space-y-1 text-sm\">\r\n              <div>Evolution Score: {diagnostics.evolutionScore !== undefined ? (diagnostics.evolutionScore * 100).toFixed(0) + '%' : 'n/d'}</div>\r\n              {diagnostics.weaknesses && diagnostics.weaknesses.length > 0 && (\r\n                <div>\r\n                  <div className=\"font-semibold text-xs\">Fraquezas:</div>\r\n                  <ul className=\"list-disc list-inside text-xs space-y-1\">\r\n                    {diagnostics.weaknesses.map((w, idx) => (\r\n                      <li key={idx}>{w}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              {diagnostics.patches && diagnostics.patches.length > 0 && (\r\n                <div>\r\n                  <div className=\"font-semibold text-xs\">Patches sugeridos:</div>\r\n                  <ul className=\"list-disc list-inside text-xs space-y-1\">\r\n                    {diagnostics.patches.map((p, idx) => (\r\n                      <li key={idx}>{p}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* N├║cleo Integrado */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-indigo-700\" />\r\n              N├║cleo Integrado\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-indigo-50 border-indigo-200 text-indigo-900 space-y-1 text-sm\">\r\n              <div>Confian├ºa integrada: {diagnostics.integratedConfidence !== undefined ? `${(diagnostics.integratedConfidence * 100).toFixed(0)}%` : 'n/d'}</div>\r\n              <div>Health score: {diagnostics.healthScore !== undefined ? `${(diagnostics.healthScore * 100).toFixed(0)}%` : 'n/d'}</div>\r\n              <div>Recomenda├º├úo: {diagnostics.lastUnifiedRecommendation || 'Sem recomenda├º├úo'}</div>\r\n              <div>Coherence Score: {diagnostics.coherenceScore !== undefined ? diagnostics.coherenceScore.toFixed(2) : 'n/d'}</div>\r\n              <div>Trust Level: {diagnostics.trustLevel || 'n/d'}</div>\r\n              <div className=\"pt-1\">\r\n                <div className=\"font-semibold text-xs\">Estado global (compacto)</div>\r\n                <div className=\"font-mono text-xs bg-indigo-100 p-2 rounded max-h-32 overflow-y-auto\">\r\n                  {diagnostics.globalState ? JSON.stringify(diagnostics.globalState).slice(0, 400) + '...' : 'n/d'}\r\n                </div>\r\n              </div>\r\n              <div className=\"pt-1\">\r\n                <div className=\"font-semibold text-xs\">Tom emocional: {diagnostics.emotionalTone || 'n/d'}</div>\r\n                <div className=\"text-xs\">{diagnostics.emotionMessage || ''}</div>\r\n              </div>\r\n              {diagnostics.adaptiveLayout && (\r\n                <div className=\"pt-1\">\r\n                  <div className=\"font-semibold text-xs\">Layout adaptado:</div>\r\n                  <div className=\"font-mono text-xs bg-indigo-100 p-2 rounded max-h-24 overflow-y-auto\">\r\n                    {JSON.stringify(diagnostics.adaptiveLayout).slice(0, 300)}...\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Governance Alerts */}\r\n          {diagnostics.governanceAlerts && diagnostics.governanceAlerts.length > 0 && (\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n                <Sparkles className=\"w-4 h-4 text-red-600\" />\r\n                Governance Alerts\r\n              </h3>\r\n              <div className=\"p-3 rounded-lg border bg-red-50 border-red-200 text-red-900 space-y-1 text-sm\">\r\n                <ul className=\"list-disc list-inside space-y-1\">\r\n                  {diagnostics.governanceAlerts.map((a, idx) => (\r\n                    <li key={idx}>{a}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Internal Insights / Contradi├º├Áes - ADMIN ONLY */}\r\n          {isAdmin && (diagnostics.internalInsights?.length || diagnostics.contradictions?.length) && (\r\n            <div className=\"space-y-2\">\r\n              <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n                <Sparkles className=\"w-4 h-4 text-gray-500\" />\r\n                Insights Internos / Coer├¬ncia\r\n              </h3>\r\n              {diagnostics.internalInsights?.length ? (\r\n                <div className=\"p-3 rounded-lg border bg-gray-50 border-gray-200 text-gray-900 space-y-1 text-sm\">\r\n                  <div className=\"font-semibold text-xs\">Internal XAI</div>\r\n                  <ul className=\"list-disc list-inside space-y-1\">\r\n                    {diagnostics.internalInsights.map((i, idx) => (\r\n                      <li key={idx}>{i}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              ) : null}\r\n              {diagnostics.contradictions?.length ? (\r\n                <div className=\"p-3 rounded-lg border bg-orange-50 border-orange-200 text-orange-900 space-y-1 text-sm\">\r\n                  <div className=\"font-semibold text-xs\">Contradi├º├Áes</div>\r\n                  <ul className=\"list-disc list-inside space-y-1\">\r\n                    {diagnostics.contradictions.map((c, idx) => (\r\n                      <li key={idx}>{c}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              ) : null}\r\n              {diagnostics.reconstructionConfidence !== undefined && (\r\n                <div className=\"p-2 rounded bg-blue-50 text-blue-900 text-xs border border-blue-200\">\r\n                  Confian├ºa de reconstru├º├úo: {(diagnostics.reconstructionConfidence * 100).toFixed(0)}%\r\n                </div>\r\n              )}\r\n              {diagnostics.sensors && diagnostics.sensors.length > 0 && (\r\n                <div className=\"p-2 rounded bg-slate-50 text-slate-900 text-xs border border-slate-200 space-y-1\">\r\n                  <div className=\"font-semibold\">Sensores Virtuais</div>\r\n                  <ul className=\"list-disc list-inside space-y-1\">\r\n                    {diagnostics.sensors.map((s, idx) => (\r\n                      <li key={idx}>{s}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Estrat├®gia Global */}\r\n          <div className=\"space-y-2\">\r\n            <h3 className=\"text-sm font-semibold text-gray-700 flex items-center gap-2\">\r\n              <Sparkles className=\"w-4 h-4 text-emerald-600\" />\r\n              Estrat├®gia Global\r\n            </h3>\r\n            <div className=\"p-3 rounded-lg border bg-emerald-50 border-emerald-200 text-emerald-900 space-y-1 text-sm\">\r\n              <div>Sa├║de sist├¬mica: {diagnostics.strategicHealth !== undefined ? `${(diagnostics.strategicHealth * 100).toFixed(0)}%` : 'n/d'}</div>\r\n              {diagnostics.strategicRisks && diagnostics.strategicRisks.length > 0 && (\r\n                <div>\r\n                  <div className=\"font-semibold text-xs\">Riscos estruturais</div>\r\n                  <ul className=\"list-disc list-inside space-y-1\">\r\n                    {diagnostics.strategicRisks.map((r, idx) => (\r\n                      <li key={idx}>{r}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              {diagnostics.longTermGoals && diagnostics.longTermGoals.length > 0 && (\r\n                <div>\r\n                  <div className=\"font-semibold text-xs\">Metas de longo prazo</div>\r\n                  <ul className=\"list-disc list-inside space-y-1\">\r\n                    {diagnostics.longTermGoals.map((g: any, idx) => (\r\n                      <li key={idx}>{g.target || g.id}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              {diagnostics.strategicPlan && (\r\n                <div className=\"font-mono text-xs bg-emerald-100 p-2 rounded max-h-32 overflow-y-auto\">\r\n                  {JSON.stringify(diagnostics.strategicPlan).slice(0, 400)}...\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Empty State */}\r\n          {!lastInsight && insights.length === 0 && (\r\n            <div className=\"text-center py-12\">\r\n              <Sparkles className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\r\n              <p className=\"text-gray-500 text-sm\">\r\n                Nenhum insight ainda.\r\n                <br />\r\n                Fa├ºa um c├ílculo para receber sugest├Áes!\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MiniDashboard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\ui\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\azuria_ai\\v2.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\accessibility\\AccessibilityPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\achievements\\GamificationSystem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AIChatbot.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AIMarketInsights.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaAIAvatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaAIChat.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaAIMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaAINavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaAISections.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaAvatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaAvatarImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaChat.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\AzuriaFloatingButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\DemandForecast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\IntelligentPricingSuggestions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\MLPricingDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\MarketTrendAnalyzer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\PersonalizedRecommendations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\PriceOptimizationEngine.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\SeasonalityAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\chat\\ChatFloatingButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\chat\\ChatHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\chat\\ChatInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\chat\\ChatMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\chat\\TypingIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\demand-forecast\\DemandForecastActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\demand-forecast\\DemandForecastHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\demand-forecast\\DemandMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\demand-forecast\\ForecastChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\demand-forecast\\InsightsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\intelligent-pricing\\AIRecommendationPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\intelligent-pricing\\PricingActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\intelligent-pricing\\PricingHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\intelligent-pricing\\PricingInputForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\intelligent-pricing\\PricingStrategiesList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\market-insights\\InsightAnalysisSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\market-insights\\InsightCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\seasonality\\SeasonalityActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\seasonality\\SeasonalityCharts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\seasonality\\SeasonalityDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\seasonality\\SeasonalityHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\seasonality\\SeasonalityInsights.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ai\\seasonality\\SeasonalityMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analysis\\CompetitionAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analysis\\CompetitivePricingCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analysis\\CompetitorsChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analysis\\CompetitorsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analysis\\ProfitabilityDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analysis\\SearchForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analysis\\SensitivityAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analysis\\mockData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ABTestExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ABTestingDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\AnalyticsDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\AnalyticsProvider.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":28,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":28,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ChurnAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\CompetitorAlerts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ConversionFunnel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\EnhancedUsageMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\HeatmapVisualization.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\MLPricingInsights.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\MarginAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\MarketTrendAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\PersonalizedRecommendations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\PricingMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\RealTimeDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\RealTimeMetricsDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\RevenueProjections.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\UsageMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\UserEngagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\advanced\\AdvancedAnalyticsDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\advanced\\BusinessMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\advanced\\CustomEventsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\advanced\\ExportPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\advanced\\PerformanceMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\advanced\\RealTimeMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\competitor-alerts\\AlertItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\competitor-alerts\\AlertSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\competitor-alerts\\AlertsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\dashboard\\CategoriesChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\dashboard\\CompetitorChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\dashboard\\MetricCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\dashboard\\SystemStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\dashboard\\TrendsChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\dashboard\\VolumeChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ml-pricing\\MLActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ml-pricing\\MLAnalysisButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ml-pricing\\MLAnalysisExplanation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ml-pricing\\MLConfidenceIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ml-pricing\\MLFactorsAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\ml-pricing\\MLOptimizedPrice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\realtime\\ActivityFeed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\realtime\\RealTimeAlerts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\analytics\\realtime\\RealTimeMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\api\\AdvancedApiDocumentation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\api\\AdvancedRateLimitDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\api\\ApiDocumentation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\api\\BidirectionalWebhookManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\api\\SDKGenerator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\auth\\AuthLoadingSpinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\auth\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\auth\\UserProfileButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\automation\\AutomationAlertsCenter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\automation\\AutomationAnalytics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\automation\\AutomationDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\automation\\AutomationRulesManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\automation\\AutomationWorkflowBuilder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\automation\\RuleBuilder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\automation\\RuleDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\BiddingCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\BiddingCalculator\\animations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\BiddingCalculator\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\BiddingCalculator\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\BiddingCalculator\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\MonteCarloModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getDistributionLabel' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":117,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":117,"endColumn":29},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":175,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":175,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5595,5598],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5595,5598],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":110,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":110,"endColumn":22,"suggestions":[{"fix":{"range":[3278,3319],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * @fileoverview Monte Carlo Simulation Modal - An├ílise de risco probabil├¡stica\n * \n * Permite simular cen├írios de custos vari├íveis usando Monte Carlo\n * para avaliar riscos e otimizar margem de lucro.\n */\n\nimport { useState } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\nimport { Slider } from '@/components/ui/slider';\nimport {\n  AlertCircle,\n  BarChart3,\n  Info,\n  Loader2,\n  Sparkles,\n  Target,\n  TrendingUp,\n} from 'lucide-react';\nimport whatIfSimulator, { type MonteCarloResult } from '@/azuria_ai/engines/whatIfSimulator';\nimport { formatCurrency } from '@/services/bidding/biddingCalculations';\n\ninterface MonteCarloModalProps {\n  baseCost: number;\n  targetMargin: number;\n  onOptimizedMargin?: (margin: number) => void;\n  trigger?: React.ReactNode;\n}\n\nexport function MonteCarloModal({\n  baseCost,\n  targetMargin,\n  onOptimizedMargin,\n  trigger,\n}: MonteCarloModalProps) {\n  const [open, setOpen] = useState(false);\n  const [simulating, setSimulating] = useState(false);\n  const [result, setResult] = useState<MonteCarloResult | null>(null);\n  \n  // Par├ómetros de simula├º├úo\n  const [costVariation, setCostVariation] = useState(5); // %\n  const [iterations, setIterations] = useState(1000);\n  const [distribution, setDistribution] = useState<'normal' | 'uniform' | 'triangular'>('normal');\n\n  const handleSimulate = async () => {\n    setSimulating(true);\n\n    try {\n      // Executar Monte Carlo\n      const simulation = await whatIfSimulator.runMonteCarloSimulation(\n        [\n          {\n            name: 'custo',\n            baseValue: baseCost,\n            distribution,\n            params:\n              distribution === 'normal'\n                ? {\n                    mean: baseCost,\n                    stdDev: baseCost * (costVariation / 100),\n                  }\n                : distribution === 'uniform'\n                  ? {\n                      min: baseCost * (1 - costVariation / 100),\n                      max: baseCost * (1 + costVariation / 100),\n                    }\n                  : {\n                      min: baseCost * (1 - costVariation / 100),\n                      mode: baseCost,\n                      max: baseCost * (1 + costVariation / 100),\n                    },\n          },\n        ],\n        (values) => values.custo * (1 + targetMargin / 100),\n        {\n          iterations,\n          confidenceLevels: [0.68, 0.95, 0.99],\n        }\n      );\n\n      setResult(simulation);\n\n      // Otimizar margem baseado na simula├º├úo (opcional)\n      if (onOptimizedMargin && import.meta.env.DEV) {\n        // Fun├º├úo de otimiza├º├úo dispon├¡vel mas n├úo utilizada neste contexto\n      }\n    } catch (err) {\n      if (import.meta.env.DEV) {\n        // eslint-disable-next-line no-console\n        console.error('Erro na simula├º├úo:', err);\n      }\n    } finally {\n      setSimulating(false);\n    }\n  };\n\n  const getDistributionLabel = (dist: string) => {\n    const labels: Record<string, string> = {\n      normal: 'Normal (Gaussiana)',\n      uniform: 'Uniforme',\n      triangular: 'Triangular',\n    };\n    return labels[dist] || dist;\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        {trigger || (\n          <Button variant=\"outline\" className=\"gap-2\">\n            <TrendingUp className=\"h-4 w-4\" />\n            Simular Cen├írios\n          </Button>\n        )}\n      </DialogTrigger>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Sparkles className=\"h-5 w-5 text-brand-600\" />\n            Simula├º├úo Monte Carlo\n          </DialogTitle>\n          <DialogDescription>\n            Analise probabilidades e riscos executando {iterations.toLocaleString()} simula├º├Áes\n            com varia├º├Áes de custo. Identifique o pre├ºo ideal com base em intervalos de confian├ºa.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Parameters */}\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              {/* Cost Variation */}\n              <div className=\"space-y-2\">\n                <Label>Varia├º├úo de Custo: ┬▒{costVariation}%</Label>\n                <Slider\n                  value={[costVariation]}\n                  onValueChange={([value]) => setCostVariation(value)}\n                  min={1}\n                  max={20}\n                  step={1}\n                  disabled={simulating}\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Custo pode variar entre{' '}\n                  {formatCurrency(baseCost * (1 - costVariation / 100))} e{' '}\n                  {formatCurrency(baseCost * (1 + costVariation / 100))}\n                </p>\n              </div>\n\n              {/* Distribution Type */}\n              <div className=\"space-y-2\">\n                <Label>Tipo de Distribui├º├úo</Label>\n                <Select\n                  value={distribution}\n                  onValueChange={(value: any) => setDistribution(value)}\n                  disabled={simulating}\n                >\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"normal\">Normal (Gaussiana)</SelectItem>\n                    <SelectItem value=\"uniform\">Uniforme</SelectItem>\n                    <SelectItem value=\"triangular\">Triangular</SelectItem>\n                  </SelectContent>\n                </Select>\n                <p className=\"text-xs text-muted-foreground\">\n                  {distribution === 'normal' &&\n                    'Valores pr├│ximos da m├®dia s├úo mais prov├íveis'}\n                  {distribution === 'uniform' && 'Todos os valores t├¬m mesma probabilidade'}\n                  {distribution === 'triangular' && 'Valor m├®dio ├® o mais prov├ível'}\n                </p>\n              </div>\n            </div>\n\n            {/* Iterations */}\n            <div className=\"space-y-2\">\n              <Label>N├║mero de Itera├º├Áes</Label>\n              <div className=\"flex gap-2\">\n                {[1000, 5000, 10000].map((iter) => (\n                  <Button\n                    key={iter}\n                    variant={iterations === iter ? 'default' : 'outline'}\n                    size=\"sm\"\n                    onClick={() => setIterations(iter)}\n                    disabled={simulating}\n                  >\n                    {iter.toLocaleString()}\n                  </Button>\n                ))}\n              </div>\n            </div>\n\n            {/* Simulate Button */}\n            <Button\n              onClick={handleSimulate}\n              disabled={simulating}\n              className=\"w-full gap-2\"\n              size=\"lg\"\n            >\n              {simulating ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  Simulando {iterations.toLocaleString()} cen├írios...\n                </>\n              ) : (\n                <>\n                  <BarChart3 className=\"h-4 w-4\" />\n                  Executar Simula├º├úo\n                </>\n              )}\n            </Button>\n          </div>\n\n          {/* Results */}\n          <AnimatePresence>\n            {result && (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                className=\"space-y-6\"\n              >\n                <Separator />\n\n                {/* Statistics */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"font-semibold flex items-center gap-2\">\n                    <Target className=\"h-5 w-5 text-brand-600\" />\n                    Estat├¡sticas do Pre├ºo Final\n                  </h3>\n\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <p className=\"text-xs text-muted-foreground mb-1\">M├®dia</p>\n                      <p className=\"text-lg font-bold\">{formatCurrency(result.stats.mean)}</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <p className=\"text-xs text-muted-foreground mb-1\">Mediana</p>\n                      <p className=\"text-lg font-bold\">{formatCurrency(result.stats.median)}</p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <p className=\"text-xs text-muted-foreground mb-1\">M├¡nimo</p>\n                      <p className=\"text-lg font-bold text-green-600\">\n                        {formatCurrency(result.stats.min)}\n                      </p>\n                    </div>\n                    <div className=\"bg-gray-50 rounded-lg p-4\">\n                      <p className=\"text-xs text-muted-foreground mb-1\">M├íximo</p>\n                      <p className=\"text-lg font-bold text-red-600\">\n                        {formatCurrency(result.stats.max)}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Confidence Intervals */}\n                <div className=\"space-y-3\">\n                  <h4 className=\"font-semibold text-sm\">Intervalos de Confian├ºa</h4>\n                  \n                  {Object.entries(result.confidenceIntervals).map(([level, interval]) => {\n                    const percentage = level.replace('%', '');\n                    return (\n                      <div\n                        key={level}\n                        className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4\"\n                      >\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <Badge variant=\"outline\" className=\"bg-white\">\n                            {level} de confian├ºa\n                          </Badge>\n                          <span className=\"text-xs text-muted-foreground\">\n                            {percentage === '68' && 'Prov├ível (1 desvio padr├úo)'}\n                            {percentage === '95' && 'Muito prov├ível (2 desvios)'}\n                            {percentage === '99' && 'Quase certo (3 desvios)'}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-sm font-medium\">\n                            {formatCurrency(interval.lower)}\n                          </span>\n                          <span className=\"text-xs text-muted-foreground\">at├®</span>\n                          <span className=\"text-sm font-medium\">\n                            {formatCurrency(interval.upper)}\n                          </span>\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n\n                {/* Percentiles */}\n                <div className=\"space-y-3\">\n                  <h4 className=\"font-semibold text-sm\">Percentis</h4>\n                  <div className=\"grid grid-cols-5 gap-2\">\n                    {Object.entries(result.percentiles).map(([percentile, value]) => (\n                      <div key={percentile} className=\"bg-gray-50 rounded p-3 text-center\">\n                        <p className=\"text-xs text-muted-foreground mb-1\">{percentile}</p>\n                        <p className=\"text-sm font-semibold\">\n                          {formatCurrency(value as number)}\n                        </p>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Insights */}\n                <Alert>\n                  <Info className=\"h-4 w-4\" />\n                  <AlertDescription className=\"text-sm\">\n                    <strong>Interpreta├º├úo:</strong> Com {iterations.toLocaleString()} simula├º├Áes,\n                    h├í 95% de chance do pre├ºo final estar entre{' '}\n                    <strong>{formatCurrency(result.confidenceIntervals['95%'].lower)}</strong> e{' '}\n                    <strong>{formatCurrency(result.confidenceIntervals['95%'].upper)}</strong>.\n                    Use esse intervalo para avaliar riscos e ajustar sua proposta.\n                  </AlertDescription>\n                </Alert>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Info Box */}\n          <Alert>\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertDescription className=\"text-xs\">\n              <strong>Sobre Monte Carlo:</strong> M├®todo estat├¡stico que simula milhares de\n              cen├írios poss├¡veis para estimar probabilidades. Ideal para licita├º├Áes com custos\n              incertos (materiais, log├¡stica, c├ómbio).\n            </AlertDescription>\n          </Alert>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\OCRUploadModal.tsx","messages":[{"ruleId":"no-duplicate-imports","severity":2,"message":"'@/azuria_ai/engines/multimodalEngine' import is duplicated.","line":33,"column":1,"nodeType":"ImportDeclaration","messageId":"import","endLine":33,"endColumn":89}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * @fileoverview OCR Upload Modal - Componente para upload e extra├º├úo de editais\n * \n * Integra o multimodalEngine para extrair dados automaticamente de PDFs/imagens\n * de editais e preencher os campos da calculadora.\n */\n\nimport { useState } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Progress } from '@/components/ui/progress';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  AlertCircle, \n  CheckCircle2, \n  FileText, \n  FileUp, \n  Image,\n  Loader2,\n  Sparkles,\n  XCircle\n} from 'lucide-react';\nimport multimodalEngine from '@/azuria_ai/engines/multimodalEngine';\nimport type { EditalExtraction, OCRResult } from '@/azuria_ai/engines/multimodalEngine';\n\ninterface OCRUploadModalProps {\n  onExtractedData: (data: EditalExtraction) => void;\n  trigger?: React.ReactNode;\n}\n\nexport function OCRUploadModal({ onExtractedData, trigger }: OCRUploadModalProps) {\n  const [open, setOpen] = useState(false);\n  const [file, setFile] = useState<File | null>(null);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [result, setResult] = useState<OCRResult | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      setResult(null);\n      setError(null);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!file) {return;}\n\n    setProcessing(true);\n    setProgress(0);\n    setError(null);\n\n    try {\n      // Simular progresso\n      const progressInterval = setInterval(() => {\n        setProgress((prev) => {\n          if (prev >= 90) {\n            clearInterval(progressInterval);\n            return 90;\n          }\n          return prev + 10;\n        });\n      }, 300);\n\n      // Processar documento\n      const ocrResult = await multimodalEngine.processDocument(file);\n      \n      clearInterval(progressInterval);\n      setProgress(100);\n      setResult(ocrResult);\n\n      // Se ├® um edital, extrair campos estruturados\n      if (ocrResult.documentType === 'edital') {\n        const editalData = await multimodalEngine.extractEdital(file);\n        \n        // Notificar componente pai\n        onExtractedData(editalData);\n        \n        // Fechar modal ap├│s sucesso\n        setTimeout(() => {\n          setOpen(false);\n          resetState();\n        }, 2000);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Erro ao processar documento');\n      setProgress(0);\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const resetState = () => {\n    setFile(null);\n    setResult(null);\n    setError(null);\n    setProgress(0);\n  };\n\n  const getConfidenceColor = (confidence: number) => {\n    if (confidence >= 0.8) {return 'text-green-600';}\n    if (confidence >= 0.6) {return 'text-yellow-600';}\n    return 'text-red-600';\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        {trigger || (\n          <Button variant=\"outline\" className=\"gap-2\">\n            <FileUp className=\"h-4 w-4\" />\n            Importar Edital (OCR)\n          </Button>\n        )}\n      </DialogTrigger>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Sparkles className=\"h-5 w-5 text-brand-600\" />\n            Importar Edital com IA\n          </DialogTitle>\n          <DialogDescription>\n            Fa├ºa upload de um PDF ou imagem do edital. Nossa IA extrair├í automaticamente\n            todos os campos necess├írios para preencher a calculadora.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Upload Area */}\n          {!result && (\n            <div className=\"space-y-4\">\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-brand-500 transition-colors\">\n                <input\n                  type=\"file\"\n                  accept=\".pdf,.png,.jpg,.jpeg\"\n                  onChange={handleFileChange}\n                  className=\"hidden\"\n                  id=\"edital-upload\"\n                  disabled={processing}\n                />\n                <label\n                  htmlFor=\"edital-upload\"\n                  className=\"cursor-pointer flex flex-col items-center gap-4\"\n                >\n                  {file ? (\n                    <>\n                      {file.type.includes('pdf') ? (\n                        <FileText className=\"h-16 w-16 text-brand-600\" />\n                      ) : (\n                        <Image className=\"h-16 w-16 text-brand-600\" />\n                      )}\n                      <div>\n                        <p className=\"font-semibold\">{file.name}</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {(file.size / 1024 / 1024).toFixed(2)} MB\n                        </p>\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <FileUp className=\"h-16 w-16 text-gray-400\" />\n                      <div>\n                        <p className=\"font-semibold\">Clique para fazer upload</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          PDF, PNG ou JPG (m├íx. 10MB)\n                        </p>\n                      </div>\n                    </>\n                  )}\n                </label>\n              </div>\n\n              {file && !processing && (\n                <Button\n                  onClick={handleUpload}\n                  className=\"w-full gap-2\"\n                  size=\"lg\"\n                >\n                  <Sparkles className=\"h-4 w-4\" />\n                  Extrair Dados com IA\n                </Button>\n              )}\n            </div>\n          )}\n\n          {/* Processing */}\n          {processing && (\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"space-y-4\"\n            >\n              <div className=\"flex items-center gap-3\">\n                <Loader2 className=\"h-5 w-5 animate-spin text-brand-600\" />\n                <span className=\"font-medium\">Processando documento...</span>\n              </div>\n              <Progress value={progress} className=\"h-2\" />\n              <p className=\"text-sm text-muted-foreground\">\n                {progress < 30 && 'Analisando estrutura do documento...'}\n                {progress >= 30 && progress < 60 && 'Extraindo texto com OCR...'}\n                {progress >= 60 && progress < 90 && 'Identificando campos do edital...'}\n                {progress >= 90 && 'Finalizando...'}\n              </p>\n            </motion.div>\n          )}\n\n          {/* Success Result */}\n          <AnimatePresence>\n            {result && !error && (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.95 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.95 }}\n                className=\"space-y-4\"\n              >\n                <Alert className=\"border-green-200 bg-green-50\">\n                  <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n                  <AlertDescription className=\"text-green-800\">\n                    Documento processado com sucesso! Dados extra├¡dos e preenchidos na calculadora.\n                  </AlertDescription>\n                </Alert>\n\n                <div className=\"bg-gray-50 rounded-lg p-4 space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium\">Tipo de Documento:</span>\n                    <Badge>{result.documentType}</Badge>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium\">Confian├ºa da Extra├º├úo:</span>\n                    <span className={`font-bold ${getConfidenceColor(result.confidence)}`}>\n                      {(result.confidence * 100).toFixed(0)}%\n                    </span>\n                  </div>\n                  {result.fields && (\n                    <div className=\"pt-2 border-t\">\n                      <p className=\"text-sm font-medium mb-2\">Campos Extra├¡dos:</p>\n                      <div className=\"grid grid-cols-2 gap-2 text-xs\">\n                        {Object.entries(result.fields).slice(0, 6).map(([key, value]) => (\n                          <div key={key} className=\"flex items-start gap-2\">\n                            <CheckCircle2 className=\"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0\" />\n                            <span className=\"text-muted-foreground truncate\">\n                              {key}: {String(value).slice(0, 30)}...\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Error */}\n          {error && (\n            <Alert variant=\"destructive\">\n              <XCircle className=\"h-4 w-4\" />\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n\n          {/* Info */}\n          <Alert>\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertDescription className=\"text-xs\">\n              <strong>Dica:</strong> Para melhores resultados, use documentos com boa qualidade\n              de imagem e texto leg├¡vel. O sistema identifica automaticamente campos como\n              n├║mero do edital, ├│rg├úo, objeto, valor estimado, itens e prazos.\n            </AlertDescription>\n          </Alert>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\PortalMonitorWidget.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":218,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":218,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7168,7171],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7168,7171],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":69,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":69,"endColumn":22,"suggestions":[{"fix":{"range":[2086,2134],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * @fileoverview Portal Monitor Widget - Widget de alertas de editais\n * \n * Mostra alertas em tempo real de novos editais detectados\n * pelo Portal Monitor Agent (apenas para usu├írios PRO/Enterprise)\n */\n\nimport { useEffect, useState } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport {\n  AlertCircle,\n  Bell,\n  BellOff,\n  CheckCircle2,\n  Clock,\n  ExternalLink,\n  Eye,\n  TrendingUp,\n} from 'lucide-react';\nimport portalMonitorAgent, { type GeneratedAlert } from '@/azuria_ai/agents/portalMonitorAgent';\nimport { useAuthContext } from '@/domains/auth';\n\nexport function PortalMonitorWidget() {\n  const { user } = useAuthContext();\n  const [alerts, setAlerts] = useState<GeneratedAlert[]>([]);\n  const [stats, setStats] = useState({\n    isRunning: false,\n    editaisDetected: 0,\n    alertsGenerated: 0,\n  });\n  const [loading, setLoading] = useState(true);\n\n  // Verifica se usu├írio tem acesso\n  const hasAccess =\n    user?.user_metadata?.subscription === 'PRO' ||\n    user?.user_metadata?.subscription === 'Enterprise';\n\n  useEffect(() => {\n    if (hasAccess) {\n      loadData();\n      \n      // Atualizar a cada 5 minutos\n      const interval = setInterval(loadData, 5 * 60 * 1000);\n      \n      return () => clearInterval(interval);\n    } else {\n      setLoading(false);\n    }\n  }, [hasAccess]);\n\n  const loadData = async () => {\n    try {\n      const monitorStats = portalMonitorAgent.getPortalMonitorStats();\n      setStats({\n        isRunning: monitorStats.isRunning,\n        editaisDetected: monitorStats.editaisDetected || 0,\n        alertsGenerated: monitorStats.alertsGenerated || 0,\n      });\n      \n      // TODO: Em produ├º├úo, buscar alertas do Supabase\n      setAlerts([]);\n    } catch (err) {\n      if (import.meta.env.DEV) {\n        // eslint-disable-next-line no-console\n        console.error('Erro ao carregar alertas:', err);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markAsRead = async (alertId: string) => {\n    setAlerts((prev) => prev.filter((a) => a.id !== alertId));\n    \n    // Em produ├º├úo, marcar no Supabase\n    // await supabase\n    //   .from('alerts')\n    //   .update({ read: true, read_at: new Date().toISOString() })\n    //   .eq('id', alertId);\n  };\n\n  const getUrgencyColor = (urgency: string) => {\n    switch (urgency) {\n      case 'critical':\n        return 'bg-red-100 text-red-800 border-red-200';\n      case 'high':\n        return 'bg-orange-100 text-orange-800 border-orange-200';\n      case 'medium':\n        return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      default:\n        return 'bg-blue-100 text-blue-800 border-blue-200';\n    }\n  };\n\n  const getUrgencyIcon = (urgency: string) => {\n    switch (urgency) {\n      case 'critical':\n        return <AlertCircle className=\"h-4 w-4 text-red-600\" />;\n      case 'high':\n        return <AlertCircle className=\"h-4 w-4 text-orange-600\" />;\n      case 'medium':\n        return <Clock className=\"h-4 w-4 text-yellow-600\" />;\n      default:\n        return <Bell className=\"h-4 w-4 text-blue-600\" />;\n    }\n  };\n\n  // Upgrade required\n  if (!hasAccess) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <BellOff className=\"h-5 w-5 text-muted-foreground\" />\n            Monitor de Portais\n          </CardTitle>\n          <CardDescription>Monitoramento 24/7 de editais</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Alert>\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertDescription className=\"text-sm\">\n              <strong>Recurso Premium</strong>\n              <br />O monitoramento autom├ítico de portais est├í dispon├¡vel apenas para\n              assinantes PRO e Enterprise.\n            </AlertDescription>\n          </Alert>\n          <Button variant=\"outline\" className=\"w-full mt-4\">\n            Fazer Upgrade\n          </Button>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  // Loading state\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Bell className=\"h-5 w-5 animate-pulse\" />\n            Monitor de Portais\n          </CardTitle>\n          <CardDescription>Carregando alertas...</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"h-20 bg-gray-100 rounded-lg animate-pulse\" />\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Bell className={`h-5 w-5 ${stats.isRunning ? 'text-green-600 animate-pulse' : 'text-muted-foreground'}`} />\n            Monitor de Portais\n          </div>\n          <Badge variant={stats.isRunning ? 'default' : 'secondary'} className=\"gap-1\">\n            {stats.isRunning ? (\n              <>\n                <CheckCircle2 className=\"h-3 w-3\" />\n                Ativo\n              </>\n            ) : (\n              'Inativo'\n            )}\n          </Badge>\n        </CardTitle>\n        <CardDescription>\n          {stats.editaisDetected} editais detectados ÔÇó {stats.alertsGenerated} alertas gerados\n        </CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {/* Alerts List */}\n        {alerts.length > 0 ? (\n          <div className=\"space-y-3\">\n            <AnimatePresence>\n              {alerts.map((alert) => (\n                <motion.div\n                  key={alert.id}\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  exit={{ opacity: 0, x: 20 }}\n                  className={`border rounded-lg p-4 ${getUrgencyColor(alert.urgency)}`}\n                >\n                  <div className=\"flex items-start justify-between gap-2 mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      {getUrgencyIcon(alert.urgency)}\n                      <span className=\"font-semibold text-sm\">{alert.title}</span>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => markAsRead(alert.id)}\n                      className=\"h-6 px-2\"\n                    >\n                      <Eye className=\"h-3 w-3\" />\n                    </Button>\n                  </div>\n                  \n                  <p className=\"text-xs mb-3\">{alert.message}</p>\n                  \n                  {alert.suggestedActions && alert.suggestedActions.length > 0 && (\n                    <div className=\"space-y-1\">\n                      <p className=\"text-xs font-medium\">A├º├Áes sugeridas:</p>\n                      {alert.suggestedActions.map((action: any, index: number) => (\n                        <div key={index} className=\"flex items-center gap-2 text-xs\">\n                          <TrendingUp className=\"h-3 w-3\" />\n                          <span>{action.description}</span>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                  \n                  <Button\n                    variant=\"link\"\n                    size=\"sm\"\n                    className=\"h-auto p-0 mt-2 text-xs\"\n                  >\n                    Ver Edital <ExternalLink className=\"h-3 w-3 ml-1\" />\n                  </Button>\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </div>\n        ) : (\n          <Alert>\n            <CheckCircle2 className=\"h-4 w-4\" />\n            <AlertDescription className=\"text-sm\">\n              Nenhum alerta no momento. O monitor est├í ativo e verificando portais\n              automaticamente a cada 5 minutos.\n            </AlertDescription>\n          </Alert>\n        )}\n\n        {/* Action Button */}\n        <Button variant=\"outline\" className=\"w-full gap-2\" onClick={loadData}>\n          <Bell className=\"h-4 w-4\" />\n          Atualizar Alertas\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\RAGSearchModal.tsx","messages":[{"ruleId":"no-duplicate-imports","severity":2,"message":"'@/azuria_ai/engines/ragEngine' import is duplicated.","line":34,"column":1,"nodeType":"ImportDeclaration","messageId":"import","endLine":34,"endColumn":80}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * @fileoverview RAG Search Modal - Busca sem├óntica em legisla├º├úo TCU\n * \n * Permite consultar legisla├º├úo (Lei 8.666, Ac├│rd├úos TCU, etc.) \n * atrav├®s de busca sem├óntica e receber respostas com cita├º├Áes.\n */\n\nimport { useState } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\nimport {\n  AlertCircle,\n  BookOpen,\n  ExternalLink,\n  FileText,\n  Loader2,\n  MessageSquare,\n  Search,\n  Sparkles,\n} from 'lucide-react';\nimport ragEngine from '@/azuria_ai/engines/ragEngine';\nimport type { RAGResponse, SearchResult } from '@/azuria_ai/engines/ragEngine';\n\ninterface RAGSearchModalProps {\n  trigger?: React.ReactNode;\n}\n\nexport function RAGSearchModal({ trigger }: RAGSearchModalProps) {\n  const [open, setOpen] = useState(false);\n  const [query, setQuery] = useState('');\n  const [searching, setSearching] = useState(false);\n  const [results, setResults] = useState<SearchResult[]>([]);\n  const [answer, setAnswer] = useState<RAGResponse | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSearch = async () => {\n    if (!query.trim()) {return;}\n\n    setSearching(true);\n    setError(null);\n    setResults([]);\n    setAnswer(null);\n\n    try {\n      // Busca sem├óntica\n      const searchResults = await ragEngine.semanticSearch(query);\n\n      setResults(searchResults);\n\n      // Gerar resposta com LLM\n      if (searchResults.length > 0) {\n        const ragResponse = await ragEngine.generateAnswer(query);\n        setAnswer(ragResponse);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Erro ao buscar legisla├º├úo');\n    } finally {\n      setSearching(false);\n    }\n  };\n\n  const getDocumentTypeLabel = (type: string) => {\n    const labels: Record<string, string> = {\n      legislation: 'Legisla├º├úo',\n      jurisprudence: 'Jurisprud├¬ncia',\n      regulation: 'Regulamento',\n      guideline: 'Orienta├º├úo',\n      manual: 'Manual',\n      template: 'Modelo',\n    };\n    return labels[type] || type;\n  };\n\n  const getDocumentTypeColor = (type: string) => {\n    const colors: Record<string, string> = {\n      legislation: 'bg-blue-100 text-blue-800',\n      jurisprudence: 'bg-purple-100 text-purple-800',\n      regulation: 'bg-green-100 text-green-800',\n      guideline: 'bg-yellow-100 text-yellow-800',\n      manual: 'bg-orange-100 text-orange-800',\n      template: 'bg-pink-100 text-pink-800',\n    };\n    return colors[type] || 'bg-gray-100 text-gray-800';\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        {trigger || (\n          <Button variant=\"outline\" className=\"gap-2\">\n            <BookOpen className=\"h-4 w-4\" />\n            Consultar Legisla├º├úo\n          </Button>\n        )}\n      </DialogTrigger>\n      <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Sparkles className=\"h-5 w-5 text-brand-600\" />\n            Consultar Legisla├º├úo TCU\n          </DialogTitle>\n          <DialogDescription>\n            Fa├ºa perguntas em linguagem natural sobre legisla├º├úo de licita├º├Áes.\n            Nossa IA busca e responde com base em Lei 8.666, Ac├│rd├úos TCU e jurisprud├¬ncia.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Search Bar */}\n          <div className=\"flex gap-2\">\n            <Input\n              placeholder=\"Ex: Como calcular BDI corretamente?\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              onKeyDown={(e) => e.key === 'Enter' && handleSearch()}\n              disabled={searching}\n              className=\"flex-1\"\n            />\n            <Button\n              onClick={handleSearch}\n              disabled={!query.trim() || searching}\n              className=\"gap-2\"\n            >\n              {searching ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  Buscando...\n                </>\n              ) : (\n                <>\n                  <Search className=\"h-4 w-4\" />\n                  Buscar\n                </>\n              )}\n            </Button>\n          </div>\n\n          {/* Quick Suggestions */}\n          {!answer && !searching && (\n            <div className=\"space-y-2\">\n              <p className=\"text-sm font-medium text-muted-foreground\">Perguntas Frequentes:</p>\n              <div className=\"flex flex-wrap gap-2\">\n                {[\n                  'Como calcular BDI?',\n                  'Margem de lucro m├íxima permitida',\n                  'Documentos obrigat├│rios para habilitar',\n                  'Prazo para recurso administrativo',\n                  'Diferen├ºa entre menor pre├ºo e melhor t├®cnica',\n                ].map((suggestion) => (\n                  <Button\n                    key={suggestion}\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setQuery(suggestion);\n                      setTimeout(handleSearch, 100);\n                    }}\n                    className=\"text-xs\"\n                  >\n                    {suggestion}\n                  </Button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Answer Section */}\n          <AnimatePresence>\n            {answer && (\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                className=\"space-y-4\"\n              >\n                {/* AI Generated Answer */}\n                <div className=\"bg-gradient-to-br from-brand-50 to-blue-50 rounded-lg p-6 border border-brand-200\">\n                  <div className=\"flex items-start gap-3 mb-4\">\n                    <div className=\"p-2 rounded-lg bg-brand-100\">\n                      <MessageSquare className=\"h-5 w-5 text-brand-600\" />\n                    </div>\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-semibold mb-2\">Resposta da IA</h3>\n                      <p className=\"text-sm leading-relaxed whitespace-pre-wrap\">\n                        {answer.answer}\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Sources */}\n                  {answer.sources.length > 0 && (\n                    <>\n                      <Separator className=\"my-4\" />\n                      <div>\n                        <h4 className=\"text-sm font-semibold mb-3 flex items-center gap-2\">\n                          <FileText className=\"h-4 w-4\" />\n                          Fontes Consultadas ({answer.sources.length})\n                        </h4>\n                        <div className=\"space-y-2\">\n                          {answer.sources.map((source, index) => (\n                            <div\n                              key={source.id}\n                              className=\"bg-white rounded-lg p-3 border border-gray-200 text-sm\"\n                            >\n                              <div className=\"flex items-start justify-between gap-2 mb-2\">\n                                <span className=\"font-medium text-xs text-muted-foreground\">\n                                  Fonte {index + 1}\n                                </span>\n                                <Badge\n                                  variant=\"outline\"\n                                  className={getDocumentTypeColor(source.metadata.type)}\n                                >\n                                  {getDocumentTypeLabel(source.metadata.type)}\n                                </Badge>\n                              </div>\n                              <p className=\"text-xs text-muted-foreground line-clamp-2\">\n                                {source.content}\n                              </p>\n                              {source.metadata.source && (\n                                <p className=\"text-xs text-brand-600 mt-1 flex items-center gap-1\">\n                                  <ExternalLink className=\"h-3 w-3\" />\n                                  {source.metadata.source}\n                                </p>\n                              )}\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    </>\n                  )}\n                </div>\n\n                {/* Confidence Badge */}\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-muted-foreground\">Confian├ºa da resposta:</span>\n                  <Badge\n                    variant={answer.confidence >= 0.8 ? 'default' : 'secondary'}\n                    className={\n                      answer.confidence >= 0.8\n                        ? 'bg-green-100 text-green-800'\n                        : 'bg-yellow-100 text-yellow-800'\n                    }\n                  >\n                    {(answer.confidence * 100).toFixed(0)}%\n                  </Badge>\n                </div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Empty Results */}\n          {!searching && results.length === 0 && query && !error && !answer && (\n            <Alert>\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                Nenhum resultado encontrado. Tente reformular sua pergunta ou use termos mais\n                gerais.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {/* Error */}\n          {error && (\n            <Alert variant=\"destructive\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n\n          {/* Info */}\n          <Alert>\n            <AlertCircle className=\"h-4 w-4\" />\n            <AlertDescription className=\"text-xs\">\n              <strong>Importante:</strong> As respostas s├úo geradas por IA com base em\n              documentos legais indexados. Sempre consulte a legisla├º├úo oficial para\n              decis├Áes cr├¡ticas.\n            </AlertDescription>\n          </Alert>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\XAIExplanationModal.tsx","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":64,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":64,"endColumn":22,"suggestions":[{"fix":{"range":[1711,1759],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'explanation' and 'loadExplanation'. Either include them or remove the dependency array.","line":76,"column":6,"nodeType":"ArrayExpression","endLine":76,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [explanation, loadExplanation, open]","fix":{"range":[1969,1975],"text":"[explanation, loadExplanation, open]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\bidding\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AIPriceSuggestions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedCalculatorResult.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedCalculator\\AnimatedNumber.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedCalculator\\animations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedCalculator\\constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedCalculator\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedCalculator\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedExportOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\AdvancedProCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\BatchCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\BreakEvenROI.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ComparisonMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ComparisonMode\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ComparisonMode\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\CompetitorAnalysisDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\CostBreakdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\DiscountAnalyzer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ErrorDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\HistoryDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\HistoryDisplayOptimized.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\HistorySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ImprovedActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\IntelligentBatchCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\LoadingState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ManualPriceToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\MarginSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\MarketplaceComparator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\MarketplaceComparisonChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\MarketplaceSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\MultiMarketplaceComparison.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\PriceAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\PriceHistory.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProCalculatorDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProCalculatorHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProCalculatorInputs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProCalculatorResult.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProComparisonTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProDiscountSimulator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProFeaturesList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProPlanBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProPriceBreakdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProPriceVariations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProUpgradeBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProductInfoForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ProfitSlider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ResultAnalysis.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\SalesGoalsProjection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\SalesVolumeSimulator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\ScenarioSimulator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\TaxAnalysisTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\TaxCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\TaxFeeSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\discount-simulator\\DiscountInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\discount-simulator\\DiscountResults.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\discount-simulator\\DiscountSimulator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\intelligent-batch\\AIInsightsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\intelligent-batch\\BatchConfigurationPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\intelligent-batch\\BatchResultsTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\intelligent-batch\\CompetitiveAnalysisPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\intelligent-batch\\ExportOptionsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\intelligent-batch\\ScenarioSimulationPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\intelligent-batch\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\pro-result\\ProResultActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\pro-result\\ProResultAdvice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\pro-result\\ProResultHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\pro\\ICMSCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\pro\\MarketplaceComparison.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\pro\\MarketplaceTemplateSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\result\\ResultBreakdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\result\\ResultHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\result\\ResultStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\result\\ResultVolumeSimulator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\sections\\ActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\sections\\InputFields.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\sections\\MarginSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\sections\\ResultDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\sections\\SimulatorsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\simulator\\GoalSimulator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\simulator\\ProjectionChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\simulator\\ProjectionSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\simulator\\ScenariosTable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\simulator\\VolumeControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\AdvancedTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\BasicTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\ScenariosTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\sections\\CalculatorActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\sections\\CalculatorInputsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\sections\\ProductSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\sections\\ResultsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\sections\\results\\ResultsSectionBreakdown.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\sections\\results\\ResultsSectionDiscounts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\calculators\\tabs\\sections\\results\\ResultsSectionExport.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\collaboration\\ApprovalSystem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\collaboration\\ApprovalsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\collaboration\\CollaborationNotifications.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\collaboration\\CollaborationPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\collaboration\\CommentsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\collaboration\\CommentsSystem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\collaboration\\NotificationsCenter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\collaboration\\ShareCalculationDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\AlertsList.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[278,281],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[278,281],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[607,610],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[607,610],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useCreatorStream } from '../../azuria_ai/hooks/useCreatorStream';\r\nimport { ADMIN_UID_FRONT } from '../../config/admin';\r\n\r\nexport default function AlertsList() {\r\n  const [alerts, setAlerts] = useState<any[]>([]);\r\n\r\n  // carga inicial via API (fallback)\r\n  useEffect(() => {\r\n    fetch('/api/admin/creator/list', { headers: { 'x-admin': 'true', 'x-admin-uid': ADMIN_UID_FRONT } })\r\n      .then((r) => r.json())\r\n      .then((r) => setAlerts(r.data || []))\r\n      .catch(() => {});\r\n  }, []);\r\n\r\n  const onEvent = useCallback((ev: any) => {\r\n    setAlerts((prev) => [ev, ...prev]);\r\n  }, []);\r\n\r\n  useCreatorStream(onEvent);\r\n\r\n  const ack = async (id: string, action = 'ack') => {\r\n    await fetch('/api/admin/creator/ack', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json', 'x-admin': 'true', 'x-admin-uid': ADMIN_UID_FRONT },\r\n      body: JSON.stringify({ id, action }),\r\n    });\r\n    setAlerts((prev) => prev.map((a) => (a.id === id ? { ...a, status: action === 'ack' ? 'acknowledged' : action } : a)));\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 space-y-3\">\r\n      {alerts.map((a) => (\r\n        <div key={a.id} className={`p-3 rounded border ${a.severity === 'critical' ? 'border-red-400 bg-red-50' : 'border-gray-200'}`}>\r\n          <div className=\"flex justify-between\">\r\n            <div>\r\n              <strong>{a.area || 'ecosystem'}</strong> ÔÇó <span className=\"text-sm\">{a.severity}</span>\r\n              <p className=\"mt-1 text-sm\">{a.message || a.recommendation}</p>\r\n            </div>\r\n            <div className=\"space-x-2\">\r\n              <button onClick={() => ack(a.id, 'ack')} className=\"btn btn-sm\">\r\n                Ack\r\n              </button>\r\n              <button onClick={() => ack(a.id, 'ignore')} className=\"btn btn-sm\">\r\n                Ignorar\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {a.recommendation && (\r\n            <div className=\"mt-2 flex gap-2\">\r\n              <button onClick={() => ack(a.id, 'resolve')} className=\"btn btn-xs\">\r\n                Aceitar\r\n              </button>\r\n              <button onClick={() => ack(a.id, 'ignore')} className=\"btn btn-xs\">\r\n                Rejeitar\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\CopilotPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used. Allowed unused caught errors must match /^_/u.","line":27,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { ADMIN_UID_FRONT } from '../../config/admin';\r\n\r\ntype CopilotResponse = {\r\n  summary?: string;\r\n  recommendations?: string[];\r\n  actions?: { label: string; action: string }[];\r\n  answer?: string;\r\n  question?: string;\r\n};\r\n\r\nexport function CopilotPanel() {\r\n  const [question, setQuestion] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [resp, setResp] = useState<CopilotResponse | null>(null);\r\n\r\n  const ask = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const r = await fetch('/api/admin/creator/copilot', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'text/plain', 'x-admin': 'true', 'x-admin-uid': ADMIN_UID_FRONT },\r\n        body: question || '',\r\n      });\r\n      const data = await r.json();\r\n      setResp(data);\r\n    } catch (e) {\r\n      setResp({ summary: 'Erro ao consultar copiloto.' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 rounded border border-slate-200 bg-white space-y-3\">\r\n      <div className=\"text-sm font-semibold\">Copiloto do Admin</div>\r\n      <div className=\"space-y-2\">\r\n        <textarea\r\n          className=\"w-full border rounded p-2 text-sm\"\r\n          rows={3}\r\n          placeholder=\"Pergunte algo: status, riscos, sugest├Áes...\"\r\n          value={question}\r\n          onChange={(e) => setQuestion(e.target.value)}\r\n        />\r\n        <button\r\n          onClick={ask}\r\n          disabled={loading}\r\n          className=\"px-3 py-1 rounded bg-slate-900 text-white text-sm disabled:opacity-60\"\r\n        >\r\n          {loading ? 'Consultando...' : 'Perguntar'}\r\n        </button>\r\n      </div>\r\n\r\n      {resp && (\r\n        <div className=\"space-y-2 text-sm\">\r\n          {resp.summary && <div className=\"text-slate-700\">{resp.summary}</div>}\r\n          {resp.answer && (\r\n            <div className=\"p-2 border rounded bg-slate-50\">\r\n              <div className=\"text-xs text-slate-500 mb-1\">Resposta:</div>\r\n              <div>{resp.answer}</div>\r\n            </div>\r\n          )}\r\n          {resp.recommendations && resp.recommendations.length > 0 && (\r\n            <div>\r\n              <div className=\"text-xs font-semibold text-slate-600 mb-1\">Recomenda├º├Áes:</div>\r\n              <ul className=\"list-disc ml-4 space-y-1\">\r\n                {resp.recommendations.map((r, idx) => (\r\n                  <li key={idx}>{r}</li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          {resp.actions && resp.actions.length > 0 && (\r\n            <div className=\"text-xs text-slate-600\">\r\n              A├º├Áes sugeridas: {resp.actions.map((a) => a.label).join(', ')}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\CreatorHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\EvolutionPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[274,277],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[274,277],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":7,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[332,335],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[332,335],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":19,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[692,695],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[692,695],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2005,2008],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2005,2008],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useCallback, useEffect, useState } from 'react';\r\nimport { useCreatorStream } from '../../azuria_ai/hooks/useCreatorStream';\r\nimport { ADMIN_UID_FRONT } from '../../config/admin';\r\n\r\nexport function EvolutionPanel() {\r\n  const [events, setEvents] = useState<any[]>([]);\r\n  const [snapshots, setSnapshots] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    fetch('/api/admin/creator/evolution', { headers: { 'x-admin': 'true', 'x-admin-uid': ADMIN_UID_FRONT } })\r\n      .then((r) => r.json())\r\n      .then((r) => {\r\n        setEvents(r.events || []);\r\n        setSnapshots(r.snapshots || []);\r\n      })\r\n      .catch(() => {});\r\n  }, []);\r\n\r\n  const onEvent = useCallback((ev: any) => {\r\n    setEvents((prev) => [{ type: 'stream', payload: ev, created_at: Date.now() }, ...prev].slice(0, 50));\r\n  }, []);\r\n\r\n  useCreatorStream((ev) => {\r\n    if (ev && ev.pattern) {return onEvent({ type: 'pattern', payload: ev });}\r\n    if (ev && ev.insight) {return onEvent({ type: 'insight', payload: ev });}\r\n    return onEvent(ev);\r\n  });\r\n\r\n  return (\r\n    <div className=\"p-3 rounded border border-purple-200 bg-purple-50 space-y-3\">\r\n      <div className=\"text-sm font-semibold\">Evolu├º├úo do Sistema</div>\r\n      <div className=\"space-y-2 text-sm max-h-72 overflow-y-auto\">\r\n        {events.map((e, idx) => (\r\n          <div key={idx} className=\"p-2 rounded border border-purple-100 bg-white\">\r\n            <div className=\"text-xs text-gray-500\">{new Date(e.created_at || Date.now()).toLocaleString()}</div>\r\n            <div className=\"font-semibold\">{e.type || 'evolution'}</div>\r\n            <div className=\"text-xs\">{JSON.stringify(e.payload)}</div>\r\n          </div>\r\n        ))}\r\n        {events.length === 0 && <div className=\"text-xs text-gray-500\">Sem eventos</div>}\r\n      </div>\r\n      <div>\r\n        <div className=\"text-xs font-semibold text-gray-600 mb-1\">Snapshots</div>\r\n        <div className=\"text-xs text-gray-700 max-h-32 overflow-y-auto space-y-1\">\r\n          {snapshots.map((s: any, idx: number) => (\r\n            <pre key={idx} className=\"bg-white border border-gray-200 rounded p-2 whitespace-pre-wrap text-[11px]\">\r\n              {JSON.stringify(s, null, 2)}\r\n            </pre>\r\n          ))}\r\n          {snapshots.length === 0 && <div className=\"text-xs text-gray-500\">Sem snapshots</div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\HealthMap.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":3,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[74,77],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[74,77],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nexport function HealthMap({ modules = [] as any[] }) {\r\n  return (\r\n    <div className=\"p-3 rounded border border-emerald-200 bg-emerald-50\">\r\n      <div className=\"text-sm font-semibold mb-2\">Health Map</div>\r\n      <div className=\"space-y-2 text-sm\">\r\n        {modules.map((m, idx) => (\r\n          <div key={idx} className=\"flex justify-between p-2 rounded bg-white border border-gray-200\">\r\n            <span>{m.name}</span>\r\n            <span className={m.trust > 0.7 ? 'text-emerald-600' : 'text-amber-600'}>{Math.round((m.trust || 0) * 100)}%</span>\r\n          </div>\r\n        ))}\r\n        {modules.length === 0 && <div className=\"text-xs text-gray-500\">Sem dados</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\InsightCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":3,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[82,85],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[82,85],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nexport function InsightCard({ insight }: { insight: any }) {\r\n  return (\r\n    <div className=\"p-3 rounded border border-blue-200 bg-blue-50\">\r\n      <div className=\"text-sm font-semibold\">{insight.area || 'geral'}</div>\r\n      <div className=\"text-sm mt-1\">{insight.message || insight.recommendation}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\ModuleHealthMap.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":3,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[80,83],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[80,83],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nexport function ModuleHealthMap({ modules = [] as any[] }) {\r\n  return (\r\n    <div className=\"p-3 rounded border border-green-200 bg-green-50\">\r\n      <div className=\"text-sm font-semibold mb-2\">Sa├║de dos m├│dulos</div>\r\n      <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n        {modules.map((m, idx) => (\r\n          <div key={idx} className=\"p-2 rounded border border-gray-200 bg-white flex justify-between\">\r\n            <span>{m.name}</span>\r\n            <span className={m.health === 'critical' ? 'text-red-600' : 'text-green-600'}>{m.health}</span>\r\n          </div>\r\n        ))}\r\n        {modules.length === 0 && <div className=\"text-xs text-gray-500\">Sem dados</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\RoadmapEditor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\creator\\Timeline.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":3,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[83,86],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[83,86],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\n\r\nexport function Timeline({ events = [] }: { events?: any[] }) {\r\n  return (\r\n    <div className=\"p-3 rounded border border-gray-200 bg-white\">\r\n      <div className=\"text-sm font-semibold mb-2\">Timeline</div>\r\n      <ul className=\"space-y-2 text-sm\">\r\n        {events.map((e, idx) => (\r\n          <li key={idx} className=\"border-l-2 border-cyan-400 pl-2\">\r\n            <div className=\"text-xs text-gray-500\">{new Date(e.created_at || Date.now()).toLocaleString()}</div>\r\n            <div className=\"font-semibold\">{e.type || e.event}</div>\r\n            <div>{e.message}</div>\r\n          </li>\r\n        ))}\r\n        {events.length === 0 && <li className=\"text-xs text-gray-500\">Sem eventos</li>}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\DashboardGreeting.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\DashboardGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\DashboardSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\DashboardTemplateSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\DashboardTemplates.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\DraggableWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\PersonalizedDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\UnifiedDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\WidgetConfigDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\WidgetLibrary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\WidgetRenderer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\widgets\\AIInsightsWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\widgets\\ChannelComparisonWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\widgets\\DataEntryFormWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\widgets\\FinancialSummaryWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dashboard\\widgets\\PerformanceKPIsWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\debug\\PerformanceDebugger.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\dev\\DevControls.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\documentos\\AlertaVencimento.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\documentos\\DocumentCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\documentos\\DocumentChecklist.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\documentos\\DocumentList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\documentos\\DocumentUploader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\AdvancedReports.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\ApiManagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\TeamManagement.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\WhiteLabelSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\team\\InviteMemberDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\team\\TeamMembersList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\team\\TeamStats.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\white-label\\BrandingTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\white-label\\DesignTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\white-label\\DomainTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\enterprise\\white-label\\PreviewTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\history\\HistoryDetailDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\history\\HistoryList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\BenefitsSectionBling.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\BenefitsShowcaseSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\ComparisonSectionBling.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\CompetitiveDifferentials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\FeatureCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\FeaturesGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\FeaturesSectionBling.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\FinalCTASection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\HeroSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\HeroSectionBling.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\HeroSectionModern.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\HowItWorksSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\IntelligentBatchBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\MarketplaceCarouselPremium.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\MarketplaceIntegrations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\MarketplaceIntegrationsBling.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\PlansOverviewSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\SocialProof.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\TestimonialsSectionBling.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\plans\\BillingToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\home\\plans\\PlanCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\ERPIntegrations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\EcommerceIntegrations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\ExportOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\IntegrationsBenefits.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\IntegrationsNavTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\IntegrationsStats.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\MarketplaceIntegrations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\QRCodeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\SharingOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\SpreadsheetSync.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\WebhookAutomation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\WebhookIntegration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\ecommerce\\PlatformConnections.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\ecommerce\\ProductsSync.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\ecommerce\\SyncHistory.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\ecommerce\\SyncSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\tabs\\AutomationTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\tabs\\ERPTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\tabs\\EcommerceTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\tabs\\MarketplacesTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\tabs\\ShareTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\tabs\\SpreadsheetsTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\integrations\\tabs\\WebhooksTabContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\intelligence\\IntelligenceConfig.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\intelligence\\IntelligenceFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\intelligence\\IntelligenceHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\intelligence\\IntelligenceTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\intelligence\\MarketplaceIntelligence.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\keyboard\\KeyboardShortcutsModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\keyboard\\KeyboardShortcutsProvider.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":86,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":86,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\keyboard\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\keyboard\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\keyboard\\useRegisterShortcut.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\landing\\CaseStudiesSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\landing\\HeroLandingSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\landing\\TestimonialsSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\landing\\TrialBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\DashboardHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\DashboardLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\DashboardRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\DashboardSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\Layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\header\\DesktopNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\header\\HeaderActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\header\\HeaderLogo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\header\\MobileNavigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\layout\\header\\NavLinks.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\loading\\EnhancedSkeletonLoader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\AIInsightsPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\CompetitiveAnalysisPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\ConnectMarketplaceDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceCarousel.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'get3DLogo' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":50,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":50,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { AlertCircle, ArrowRight, CheckCircle, RefreshCw } from 'lucide-react';\r\nimport type { MarketplaceConnectionStatus } from '@/types/marketplace-api';\r\n\r\nexport interface MarketplaceCard {\r\n  id: string;\r\n  name: string;\r\n  logoUrl: string;\r\n  status: MarketplaceConnectionStatus;\r\n  color: string;\r\n  category: 'nacional' | 'internacional';\r\n  region: string;\r\n}\r\n\r\ninterface MarketplaceCarouselProps {\r\n  marketplaces: MarketplaceCard[];\r\n  onSelectMarketplace: (marketplaceId: string) => void;\r\n  selectedMarketplaceId?: string;\r\n  className?: string;\r\n}\r\n\r\nexport default function MarketplaceCarousel({\r\n  marketplaces,\r\n  onSelectMarketplace,\r\n  selectedMarketplaceId,\r\n  className\r\n}: Readonly<MarketplaceCarouselProps>) {\r\n  const [hoveredId, setHoveredId] = useState<string | null>(null);\r\n\r\n  // Mapeamento de imagens de fundo (geradas via AI)\r\n  const getBackgroundImage = (id: string) => {\r\n    const map: Record<string, string> = {\r\n      'shopee': '/images/marketplaces/bg/shopee.png',\r\n      'mercado-livre': '/images/marketplaces/bg/mercadolivre.png',\r\n      'amazon': '/images/marketplaces/bg/amazon.png',\r\n      'magalu': '/images/marketplaces/bg/magalu.png',\r\n      'temu': '/images/marketplaces/bg/temu.png',\r\n      'shein': '/images/marketplaces/bg/shein.png',\r\n      'americanas': '/images/marketplaces/bg/americanas.png',\r\n      'tiktok': '/images/marketplaces/bg/tiktok.png',\r\n    };\r\n    return map[id] || '/images/marketplaces/bg/amazon.png'; // Fallback\r\n  };\r\n\r\n  // Mapeamento de logos 3D (geradas via AI)\r\n  const get3DLogo = (id: string, fallbackUrl: string) => {\r\n    const map: Record<string, string> = {\r\n      'shopee': '/images/marketplaces/3d/shopee.png',\r\n      'mercado-livre': '/images/marketplaces/3d/mercadolivre.png',\r\n      'amazon': '/images/marketplaces/3d/amazon.png',\r\n      'magalu': '/images/marketplaces/3d/magalu.png',\r\n      'temu': '/images/marketplaces/3d/temu.png',\r\n      'shein': '/images/marketplaces/3d/shein.png',\r\n      'americanas': '/images/marketplaces/3d/americanas.png',\r\n      'tiktok': '/images/marketplaces/3d/tiktok.png',\r\n    };\r\n    return map[id] || fallbackUrl;\r\n  };\r\n\r\n  const getStatusIcon = (status: MarketplaceConnectionStatus) => {\r\n    if (!status.isConnected) {return <AlertCircle className=\"h-4 w-4 text-red-400\" />;}\r\n    if (status.syncStatus === 'syncing') {return <RefreshCw className=\"h-4 w-4 text-blue-400 animate-spin\" />;}\r\n    return <CheckCircle className=\"h-4 w-4 text-green-400\" />;\r\n  };\r\n\r\n  return (\r\n    <div className={cn(\"w-full h-[600px] flex gap-2 p-4 bg-[#F3FAFF] dark:bg-gray-900 rounded-3xl overflow-hidden transition-colors duration-300\", className)}>\r\n      {marketplaces.map((marketplace) => {\r\n        const isHovered = hoveredId === marketplace.id;\r\n        const isSelected = selectedMarketplaceId === marketplace.id;\r\n        const isActive = isHovered || isSelected;\r\n\r\n        return (\r\n          <motion.div\r\n            key={marketplace.id}\r\n            layout\r\n            onClick={() => onSelectMarketplace(marketplace.id)}\r\n            onMouseEnter={() => setHoveredId(marketplace.id)}\r\n            onMouseLeave={() => setHoveredId(null)}\r\n            className={cn(\r\n              \"relative h-full rounded-2xl overflow-hidden cursor-pointer transition-all duration-500 ease-in-out\",\r\n              \"border border-white/10 hover:border-white/30\",\r\n              isActive ? \"flex-[3]\" : \"flex-1\"\r\n            )}\r\n            initial={false}\r\n          >\r\n            {/* Background Image with Parallax Effect */}\r\n            <div \r\n              className=\"absolute inset-0 bg-cover bg-center transition-transform duration-700 scale-110\"\r\n              style={{ \r\n                backgroundImage: `url(${getBackgroundImage(marketplace.id)})`,\r\n                transform: isActive ? 'scale(1.0)' : 'scale(1.1)'\r\n              }}\r\n            />\r\n\r\n            {/* Gradient Overlay */}\r\n            <div className={cn(\r\n              \"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-black/20 transition-opacity duration-500\",\r\n              isActive ? \"opacity-80\" : \"opacity-60 hover:opacity-70\"\r\n            )} />\r\n\r\n            {/* Content Container */}\r\n            <div className=\"absolute inset-0 flex flex-col justify-end p-6\">\r\n              {/* Logo & Title Section */}\r\n              <div className=\"flex flex-col items-center text-center transition-all duration-300\">\r\n                {/* Logo container - transparent for all marketplaces (backgrounds contain logos) */}\r\n                <motion.div \r\n                  layoutId={`logo-${marketplace.id}`}\r\n                  className=\"relative flex items-center justify-center transition-all duration-500 bg-transparent border-none shadow-none\"\r\n                  style={{\r\n                    transformStyle: 'preserve-3d',\r\n                    transform: isActive ? 'translateZ(20px)' : 'translateZ(0px)',\r\n                    background: 'transparent',\r\n                    boxShadow: 'none',\r\n                    border: 'none'\r\n                  }}\r\n                >\r\n                  {/* Logo rendering removed - backgrounds contain integrated logos */}\r\n                </motion.div>\r\n\r\n                {/* Text Content - Only visible/expanded when active */}\r\n                <div className={cn(\r\n                  \"overflow-hidden transition-all duration-500\",\r\n                  isActive ? \"max-h-[200px] opacity-100\" : \"max-h-0 opacity-0\"\r\n                )}>\r\n                  <h3 className=\"text-3xl font-bold text-white mb-2\">{marketplace.name}</h3>\r\n                  \r\n                  <div className=\"flex items-center justify-center gap-2 mb-4\">\r\n                    <Badge variant=\"secondary\" className=\"bg-white/10 text-white hover:bg-white/20 border-0\">\r\n                      {marketplace.region}\r\n                    </Badge>\r\n                    <div className=\"flex items-center gap-1 text-sm text-gray-300\">\r\n                      {getStatusIcon(marketplace.status)}\r\n                      <span>{marketplace.status.isConnected ? 'Conectado' : 'Desconectado'}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <Button \r\n                    className=\"w-full bg-white text-black hover:bg-gray-200 transition-colors font-bold group\"\r\n                  >\r\n                    Acessar Dashboard\r\n                    <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\r\n                  </Button>\r\n                </div>\r\n\r\n                {/* Vertical Text for Inactive State */}\r\n                <div className={cn(\r\n                  \"absolute bottom-8 left-1/2 -translate-x-1/2 whitespace-nowrap transition-all duration-500\",\r\n                  isActive ? \"opacity-0 translate-y-10\" : \"opacity-100 translate-y-0\"\r\n                )}>\r\n                  <span className=\"text-white/80 font-medium tracking-wider text-sm uppercase\">\r\n                    {marketplace.name}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Selection Indicator */}\r\n            {isSelected && (\r\n              <div className=\"absolute top-4 right-4\">\r\n                <div className=\"w-3 h-3 bg-green-500 rounded-full shadow-[0_0_10px_rgba(34,197,94,0.8)] animate-pulse\" />\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceDashboard\\DashboardHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceDashboard\\OverviewCards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceDashboard\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceDashboard\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceDashboard\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceInsights.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MarketplaceLogos.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\ModernMarketplaceCarousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\MultiMarketplaceDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\NotificationCenter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\ProductManagementPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\ProductManagementPanel\\animations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\ProductManagementPanel\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\ProductManagementPanel\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\marketplace\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\metrics\\MetricsSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\metrics\\PricingChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\metrics\\RevenueMetrics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\mobile\\MobileCalculatorKeypad.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\mobile\\MobileNavigationBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\mobile\\MobileNotificationSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\mobile\\MobilePullToRefresh.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\mobile\\OfflineIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\mobile\\SwipeableHistoryItem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\mobile\\TouchOptimizedInputs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\modals\\DynamicPricingModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'simulating' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":53,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":53,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":55,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":55,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2136,2139],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2136,2139],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":92,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":92,"endColumn":20,"suggestions":[{"fix":{"range":[3002,3045],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":220,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":220,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7671,7674],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7671,7674],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":246,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":246,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8765,8768],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8765,8768],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * =====================================================\n * DYNAMIC PRICING MODAL\n * =====================================================\n * Modal para configurar e aplicar precifica├º├úo din├ómica\n * =====================================================\n */\n\nimport { useState } from 'react';\nimport { CheckCircle2, Loader2, Sliders, Target, TrendingUp, Zap } from 'lucide-react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Slider } from '@/components/ui/slider';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport dynamicPricingEngine, { type PriceSimulation } from '@/azuria_ai/engines/dynamicPricingEngine';\n\ninterface DynamicPricingModalProps {\n  trigger?: React.ReactNode;\n  product?: {\n    id?: string;\n    name: string;\n    currentPrice: number;\n    cost: number;\n  };\n  onOptimized?: (newPrice: number) => void;\n}\n\nexport function DynamicPricingModal({ trigger, product, onOptimized }: DynamicPricingModalProps) {\n  const [open, setOpen] = useState(false);\n  const [step, setStep] = useState<'config' | 'simulation' | 'result'>('config');\n  \n  // Config\n  const [strategy, setStrategy] = useState<string>('competitive');\n  const [objective, setObjective] = useState<'revenue' | 'margin' | 'volume' | 'balanced'>('balanced');\n  const [priceRange, setPriceRange] = useState<[number, number]>([\n    product ? product.currentPrice * 0.8 : 50,\n    product ? product.currentPrice * 1.2 : 150,\n  ]);\n  \n  // Simulation\n  const [simulating, setSimulating] = useState(false);\n  const [simulation, setSimulation] = useState<PriceSimulation | null>(null);\n  const [optimizationResult, setOptimizationResult] = useState<any>(null);\n\n  const handleSimulate = async () => {\n    if (!product) {return;}\n\n    try {\n      setSimulating(true);\n      setStep('simulation');\n\n      // Executar simula├º├úo\n      const sim = await dynamicPricingEngine.simulatePriceChange(\n        product.name,\n        product.currentPrice,\n        product.cost,\n        {\n          min: priceRange[0],\n          max: priceRange[1],\n          step: (priceRange[1] - priceRange[0]) / 10,\n        }\n      );\n\n      setSimulation(sim);\n\n      // Otimizar pre├ºo\n      const opt = await dynamicPricingEngine.optimizePrice(\n        {\n          name: product.name,\n          currentPrice: product.currentPrice,\n          cost: product.cost,\n          avgSales: 100, // Mock - pegar dados reais\n        },\n        objective\n      );\n\n      setOptimizationResult(opt);\n      setStep('result');\n    } catch (error) {\n      console.error('Erro na simula├º├úo:', error);\n    } finally {\n      setSimulating(false);\n    }\n  };\n\n  const handleApplyPrice = () => {\n    if (optimizationResult && onOptimized) {\n      onOptimized(optimizationResult.optimalPrice);\n      setOpen(false);\n      resetState();\n    }\n  };\n\n  const resetState = () => {\n    setStep('config');\n    setSimulation(null);\n    setOptimizationResult(null);\n  };\n\n  const getStrategyLabel = (s: string) => {\n    const labels: Record<string, string> = {\n      aggressive: 'Agressiva (volume m├íximo)',\n      competitive: 'Competitiva (equilibrado)',\n      premium: 'Premium (margem m├íxima)',\n      value: 'Valor (melhor custo-benef├¡cio)',\n      dynamic: 'Din├ómica (adapta ao contexto)',\n    };\n    return labels[s] || s;\n  };\n\n  const getObjectiveLabel = (o: string) => {\n    const labels: Record<string, string> = {\n      revenue: 'Maximizar Receita',\n      margin: 'Maximizar Margem',\n      volume: 'Maximizar Volume',\n      balanced: 'Equilibrado',\n    };\n    return labels[o] || o;\n  };\n\n  const getImpactColor = (impact: string) => {\n    const colors: Record<string, string> = {\n      revenue_max: 'text-green-600',\n      margin_max: 'text-blue-600',\n      volume_max: 'text-purple-600',\n      balanced: 'text-yellow-600',\n    };\n    return colors[impact] || 'text-gray-600';\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        {trigger || (\n          <Button>\n            <Zap className=\"mr-2 h-4 w-4\" />\n            Precifica├º├úo Din├ómica\n          </Button>\n        )}\n      </DialogTrigger>\n\n      <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Zap className=\"h-5 w-5 text-primary\" />\n            Precifica├º├úo Din├ómica Inteligente\n          </DialogTitle>\n          <DialogDescription>\n            Configure par├ómetros e deixe a IA otimizar o pre├ºo automaticamente\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 mt-4\">\n          {/* Step 1: Config */}\n          {step === 'config' && (\n            <>\n              {product && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">Produto</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-2\">\n                    <div>\n                      <p className=\"text-sm font-medium\">{product.name}</p>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                      <div>\n                        <p className=\"text-muted-foreground\">Pre├ºo Atual</p>\n                        <p className=\"font-bold\">R$ {product.currentPrice.toFixed(2)}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-muted-foreground\">Custo</p>\n                        <p className=\"font-bold\">R$ {product.cost.toFixed(2)}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n\n              <div className=\"space-y-4\">\n                {/* Estrat├®gia */}\n                <div className=\"space-y-2\">\n                  <Label>Estrat├®gia de Precifica├º├úo</Label>\n                  <Select value={strategy} onValueChange={setStrategy}>\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {['aggressive', 'competitive', 'premium', 'value', 'dynamic'].map((s) => (\n                        <SelectItem key={s} value={s}>\n                          {getStrategyLabel(s)}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <p className=\"text-xs text-muted-foreground\">\n                    {strategy === 'aggressive' && 'Foca em volume, menor pre├ºo poss├¡vel mantendo margem m├¡nima'}\n                    {strategy === 'competitive' && 'Equilibra pre├ºo e margem baseado na concorr├¬ncia'}\n                    {strategy === 'premium' && 'Maximiza margem, posicionamento de valor'}\n                    {strategy === 'value' && 'Melhor rela├º├úo custo-benef├¡cio para o cliente'}\n                    {strategy === 'dynamic' && 'Ajusta automaticamente baseado em m├║ltiplos fatores'}\n                  </p>\n                </div>\n\n                {/* Objetivo */}\n                <div className=\"space-y-2\">\n                  <Label>Objetivo de Otimiza├º├úo</Label>\n                  <Select value={objective} onValueChange={(v: any) => setObjective(v)}>\n                    <SelectTrigger>\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {(['revenue', 'margin', 'volume', 'balanced'] as const).map((o) => (\n                        <SelectItem key={o} value={o}>\n                          {getObjectiveLabel(o)}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {/* Range de Pre├ºo */}\n                <div className=\"space-y-2\">\n                  <Label>Faixa de Simula├º├úo</Label>\n                  <div className=\"flex items-center gap-4\">\n                    <Input\n                      type=\"number\"\n                      value={priceRange[0]}\n                      onChange={(e) => setPriceRange([parseFloat(e.target.value), priceRange[1]])}\n                      className=\"w-24\"\n                    />\n                    <Slider\n                      value={priceRange}\n                      onValueChange={(v: any) => setPriceRange(v)}\n                      min={product ? product.cost : 10}\n                      max={product ? product.currentPrice * 2 : 200}\n                      step={1}\n                      className=\"flex-1\"\n                    />\n                    <Input\n                      type=\"number\"\n                      value={priceRange[1]}\n                      onChange={(e) => setPriceRange([priceRange[0], parseFloat(e.target.value)])}\n                      className=\"w-24\"\n                    />\n                  </div>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Simular pre├ºos de R$ {priceRange[0].toFixed(2)} at├® R$ {priceRange[1].toFixed(2)}\n                  </p>\n                </div>\n              </div>\n\n              <Button className=\"w-full\" onClick={handleSimulate} disabled={!product}>\n                <Target className=\"mr-2 h-4 w-4\" />\n                Simular e Otimizar\n              </Button>\n            </>\n          )}\n\n          {/* Step 2: Simulating */}\n          {step === 'simulation' && (\n            <div className=\"text-center py-8 space-y-4\">\n              <Loader2 className=\"h-12 w-12 animate-spin mx-auto text-primary\" />\n              <div>\n                <p className=\"text-lg font-semibold\">Analisando Cen├írios...</p>\n                <p className=\"text-sm text-muted-foreground\">\n                  Simulando {Math.floor((priceRange[1] - priceRange[0]) / 1) + 1} cen├írios de pre├ºo\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Result */}\n          {step === 'result' && optimizationResult && simulation && (\n            <div className=\"space-y-4\">\n              <Alert>\n                <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n                <AlertDescription>\n                  An├ílise completa! Pre├ºo otimizado calculado com {(optimizationResult.confidence * 100).toFixed(0)}% de confian├ºa\n                </AlertDescription>\n              </Alert>\n\n              {/* Pre├ºo Recomendado */}\n              <Card className=\"border-primary\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center justify-between\">\n                    <span>Pre├ºo Otimizado</span>\n                    <Badge variant=\"outline\" className={getImpactColor(simulation.estimatedImpact)}>\n                      {simulation.estimatedImpact}\n                    </Badge>\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"text-center\">\n                    <p className=\"text-sm text-muted-foreground\">De R$ {product?.currentPrice.toFixed(2)}</p>\n                    <TrendingUp className=\"h-6 w-6 mx-auto my-2 text-primary\" />\n                    <p className=\"text-4xl font-bold text-primary\">\n                      R$ {optimizationResult.optimalPrice.toFixed(2)}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground mt-2\">\n                      {((optimizationResult.optimalPrice - (product?.currentPrice || 0)) / (product?.currentPrice || 1) * 100).toFixed(1)}% \n                      {optimizationResult.optimalPrice > (product?.currentPrice || 0) ? ' acima' : ' abaixo'}\n                    </p>\n                  </div>\n\n                  {/* Impacto Estimado */}\n                  <div className=\"grid grid-cols-3 gap-4 text-center\">\n                    <div>\n                      <p className=\"text-2xl font-bold text-green-600\">\n                        R$ {optimizationResult.expectedRevenue.toFixed(0)}\n                      </p>\n                      <p className=\"text-xs text-muted-foreground\">Receita Estimada</p>\n                    </div>\n                    <div>\n                      <p className=\"text-2xl font-bold text-blue-600\">\n                        {optimizationResult.expectedMargin.toFixed(1)}%\n                      </p>\n                      <p className=\"text-xs text-muted-foreground\">Margem</p>\n                    </div>\n                    <div>\n                      <p className=\"text-2xl font-bold text-purple-600\">\n                        {optimizationResult.expectedVolume}\n                      </p>\n                      <p className=\"text-xs text-muted-foreground\">Volume/m├¬s</p>\n                    </div>\n                  </div>\n\n                  {/* Racioc├¡nio */}\n                  <div className=\"p-3 bg-muted rounded-lg\">\n                    <p className=\"text-xs font-medium mb-1\">An├ílise da IA:</p>\n                    <p className=\"text-sm text-muted-foreground\">{optimizationResult.reasoning}</p>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Cen├írios Simulados */}\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-base\">Cen├írios Simulados</CardTitle>\n                  <CardDescription>\n                    {simulation.scenarios.length} cen├írios analisados\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n                    {simulation.scenarios.map((scenario, idx) => (\n                      <div\n                        key={idx}\n                        className={`flex items-center justify-between p-2 rounded ${\n                          Math.abs(scenario.price - optimizationResult.optimalPrice) < 1\n                            ? 'bg-primary/10 border border-primary'\n                            : 'bg-muted'\n                        }`}\n                      >\n                        <span className=\"text-sm font-medium\">R$ {scenario.price.toFixed(2)}</span>\n                        <div className=\"flex items-center gap-4 text-xs\">\n                          <span>{scenario.estimatedSales} vendas</span>\n                          <span>R$ {scenario.estimatedRevenue.toFixed(0)}</span>\n                          <span className=\"text-green-600\">{scenario.margin.toFixed(1)}%</span>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Actions */}\n              <div className=\"flex gap-2\">\n                <Button className=\"flex-1\" onClick={handleApplyPrice}>\n                  <CheckCircle2 className=\"mr-2 h-4 w-4\" />\n                  Aplicar Pre├ºo\n                </Button>\n                <Button variant=\"outline\" onClick={resetState}>\n                  <Sliders className=\"mr-2 h-4 w-4\" />\n                  Nova Simula├º├úo\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\modals\\InvoiceOCRModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\monetization\\AffiliateSystem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\monetization\\ConsultingServices.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\monetization\\TemplateMarketplace.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\monetization\\TrainingCertification.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\monitoring\\MonitoringDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\monitoring\\PerformanceDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\monitoring\\ProductionDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\multi-tenant\\ConsolidatedDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\multi-tenant\\OrganizationSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\multi-tenant\\StoreManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\notifications\\NotificationCenter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\notifications\\SmartNotificationCenter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\offline\\OfflineIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\onboarding\\OnboardingOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\onboarding\\OnboardingProvider.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":191,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":191,"endColumn":27,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\onboarding\\OnboardingSteps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\onboarding\\OnboardingSystem.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\onboarding\\OnboardingTour.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\payment\\AbacatePayCheckout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\payment\\MercadoPagoCheckout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\paywall\\UsageLimitDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pdf\\BatchPdfExportButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pdf\\PdfExportDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\BackgroundSyncManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\ImageOptimizer.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":218,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":218,"endColumn":31,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":240,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":240,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\InfiniteVirtualizedList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\LazyComponentLoader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\LazySection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\LazyWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\OptimizedCalculatorComponents.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\OptimizedImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\PWAInstallBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\PWAInstallPrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\PerformanceDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\PerformanceMonitor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\VirtualizedList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\lazy-helpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\lazy-utils.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":10,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":10,"endColumn":29,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":48,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":48,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\performance\\useInfiniteScroll.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pricing\\BillingToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pricing\\PlanCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pricing\\PricingCards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pricing\\PricingFAQ.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pricing\\PricingHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pro\\ContextualProBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pro\\ProUpgradeModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\pro\\SmartProTrigger.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\reports\\ExportOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\reports\\ScheduledReportsManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\AuditLogs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\DataBackup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\LGPDCompliance.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\PerformanceOptimizationDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\RateLimitStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\RoleManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\SecurityContext.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\SecurityDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\SecurityProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\TableStatsMonitor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\TwoFactorAuth.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\audit-logs\\AuditLogFilters.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\audit-logs\\AuditLogsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\securityEvents.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\two-factor\\BackupCodes.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\two-factor\\TwoFactorSetup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\security\\two-factor\\TwoFactorStatus.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\seo\\SEOHead.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\seo\\StructuredData.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\settings\\SettingsBusinessTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\settings\\SettingsNotificationsTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\settings\\SettingsProfileTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\settings\\SettingsSecurityTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\settings\\SettingsSubscriptionTab.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\settings\\SettingsTabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\shortcuts\\GlobalShortcuts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\showcase\\ModernUIShowcase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\subscription\\FeatureGate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\subscription\\LimitReachedBlock.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\subscription\\PlanChangeHistory.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\subscription\\PlanComparison.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\subscription\\PricingCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\subscription\\SubscriptionBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\subscription\\SubscriptionButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\subscription\\UsageDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\system\\PrefetchOnIdle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\templates\\TemplateMarketplace.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\templates\\TemplateSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\theme\\ThemeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\tour\\TourButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\tour\\TourOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\tour\\TourProvider.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":139,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":139,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\tour\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\tour\\tours.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\tour\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\ContextualTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\FieldGroup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\OptimizedInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\SectionHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\StatCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\ThemeToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\TutorialTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\advanced-loading-spinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\animated-number.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\app-icon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\area-chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\aspect-ratio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\badge-variants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\bar-chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\button-variants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\calendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\carousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\collapsible.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\command.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\context-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\date-range-picker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\error-fallback.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\form.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":169,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":169,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\hover-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\input-otp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\menubar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\navigation-menu-variants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\navigation-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\optimized-image.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\page-transition.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\radio-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\resizable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\sidebar.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":761,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":761,"endColumn":13,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\skeleton-loader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\skeleton-loaders.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\sparkline.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\stat-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\theme-provider.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":138,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":138,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\toaster.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\toggle-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\toggle.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":44,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":44,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ui\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ux\\CalculatorProgressiveUI.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\ux\\ProgressiveDisclosure.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\components\\widgets\\PriceMonitoringWidget.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1025,1028],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1025,1028],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1076,1079],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1076,1079],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1137,1140],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1137,1140],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array.","line":30,"column":6,"nodeType":"ArrayExpression","endLine":30,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [loadData, user]","fix":{"range":[1215,1221],"text":"[loadData, user]"}}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":50,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":50,"endColumn":20,"suggestions":[{"fix":{"range":[1875,1940],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getSeverityColor' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":56,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":56,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * =====================================================\n * PRICE MONITORING WIDGET\n * =====================================================\n * Widget compacto para dashboard mostrando status do monitoramento\n * de pre├ºos e alertas em tempo real\n * =====================================================\n */\n\nimport { useEffect, useState } from 'react';\nimport { AlertCircle, Bell, CheckCircle2, Loader2, RefreshCw, TrendingDown, TrendingUp } from 'lucide-react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport priceMonitoringAgent from '@/azuria_ai/engines/priceMonitoringAgent';\nimport { useAuthContext } from '@/hooks/useAuthContext';\n\nexport function PriceMonitoringWidget() {\n  const { user } = useAuthContext();\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState<any>(null);\n  const [alerts, setAlerts] = useState<any[]>([]);\n  const [suggestions, setSuggestions] = useState<any[]>([]);\n\n  useEffect(() => {\n    if (user) {\n      loadData();\n    }\n  }, [user]);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      \n      // Buscar estat├¡sticas\n      const monitoringStats = priceMonitoringAgent.getMonitoringStats();\n      setStats(monitoringStats);\n      \n      // Buscar alertas n├úo lidos\n      if (user?.id) {\n        const unreadAlerts = await priceMonitoringAgent.getUnreadAlerts(user.id);\n        setAlerts(unreadAlerts.slice(0, 5)); // Top 5\n        \n        // Buscar sugest├Áes pendentes\n        const pendingSuggestions = await priceMonitoringAgent.getPendingSuggestions(user.id);\n        setSuggestions(pendingSuggestions.slice(0, 3)); // Top 3\n      }\n    } catch (error) {\n      console.error('Erro ao carregar dados de monitoramento:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getSeverityColor = (severity: string) => {\n    const colors = {\n      critical: 'destructive',\n      high: 'destructive',\n      medium: 'default',\n      low: 'secondary',\n    };\n    return colors[severity as keyof typeof colors] || 'default';\n  };\n\n  const getSeverityIcon = (severity: string) => {\n    if (severity === 'critical' || severity === 'high') {return AlertCircle;}\n    return Bell;\n  };\n\n  const handleMarkAsRead = async (alertId: string) => {\n    await priceMonitoringAgent.markAlertAsRead(alertId);\n    setAlerts(alerts.filter(a => a.id !== alertId));\n  };\n\n  const handleApplySuggestion = async (suggestionId: string) => {\n    await priceMonitoringAgent.applySuggestion(suggestionId);\n    setSuggestions(suggestions.filter(s => s.id !== suggestionId));\n    loadData(); // Recarregar\n  };\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Loader2 className=\"h-5 w-5 animate-spin\" />\n            Monitor de Pre├ºos\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-sm text-muted-foreground\">Carregando...</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <TrendingUp className=\"h-5 w-5 text-primary\" />\n            <CardTitle>Monitor de Pre├ºos</CardTitle>\n          </div>\n          <Button variant=\"ghost\" size=\"icon\" onClick={loadData}>\n            <RefreshCw className=\"h-4 w-4\" />\n          </Button>\n        </div>\n        <CardDescription>\n          Monitoramento autom├ítico de pre├ºos e concorr├¬ncia\n        </CardDescription>\n      </CardHeader>\n\n      <CardContent className=\"space-y-4\">\n        {/* Status */}\n        <div className=\"flex items-center justify-between p-3 bg-muted rounded-lg\">\n          <div className=\"flex items-center gap-2\">\n            {stats?.isRunning ? (\n              <CheckCircle2 className=\"h-4 w-4 text-green-500\" />\n            ) : (\n              <AlertCircle className=\"h-4 w-4 text-yellow-500\" />\n            )}\n            <span className=\"text-sm font-medium\">\n              {stats?.isRunning ? 'Monitoramento Ativo' : 'Monitoramento Pausado'}\n            </span>\n          </div>\n          <Badge variant={stats?.isRunning ? 'default' : 'secondary'}>\n            {stats?.productsMonitored || 0} produtos\n          </Badge>\n        </div>\n\n        {/* Alertas */}\n        {alerts.length > 0 && (\n          <div className=\"space-y-2\">\n            <h4 className=\"text-sm font-semibold flex items-center gap-2\">\n              <Bell className=\"h-4 w-4\" />\n              Alertas Recentes\n            </h4>\n            {alerts.map((alert) => {\n              const Icon = getSeverityIcon(alert.severity);\n              return (\n                <Alert key={alert.id} variant=\"default\" className=\"py-2\">\n                  <Icon className=\"h-4 w-4\" />\n                  <AlertDescription className=\"flex items-start justify-between\">\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm font-medium\">{alert.title}</p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">{alert.message}</p>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => handleMarkAsRead(alert.id)}\n                    >\n                      OK\n                    </Button>\n                  </AlertDescription>\n                </Alert>\n              );\n            })}\n          </div>\n        )}\n\n        {/* Sugest├Áes */}\n        {suggestions.length > 0 && (\n          <div className=\"space-y-2\">\n            <h4 className=\"text-sm font-semibold flex items-center gap-2\">\n              <TrendingDown className=\"h-4 w-4\" />\n              Sugest├Áes de Ajuste\n            </h4>\n            {suggestions.map((suggestion) => (\n              <div\n                key={suggestion.id}\n                className=\"p-3 border rounded-lg space-y-2\"\n              >\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm font-medium\">\n                    De R$ {suggestion.currentPrice.toFixed(2)} ÔåÆ R$ {suggestion.suggestedPrice.toFixed(2)}\n                  </span>\n                  <Badge variant={suggestion.priceChange < 0 ? 'destructive' : 'default'}>\n                    {suggestion.priceChangePercent.toFixed(1)}%\n                  </Badge>\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  {suggestion.analysis?.recommendation || 'Ajuste recomendado'}\n                </p>\n                <div className=\"flex gap-2\">\n                  <Button\n                    size=\"sm\"\n                    variant=\"default\"\n                    onClick={() => handleApplySuggestion(suggestion.id)}\n                  >\n                    Aplicar\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={async () => {\n                      await priceMonitoringAgent.rejectSuggestion(suggestion.id);\n                      setSuggestions(suggestions.filter(s => s.id !== suggestion.id));\n                    }}\n                  >\n                    Recusar\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Estat├¡sticas */}\n        <div className=\"grid grid-cols-2 gap-2 pt-2 border-t\">\n          <div className=\"text-center\">\n            <p className=\"text-2xl font-bold\">{stats?.competitorsPricesCollected || 0}</p>\n            <p className=\"text-xs text-muted-foreground\">Pre├ºos Coletados</p>\n          </div>\n          <div className=\"text-center\">\n            <p className=\"text-2xl font-bold\">{stats?.alertsGenerated || 0}</p>\n            <p className=\"text-xs text-muted-foreground\">Alertas Gerados</p>\n          </div>\n        </div>\n\n        <Button variant=\"outline\" className=\"w-full\" asChild>\n          <a href=\"/price-monitoring\">Ver Detalhes</a>\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\config\\abacatepay.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\config\\admin.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":11,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":11,"endColumn":15,"suggestions":[{"fix":{"range":[379,513],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Admin UID para uso no frontend\r\n * \r\n * SECURITY: Deve ser configurado via vari├ível de ambiente VITE_ADMIN_UID\r\n * O frontend usa isso para enviar nos headers das requisi├º├Áes admin\r\n */\r\nexport const ADMIN_UID_FRONT = import.meta.env.VITE_ADMIN_UID || '';\r\n\r\n// Valida├º├úo em dev para alertar sobre configura├º├úo faltando\r\nif (!ADMIN_UID_FRONT && import.meta.env.DEV) {\r\n  console.warn(\r\n    '[SECURITY WARNING] VITE_ADMIN_UID n├úo configurado. ' +\r\n    'Funcionalidades admin n├úo estar├úo dispon├¡veis.'\r\n  );\r\n}\r\n\r\n/**\r\n * Verifica se o admin est├í configurado no frontend\r\n */\r\nexport function isAdminConfigured(): boolean {\r\n  return ADMIN_UID_FRONT.length >= 32;\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\config\\ai.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\config\\monitoring.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\config\\plans.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\config\\security.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\contexts\\MultiTenantContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\contexts\\multiTenantContextInstance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\contexts\\useMultiTenant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\data\\features.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\data\\marketplaces.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\data\\planBenefits.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\data\\taxRegimes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\analytics\\context\\AnalyticsContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":230,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":230,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":284,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":284,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\analytics\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\auth\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\auth\\context\\AuthContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":169,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":169,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":191,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":191,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\auth\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\auth\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\auth\\services\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\auth\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\auth\\utils\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\automation\\schemas\\automationSchemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\automation\\services\\automationService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\ActionButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\AdvancedCalculatorResult.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\AdvancedExportOptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\CalculationResult.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\CalculatorContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\CompetitorAnalysisDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\CostSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\SimpleCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\context\\CalculatorContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":267,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":267,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\legacy\\useSimpleCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useAdvancedCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useCalculation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useCalculatorExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useCalculatorInputs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useCalculatorPricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useCalculatorPricingOptimized.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useCalculatorResult.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useCalculatorUI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useCalculatorWithServices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useManualPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\hooks\\useManualPricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\services\\CalculationService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\services\\HistoryService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\services\\OfflineService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\services\\ValidationService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\services\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\types\\advanced.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\types\\advancedCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\types\\calculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\types\\export.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\types\\ui.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\utils\\calculateSellingPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\utils\\formatCurrency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\utils\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\utils\\parseInputValue.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\calculator\\utils\\validateInput.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\marketplace\\context\\MarketplaceContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\marketplace\\context\\MarketplaceContextBase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\marketplace\\context\\__tests__\\types.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\marketplace\\context\\actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\marketplace\\context\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\marketplace\\context\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\marketplace\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\performance\\context\\PerformanceContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":360,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":360,"endColumn":35,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":434,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":434,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\performance\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\security\\context\\SecurityContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":470,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":470,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":514,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":514,"endColumn":29,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\security\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\shared\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\subscription\\hooks\\useSubscriptionLimits.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\subscription\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\subscription\\services\\limits.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\domains\\subscription\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\examples\\marketplace-examples.tsx","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":20,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":20,"endColumn":16,"suggestions":[{"fix":{"range":[695,738],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":50,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":50,"endColumn":16,"suggestions":[{"fix":{"range":[1521,1563],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":57,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":57,"endColumn":16,"suggestions":[{"fix":{"range":[1700,1755],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":64,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":64,"endColumn":16,"suggestions":[{"fix":{"range":[1910,1946],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":67,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":67,"endColumn":18,"suggestions":[{"fix":{"range":[1975,2017],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":87,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":87,"endColumn":16,"suggestions":[{"fix":{"range":[2562,2631],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":89,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":89,"endColumn":18,"suggestions":[{"fix":{"range":[2658,2708],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":110,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":110,"endColumn":16,"suggestions":[{"fix":{"range":[3318,3383],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":115,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":115,"endColumn":16,"suggestions":[{"fix":{"range":[3493,3540],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":121,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":121,"endColumn":18,"suggestions":[{"fix":{"range":[3654,3710],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":135,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":135,"endColumn":18,"suggestions":[{"fix":{"range":[4066,4108],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":139,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":139,"endColumn":18,"suggestions":[{"fix":{"range":[4210,4279],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":143,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":143,"endColumn":18,"suggestions":[{"fix":{"range":[4373,4437],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":146,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":146,"endColumn":20,"suggestions":[{"fix":{"range":[4470,4517],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":251,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":251,"endColumn":18,"suggestions":[{"fix":{"range":[7862,7910],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":255,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":255,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7950,7953],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7950,7953],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":258,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":258,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8102,8105],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8102,8105],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":279,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":279,"endColumn":22,"suggestions":[{"fix":{"range":[8703,8749],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":283,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":283,"endColumn":22,"suggestions":[{"fix":{"range":[8807,8847],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":287,"column":11,"nodeType":"MemberExpression","messageId":"unexpected","endLine":287,"endColumn":22,"suggestions":[{"fix":{"range":[8908,8955],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\examples\\ui-ux-examples.tsx","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":137,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":137,"endColumn":18,"suggestions":[{"fix":{"range":[3964,3996],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":151,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":151,"endColumn":18,"suggestions":[{"fix":{"range":[4262,4291],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":236,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":236,"endColumn":18,"suggestions":[{"fix":{"range":[6297,6342],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":269,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":269,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\use-mobile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useABTesting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAIChatbot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAIMarketAnalysis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAIPredictions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAbacatePay.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAccessibility.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAdvancedAutomation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAdvancedBusinessMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAdvancedCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAdvancedCalculatorHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAdvancedExportReports.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAdvancedRateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAdvancedReports.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useApiManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAuditLog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAuditLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAzuriaAI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useAzuriaChat.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useBiddingCalculator.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":74,"column":40,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":74,"endColumn":50,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":165,"column":12,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":165,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":206,"column":23,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":206,"endColumn":38,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":213,"column":23,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":213,"endColumn":38,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":220,"column":22,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":220,"endColumn":36,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":233,"column":9,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":233,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":234,"column":9,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":234,"endColumn":27,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":235,"column":9,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":235,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":326,"column":14,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":326,"endColumn":27,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-non-null-assertion","severity":1,"message":"Forbidden non-null assertion.","line":386,"column":15,"nodeType":"TSNonNullExpression","messageId":"noNonNull","endLine":386,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useBiddingCenter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useBidirectionalWebhooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useBreakEvenROI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useBusinessMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useBusinessSettings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useCalculationHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useCollaboration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useComparison.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useCompetitorAlerts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useCompetitors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useConsolidatedMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useDashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useDashboardStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useDashboardStats\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useDashboardStats\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useDiscountAnalyzer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useDocumentos.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":106,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":106,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2742,2745],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2742,2745],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":168,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":168,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4489,4492],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4489,4492],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":204,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":204,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5419,5422],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5419,5422],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useToast } from '@/components/ui/use-toast';\n\nexport interface Documento {\n  id: string;\n  user_id: string;\n  tipo: string;\n  nome: string;\n  numero?: string;\n  data_emissao: string;\n  data_validade: string;\n  arquivo_url?: string;\n  status: 'valido' | 'proximo_vencimento' | 'vencido';\n  dias_para_vencer: number;\n  observacoes?: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface CreateDocumentoParams {\n  tipo: string;\n  nome: string;\n  numero?: string;\n  data_emissao: string;\n  data_validade: string;\n  arquivo_url?: string;\n  observacoes?: string;\n}\n\nexport interface UploadFileParams {\n  file: File;\n  userId: string;\n}\n\nexport function useDocumentos() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Buscar todos os documentos do usu├írio\n  const {\n    data: documentos,\n    isLoading,\n    error,\n  } = useQuery({\n    queryKey: ['documentos'],\n    queryFn: async () => {\n      const { data, error } = await supabase\n        .from('documentos')\n        .select('*')\n        .order('data_validade', { ascending: true });\n\n      if (error) {\n        throw error;\n      }\n      return data as Documento[];\n    },\n  });\n\n  // Upload de arquivo para Storage\n  const uploadFile = useMutation({\n    mutationFn: async ({ file, userId }: UploadFileParams) => {\n      const fileExt = file.name.split('.').pop();\n      const fileName = `${Date.now()}-${Math.random()\n        .toString(36)\n        .substring(7)}.${fileExt}`;\n      const filePath = `${userId}/${fileName}`;\n\n      const { data, error } = await supabase.storage\n        .from('documentos')\n        .upload(filePath, file);\n\n      if (error) {\n        throw error;\n      }\n      return data.path;\n    },\n    onError: (error: Error) => {\n      toast({\n        title: 'Erro no upload',\n        description: error.message,\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Criar documento\n  const createDocumento = useMutation({\n    mutationFn: async (params: CreateDocumentoParams) => {\n      const { data: userData } = await supabase.auth.getUser();\n      if (!userData.user) {\n        throw new Error('Usu├írio n├úo autenticado');\n      }\n\n      const { data, error } = await supabase\n        .from('documentos')\n        .insert({\n          user_id: userData.user.id,\n          tipo: params.tipo,\n          nome: params.nome,\n          numero: params.numero ?? null,\n          data_emissao: params.data_emissao,\n          data_validade: params.data_validade,\n          arquivo_url: params.arquivo_url ?? null,\n          observacoes: params.observacoes ?? null,\n        } as any)\n        .select()\n        .single();\n\n      if (error) {\n        throw error;\n      }\n      return data as Documento;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['documentos'] });\n      toast({\n        title: 'Sucesso!',\n        description: 'Documento cadastrado com sucesso.',\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: 'Erro ao cadastrar',\n        description: error.message,\n        variant: 'destructive',\n      });\n    },\n  });\n\n  const updateDocumento = useMutation({\n    mutationFn: async ({\n      id,\n      ...params\n    }: Partial<Documento> & { id: string }) => {\n      const updateData: Partial<Omit<Documento, 'id' | 'created_at'>> = {};\n\n      if (params.tipo !== undefined) {\n        updateData.tipo = params.tipo;\n      }\n      if (params.nome !== undefined) {\n        updateData.nome = params.nome;\n      }\n      if (params.numero !== undefined) {\n        updateData.numero = params.numero;\n      }\n      if (params.data_emissao !== undefined) {\n        updateData.data_emissao = params.data_emissao;\n      }\n      if (params.data_validade !== undefined) {\n        updateData.data_validade = params.data_validade;\n      }\n      if (params.arquivo_url !== undefined) {\n        updateData.arquivo_url = params.arquivo_url;\n      }\n      if (params.status !== undefined) {\n        updateData.status = params.status;\n      }\n      if (params.dias_para_vencer !== undefined) {\n        updateData.dias_para_vencer = params.dias_para_vencer;\n      }\n      if (params.observacoes !== undefined) {\n        updateData.observacoes = params.observacoes;\n      }\n\n      const { data, error } = await supabase\n        .from('documentos')\n        .update(updateData as any)\n        .eq('id', id)\n        .select()\n        .single();\n\n      if (error) {\n        throw error;\n      }\n      return data as Documento;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['documentos'] });\n      toast({\n        title: 'Atualizado!',\n        description: 'Documento atualizado com sucesso.',\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: 'Erro ao atualizar',\n        description: error.message,\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Deletar documento\n  const deleteDocumento = useMutation({\n    mutationFn: async (id: string) => {\n      // Buscar documento para pegar arquivo_url\n      const { data: documento, error: fetchError } = (await supabase\n        .from('documentos')\n        .select('arquivo_url')\n        .eq('id', id)\n        .single()) as {\n        data: { arquivo_url: string | null } | null;\n        error: any;\n      };\n\n      if (fetchError) {\n        throw fetchError;\n      }\n\n      // Deletar arquivo do storage se existir\n      if (documento && documento.arquivo_url) {\n        await supabase.storage\n          .from('documentos')\n          .remove([documento.arquivo_url]);\n      }\n\n      // Deletar registro do banco\n      const { error } = await supabase.from('documentos').delete().eq('id', id);\n\n      if (error) {\n        throw error;\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['documentos'] });\n      toast({\n        title: 'Exclu├¡do!',\n        description: 'Documento exclu├¡do com sucesso.',\n      });\n    },\n    onError: (error: Error) => {\n      toast({\n        title: 'Erro ao excluir',\n        description: error.message,\n        variant: 'destructive',\n      });\n    },\n  });\n\n  // Download de arquivo\n  const downloadFile = async (filePath: string, fileName: string) => {\n    try {\n      const { data, error } = await supabase.storage\n        .from('documentos')\n        .download(filePath);\n\n      if (error) {\n        throw error;\n      }\n\n      // Criar URL tempor├íria e fazer download\n      const url = URL.createObjectURL(data);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = fileName;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n\n      toast({\n        title: 'Download iniciado',\n        description: `Baixando ${fileName}...`,\n      });\n    } catch (error) {\n      toast({\n        title: 'Erro no download',\n        description: (error as Error).message,\n        variant: 'destructive',\n      });\n    }\n  };\n\n  // Buscar documentos pr├│ximos ao vencimento\n  const documentosProximosVencimento = documentos?.filter(\n    doc => doc.status === 'proximo_vencimento' || doc.status === 'vencido'\n  );\n\n  // Buscar documentos vencidos\n  const documentosVencidos = documentos?.filter(\n    doc => doc.status === 'vencido'\n  );\n\n  return {\n    documentos,\n    documentosProximosVencimento,\n    documentosVencidos,\n    isLoading,\n    error,\n    uploadFile,\n    createDocumento,\n    updateDocumento,\n    deleteDocumento,\n    downloadFile,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useEcommerceIntegrations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useFeatureAccess.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useHeatmap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useLazyExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useLazyLoad.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useMLPricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useMarketplaceAPI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useMercadoPago.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useMobileFeatures.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useMonitoring.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":117,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3810,3813],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3810,3813],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":136,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":136,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4652,4655],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4652,4655],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useMultiMarketplaceComparison.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useOfflineCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useOnboarding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useOptimizedHooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\usePWA.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\usePerformanceMonitor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\usePerformanceOptimization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\usePersonalizedRecommendations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\usePlanLimits.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\usePriceHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\usePriceSuggestions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useProStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\usePushNotifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useRateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useRealMarketplaceData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useRealTimeAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useRealTimeHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useRealTimeMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useScenarioSimulator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useSecurityMonitor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useSecurityMonitoring.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useSensitivityAnalysis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useSimpleCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useSimpleCalculatorUI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useStripe.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useSubscription.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useTableStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useTaxCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useTeamManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useTeamMembers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useTeams.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useTemplateApplication.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useTemplates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useTwoFactorAuth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useUserMarketplaceTemplates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useUserRoles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useVirtualScroll.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useWebVitals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\hooks\\useWebhookAutomation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\integrations\\supabase\\client.ts","messages":[],"suppressedMessages":[{"ruleId":"no-new-func","severity":2,"message":"The Function constructor is eval.","line":105,"column":28,"nodeType":"NewExpression","messageId":"noFunctionConstructor","endLine":115,"endColumn":6,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":382,"column":8,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":382,"endColumn":56,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[14283,14331],"text":"// @ts-expect-error - import.meta s├│ existe em runtime"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":408,"column":4,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":408,"endColumn":52,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[15029,15077],"text":"// @ts-expect-error - import.meta s├│ existe em runtime"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\integrations\\supabase\\database.types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\integrations\\supabase\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\integrations\\supabase\\types_new.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\lib\\lazy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\lib\\mercadopago-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\lib\\usage-tracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\middleware\\securityMiddleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AIPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AdminPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AdvancedAnalyticsDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AdvancedApiPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AdvancedProCalculatorPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AnalyticsDashboardPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\ApiPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AutomationPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AzuriaAIHub.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\AzuriaPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\BatchCalculatorPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\BiddingCalculatorPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\BiddingDashboardPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\CollaborationPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\CompetitionAnalysisPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\Dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\DashboardPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\DocumentosPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\DocumentosPageSimple.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\EnterprisePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\HistoryPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\ImportPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\Index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\IntegrationsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\IntelligenceDataPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\IntelligentBatchCalculatorPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\Login.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\MarketplaceAnalyticsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\MarketplaceComparatorPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\MarketplacePage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\MonetizationPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\NotFound.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\NotificationSettingsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\PaymentReturnPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\PaymentSuccessPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\PricingMetricsDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\PricingPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\ProCalculatorPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\ProductsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\ProfitabilityAnalysisPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\ReportsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\RuleDetailsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\ScenariosPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\SecurityDashboardPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\SensitivityAnalysisPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\SettingsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\SimpleCalculatorPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\SubscriptionManagementPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\SupabaseDebug.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\TaxCalculatorPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\Templates.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\TemplatesPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\Welcome.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\pages\\admin\\creator.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useMemo' is defined but never used. Allowed unused vars must match /^_/u.","line":1,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":35},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ModuleHealthMap' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":14,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[832,835],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[832,835],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":16,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[945,948],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[945,948],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1267,1270],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1267,1270],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1348,1351],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1348,1351],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1488,1491],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1488,1491],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useMemo, useState } from 'react';\r\nimport AlertsList from '../../components/creator/AlertsList';\r\nimport { CreatorHeader } from '../../components/creator/CreatorHeader';\r\nimport { ModuleHealthMap } from '../../components/creator/ModuleHealthMap';\r\nimport { RoadmapEditor } from '../../components/creator/RoadmapEditor';\r\nimport { Timeline } from '../../components/creator/Timeline';\r\nimport { EvolutionPanel } from '../../components/creator/EvolutionPanel';\r\nimport { HealthMap } from '../../components/creator/HealthMap';\r\nimport { ADMIN_UID_FRONT } from '../../config/admin';\r\nimport { CopilotPanel } from '../../components/creator/CopilotPanel';\r\n\r\nexport default function CreatorPage() {\r\n  const [counters, setCounters] = useState({ critical: 0, high: 0 });\r\n  const [modules, setModules] = useState<any[]>([]);\r\n  const [roadmap, setRoadmap] = useState<string[]>([]);\r\n  const [timeline, setTimeline] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    // Contadores e timeline a partir dos alertas\r\n    fetch('/api/admin/creator/list', { headers: { 'x-admin': 'true', 'x-admin-uid': ADMIN_UID_FRONT } })\r\n      .then((r) => r.json())\r\n      .then((r) => {\r\n        const data = r.data || [];\r\n        const critical = data.filter((a: any) => a.severity === 'critical').length;\r\n        const high = data.filter((a: any) => a.severity === 'high').length;\r\n        setCounters({ critical, high });\r\n        setTimeline(\r\n          data.slice(0, 10).map((a: any) => ({\r\n            type: a.type || 'alert',\r\n            message: a.message,\r\n            created_at: a.created_at,\r\n          }))\r\n        );\r\n      })\r\n      .catch(() => {});\r\n\r\n    // Health map\r\n    fetch('/api/admin/creator/health', { headers: { 'x-admin': 'true', 'x-admin-uid': ADMIN_UID_FRONT } })\r\n      .then((r) => r.json())\r\n      .then((r) => setModules(r.modules || []))\r\n      .catch(() => {});\r\n\r\n    // Roadmap sugerido\r\n    fetch('/api/admin/creator/roadmap', { headers: { 'x-admin': 'true', 'x-admin-uid': ADMIN_UID_FRONT } })\r\n      .then((r) => r.json())\r\n      .then((r) => setRoadmap(r.roadmap || []))\r\n      .catch(() => {});\r\n\r\n    // Timeline adicional\r\n    fetch('/api/admin/creator/timeline', { headers: { 'x-admin': 'true', 'x-admin-uid': ADMIN_UID_FRONT } })\r\n      .then((r) => r.json())\r\n      .then((r) => setTimeline((prev) => [...(r.timeline || []), ...prev].slice(0, 20)))\r\n      .catch(() => {});\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50\">\r\n      <div className=\"max-w-6xl mx-auto py-6 px-4 space-y-4\">\r\n        <CreatorHeader counters={counters} />\r\n        <div className=\"grid md:grid-cols-3 gap-4\">\r\n          <div className=\"md:col-span-2 space-y-4\">\r\n            <AlertsList />\r\n            <Timeline events={timeline} />\r\n            <EvolutionPanel />\r\n            <CopilotPanel />\r\n          </div>\r\n          <div className=\"space-y-4\">\r\n            <HealthMap modules={modules} />\r\n            <RoadmapEditor items={roadmap} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\agents\\calculoAgent.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\agents\\fiscalAgent.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\agents\\licitacaoAgent.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\agents\\marketplaceAgent.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\agents\\uiAgent.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\aiWebhooks.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\creatorListener.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[243,246],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[243,246],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { on } from '../azuria_ai/core/eventBus';\r\nimport { insertAlert } from './creatorStore';\r\nimport { notifySSE } from './sseManager';\r\nimport { addEvolutionEvent } from './evolutionStore';\r\n\r\nasync function handle(event: string, payload: any) {\r\n  // Se j├í vem persistido (id), apenas propaga\r\n  let alert = payload;\r\n  if (!payload?.id) {\r\n    alert = await insertAlert({\r\n      type: event.includes('roadmap')\r\n        ? 'roadmap'\r\n        : event.includes('recommendation')\r\n        ? 'recommendation'\r\n        : event.includes('insight')\r\n        ? 'insight'\r\n        : 'alert',\r\n      area: payload.area,\r\n      severity: payload.severity,\r\n      message: payload.message || payload.recommendation || 'Alert',\r\n      payload,\r\n      originEngine: payload.originEngine,\r\n      confidence: payload.confidence,\r\n      suggestedAction: payload.suggestedAction,\r\n    });\r\n  }\r\n  notifySSE({ channel: 'creator', event, data: alert });\r\n}\r\n\r\nexport function initCreatorListener() {\r\n  on('ai:creator-alert', (ev) => handle('creator-alert', ev.payload));\r\n  on('ai:creator-insight', (ev) => handle('creator-insight', ev.payload));\r\n  on('ai:creator-recommendation', (ev) => handle('creator-recommendation', ev.payload));\r\n  on('ai:creator-roadmap', (ev) => handle('creator-roadmap', ev.payload));\r\n  on('ai:evolution-learning', (ev) => {\r\n    addEvolutionEvent('learning', ev.payload);\r\n    notifySSE({ channel: 'creator', event: 'creator-evolution', data: ev.payload });\r\n  });\r\n  on('ai:evolution-pattern', (ev) => {\r\n    addEvolutionEvent('pattern', ev.payload);\r\n    notifySSE({ channel: 'creator', event: 'creator-evolution', data: ev.payload });\r\n  });\r\n  on('ai:evolution-insight', (ev) => {\r\n    addEvolutionEvent('insight', ev.payload);\r\n    notifySSE({ channel: 'creator', event: 'creator-evolution', data: ev.payload });\r\n  });\r\n  on('ai:evolution-memory', (ev) => {\r\n    addEvolutionEvent('memory', ev.payload);\r\n    notifySSE({ channel: 'creator', event: 'creator-evolution', data: ev.payload });\r\n  });\r\n  on('ai:evolution-query', (ev) => {\r\n    addEvolutionEvent('query', ev.payload);\r\n    notifySSE({ channel: 'creator', event: 'creator-evolution', data: ev.payload });\r\n  });\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\creatorStore.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":11,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[315,318],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[315,318],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":59,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1994,1997],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1994,1997],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { supabase } from '../integrations/supabase/client';\r\n\r\ntype AlertStatus = 'new' | 'acknowledged' | 'resolved' | 'ignored';\r\n\r\nexport interface CreatorAlert {\r\n  id: string;\r\n  type: 'alert' | 'insight' | 'recommendation' | 'roadmap';\r\n  area?: string;\r\n  severity?: string;\r\n  message: string;\r\n  payload?: any;\r\n  originEngine?: string;\r\n  confidence?: number;\r\n  suggestedAction?: string;\r\n  status: AlertStatus;\r\n  created_at: string | null;\r\n  updated_at: string | null;\r\n}\r\n\r\nexport async function insertAlert(data: Partial<CreatorAlert>): Promise<CreatorAlert> {\r\n  const payload = {\r\n    type: data.type || 'alert',\r\n    area: data.area,\r\n    severity: data.severity || 'medium',\r\n    message: data.message || data.payload?.message || 'Alert',\r\n    payload: data.payload || null,\r\n    status: data.status || 'new',\r\n    originEngine: data.originEngine || data.payload?.originEngine || null,\r\n    confidence: data.confidence ?? data.payload?.confidence ?? null,\r\n    suggestedAction: data.suggestedAction || data.payload?.suggestedAction || null,\r\n  };\r\n\r\n  const { data: rows, error } = await supabase.from('creator_alerts').insert(payload).select().limit(1);\r\n  if (error) {throw error;}\r\n  return rows?.[0] as CreatorAlert;\r\n}\r\n\r\nexport async function listAlerts({ limit = 50 } = {}): Promise<CreatorAlert[]> {\r\n  const { data, error } = await supabase\r\n    .from('creator_alerts')\r\n    .select('*')\r\n    .order('created_at', { ascending: false })\r\n    .limit(limit);\r\n  if (error) {throw error;}\r\n  return (data as CreatorAlert[]) || [];\r\n}\r\n\r\nexport async function updateAlertStatus(id: string, status: AlertStatus) {\r\n  const { data, error } = await supabase\r\n    .from('creator_alerts')\r\n    .update({ status, updated_at: new Date().toISOString() })\r\n    .eq('id', id)\r\n    .select()\r\n    .limit(1);\r\n  if (error) {throw error;}\r\n  return data?.[0] as CreatorAlert | undefined;\r\n}\r\n\r\nexport async function logAdminAction(entry: { adminId: string; action: string; details?: any }) {\r\n  const { error } = await supabase\r\n    .from('admin_actions')\r\n    .insert({\r\n      admin_id: entry.adminId,\r\n      action: entry.action,\r\n      details: entry.details || null,\r\n    });\r\n  if (error) {throw error;}\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\evolutionStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\functionRouter.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\sseManager.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":8,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":11,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[239,242],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[239,242],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":51,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":51,"endColumn":16,"suggestions":[{"fix":{"range":[1298,1362],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":62,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":62,"endColumn":14,"suggestions":[{"fix":{"range":[1599,1644],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":72,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":72,"endColumn":16,"suggestions":[{"fix":{"range":[1870,1928],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":79,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2019,2022],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2019,2022],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":102,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":102,"endColumn":14,"suggestions":[{"fix":{"range":[2615,2685],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":113,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":113,"endColumn":16,"suggestions":[{"fix":{"range":[2877,2950],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":76,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":79,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3183,3186],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3183,3186],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":140,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":140,"endColumn":16,"suggestions":[{"fix":{"range":[3601,3659],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":179,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":179,"endColumn":14,"suggestions":[{"fix":{"range":[4573,4612],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * SSE Manager - Server-Sent Events para o Painel do Criador\r\n * \r\n * Gerencia conex├Áes SSE com heartbeat peri├│dico para manter conex├Áes vivas\r\n * atrav├®s de proxies e load balancers.\r\n */\r\n\r\ntype SSEClient = {\r\n  id: string;\r\n  res: any;\r\n  connectedAt: number;\r\n  lastHeartbeat: number;\r\n};\r\n\r\nconst clients: Map<string, SSEClient> = new Map();\r\n\r\n// Configura├º├úo\r\nconst HEARTBEAT_INTERVAL_MS = 30000; // 30 segundos\r\nconst CLIENT_TIMEOUT_MS = 120000; // 2 minutos sem heartbeat = desconectar\r\n\r\n// Timer do heartbeat\r\nlet heartbeatTimer: ReturnType<typeof setInterval> | null = null;\r\n\r\n/**\r\n * Envia heartbeat para todos os clientes conectados\r\n * Remove clientes que n├úo respondem\r\n */\r\nfunction sendHeartbeatToAll(): void {\r\n  const now = Date.now();\r\n  const deadClients: string[] = [];\r\n\r\n  clients.forEach((client, id) => {\r\n    // Verificar timeout\r\n    if (now - client.lastHeartbeat > CLIENT_TIMEOUT_MS) {\r\n      deadClients.push(id);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      client.res.write(`event: heartbeat\\ndata: ${JSON.stringify({ timestamp: now })}\\n\\n`);\r\n      client.lastHeartbeat = now;\r\n    } catch {\r\n      // Cliente desconectado\r\n      deadClients.push(id);\r\n    }\r\n  });\r\n\r\n  // Remover clientes mortos\r\n  deadClients.forEach(id => {\r\n    clients.delete(id);\r\n    console.log(`[SSE] Client disconnected (timeout/error): ${id}`);\r\n  });\r\n}\r\n\r\n/**\r\n * Inicia o timer de heartbeat se n├úo estiver rodando\r\n */\r\nfunction ensureHeartbeatRunning(): void {\r\n  if (heartbeatTimer) {return;}\r\n  \r\n  heartbeatTimer = setInterval(sendHeartbeatToAll, HEARTBEAT_INTERVAL_MS);\r\n  console.log('[SSE] Heartbeat timer started');\r\n}\r\n\r\n/**\r\n * Para o timer de heartbeat se n├úo h├í clientes\r\n */\r\nfunction stopHeartbeatIfNoClients(): void {\r\n  if (clients.size === 0 && heartbeatTimer) {\r\n    clearInterval(heartbeatTimer);\r\n    heartbeatTimer = null;\r\n    console.log('[SSE] Heartbeat timer stopped (no clients)');\r\n  }\r\n}\r\n\r\n/**\r\n * Registra um novo cliente SSE\r\n */\r\nexport function registerClient(res: any): string {\r\n  const now = Date.now();\r\n  const id = `sse_${now}_${Math.random().toString(16).slice(2)}`;\r\n  \r\n  clients.set(id, { \r\n    id, \r\n    res, \r\n    connectedAt: now,\r\n    lastHeartbeat: now \r\n  });\r\n\r\n  // Enviar heartbeat inicial com info de conex├úo\r\n  try {\r\n    res.write(`event: connected\\ndata: ${JSON.stringify({ clientId: id, timestamp: now })}\\n\\n`);\r\n    res.write(`event: heartbeat\\ndata: ${JSON.stringify({ timestamp: now })}\\n\\n`);\r\n  } catch {\r\n    clients.delete(id);\r\n    return '';\r\n  }\r\n\r\n  // Garantir que heartbeat est├í rodando\r\n  ensureHeartbeatRunning();\r\n  \r\n  console.log(`[SSE] Client connected: ${id} (total: ${clients.size})`);\r\n  return id;\r\n}\r\n\r\n/**\r\n * Remove um cliente SSE\r\n */\r\nexport function unregisterClient(id: string): void {\r\n  const client = clients.get(id);\r\n  if (client) {\r\n    clients.delete(id);\r\n    console.log(`[SSE] Client unregistered: ${id} (total: ${clients.size})`);\r\n    \r\n    // Parar heartbeat se n├úo h├í mais clientes\r\n    stopHeartbeatIfNoClients();\r\n  }\r\n}\r\n\r\n/**\r\n * Envia uma notifica├º├úo para todos os clientes\r\n */\r\nexport function notifySSE(payload: { channel: string; event: string; data: any }): void {\r\n  if (clients.size === 0) {return;}\r\n  \r\n  const msg = `event: ${payload.event}\\ndata: ${JSON.stringify(payload.data)}\\n\\n`;\r\n  const deadClients: string[] = [];\r\n\r\n  clients.forEach((client) => {\r\n    try {\r\n      client.res.write(msg);\r\n    } catch {\r\n      deadClients.push(client.id);\r\n    }\r\n  });\r\n\r\n  // Limpar clientes desconectados\r\n  deadClients.forEach(id => {\r\n    clients.delete(id);\r\n    console.log(`[SSE] Client removed on write error: ${id}`);\r\n  });\r\n  \r\n  stopHeartbeatIfNoClients();\r\n}\r\n\r\n/**\r\n * Retorna estat├¡sticas dos clientes SSE\r\n */\r\nexport function getSSEStats(): { totalClients: number; clients: Array<{ id: string; connectedAt: number; lastHeartbeat: number }> } {\r\n  return {\r\n    totalClients: clients.size,\r\n    clients: Array.from(clients.values()).map(c => ({\r\n      id: c.id,\r\n      connectedAt: c.connectedAt,\r\n      lastHeartbeat: c.lastHeartbeat,\r\n    })),\r\n  };\r\n}\r\n\r\n/**\r\n * For├ºa cleanup de todos os clientes (para shutdown)\r\n */\r\nexport function shutdownSSE(): void {\r\n  if (heartbeatTimer) {\r\n    clearInterval(heartbeatTimer);\r\n    heartbeatTimer = null;\r\n  }\r\n  \r\n  clients.forEach((client) => {\r\n    try {\r\n      client.res.write(`event: shutdown\\ndata: ${JSON.stringify({ reason: 'server_shutdown' })}\\n\\n`);\r\n      client.res.end();\r\n    } catch {\r\n      // Ignorar erros no shutdown\r\n    }\r\n  });\r\n  \r\n  clients.clear();\r\n  console.log('[SSE] Shutdown complete');\r\n}\r\n\r\nexport function getSSEClientManager() {\r\n  return { registerClient, unregisterClient, notifySSE, getSSEStats, shutdownSSE };\r\n}\r\n\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\server\\userInsightStore.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":72,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":72,"endColumn":17,"suggestions":[{"fix":{"range":[2110,2195],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\abTesting.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":48,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":48,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":449,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":449,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":464,"column":10,"nodeType":"Identifier","messageId":"namedExport","endLine":464,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\advancedCalculatorHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\agentsBackend.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[407,410],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[407,410],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[501,504],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[501,504],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":61,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1366,1369],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1366,1369],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1589,1592],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1589,1592],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":83,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":83,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1822,1825],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1822,1825],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2057,2060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2057,2060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":105,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2275,2278],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2275,2278],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Agents Backend Service\r\n *\r\n * Servi├ºo para comunica├º├úo HTTP com backend dos agentes.\r\n *\r\n * Funcionalidades a serem implementadas:\r\n * - Chamadas HTTP para agentes no backend\r\n * - Autentica├º├úo e autoriza├º├úo\r\n * - Retry e timeout\r\n * - Cache de respostas\r\n * - Tratamento de erros\r\n * - M├®tricas e logging\r\n */\r\n\r\nexport interface AgentRequest {\r\n  agentId: string;\r\n  action: string;\r\n  payload: any;\r\n  userId?: string;\r\n}\r\n\r\nexport interface AgentResponse {\r\n  success: boolean;\r\n  data: any;\r\n  error?: string;\r\n  agentId: string;\r\n  timestamp: number;\r\n}\r\n\r\nexport class AgentsBackendService {\r\n  private baseUrl: string;\r\n  private authToken?: string;\r\n\r\n  constructor(baseUrl: string, authToken?: string) {\r\n    this.baseUrl = baseUrl;\r\n    this.authToken = authToken;\r\n  }\r\n\r\n  /**\r\n   * Chama um agente espec├¡fico\r\n   * @param request - Requisi├º├úo para o agente\r\n   * @returns Resposta do agente\r\n   */\r\n  async callAgent(request: AgentRequest): Promise<AgentResponse> {\r\n    // TODO: Implementar chamada HTTP\r\n    // TODO: Adicionar headers de autentica├º├úo\r\n    // TODO: Implementar retry logic\r\n    // TODO: Implementar timeout\r\n\r\n    return {\r\n      success: false,\r\n      data: null,\r\n      agentId: request.agentId,\r\n      timestamp: Date.now(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Chama o agente de c├ílculo\r\n   */\r\n  async callCalculoAgent(payload: any): Promise<AgentResponse> {\r\n    return this.callAgent({\r\n      agentId: 'calculo',\r\n      action: 'calculate',\r\n      payload,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Chama o agente fiscal\r\n   */\r\n  async callFiscalAgent(payload: any): Promise<AgentResponse> {\r\n    return this.callAgent({\r\n      agentId: 'fiscal',\r\n      action: 'analyze',\r\n      payload,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Chama o agente de marketplace\r\n   */\r\n  async callMarketplaceAgent(payload: any): Promise<AgentResponse> {\r\n    return this.callAgent({\r\n      agentId: 'marketplace',\r\n      action: 'process',\r\n      payload,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Chama o agente de licita├º├Áes\r\n   */\r\n  async callLicitacaoAgent(payload: any): Promise<AgentResponse> {\r\n    return this.callAgent({\r\n      agentId: 'licitacao',\r\n      action: 'analyze',\r\n      payload,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Chama o agente de UI\r\n   */\r\n  async callUIAgent(payload: any): Promise<AgentResponse> {\r\n    return this.callAgent({\r\n      agentId: 'ui',\r\n      action: 'modify',\r\n      payload,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Atualiza o token de autentica├º├úo\r\n   */\r\n  setAuthToken(token: string): void {\r\n    this.authToken = token;\r\n  }\r\n}\r\n\r\n// Inst├óncia singleton\r\nlet agentsBackendInstance: AgentsBackendService | null = null;\r\n\r\n/**\r\n * Obt├®m a inst├óncia do servi├ºo de agentes\r\n */\r\nexport function getAgentsBackend(): AgentsBackendService {\r\n  if (!agentsBackendInstance) {\r\n    // TODO: Obter baseUrl de vari├ível de ambiente\r\n    agentsBackendInstance = new AgentsBackendService('http://localhost:3001');\r\n  }\r\n  return agentsBackendInstance;\r\n}\r\n\r\nexport default AgentsBackendService;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai-insights.service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\aiService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[570,573],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[570,573],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[590,593],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[590,593],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[698,701],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[698,701],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used. Allowed unused args must match /^_/u.","line":63,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":63,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used. Allowed unused args must match /^_/u.","line":82,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":82,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onChunk' is defined but never used. Allowed unused args must match /^_/u.","line":83,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":83,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * AI Service\r\n *\r\n * Integra├º├úo com Gemini / IA externa.\r\n *\r\n * Funcionalidades a serem implementadas:\r\n * - Conex├úo com API do Gemini\r\n * - Envio de prompts e contexto\r\n * - Recebimento de respostas\r\n * - Streaming de respostas\r\n * - Function calling\r\n * - Gerenciamento de tokens\r\n * - Rate limiting\r\n * - Fallback para outros modelos\r\n */\r\n\r\nexport interface AIServiceConfig {\r\n  apiKey: string;\r\n  model?: string;\r\n  temperature?: number;\r\n  maxTokens?: number;\r\n  streamResponses?: boolean;\r\n}\r\n\r\nexport interface AIRequest {\r\n  prompt: string;\r\n  context?: any;\r\n  functions?: any[];\r\n  systemPrompt?: string;\r\n}\r\n\r\nexport interface AIResponse {\r\n  content: string;\r\n  functionCalls?: any[];\r\n  tokensUsed: number;\r\n  model: string;\r\n  timestamp: number;\r\n}\r\n\r\nexport class AIService {\r\n  private config: AIServiceConfig;\r\n  private isInitialized: boolean = false;\r\n\r\n  constructor(config: AIServiceConfig) {\r\n    this.config = config;\r\n  }\r\n\r\n  /**\r\n   * Inicializa o servi├ºo de IA\r\n   */\r\n  async initialize(): Promise<void> {\r\n    // TODO: Implementar inicializa├º├úo\r\n    // TODO: Validar API key\r\n    // TODO: Testar conex├úo\r\n    this.isInitialized = true;\r\n  }\r\n\r\n  /**\r\n   * Envia uma requisi├º├úo para a IA\r\n   * @param request - Requisi├º├úo para a IA\r\n   * @returns Resposta da IA\r\n   */\r\n  async sendRequest(request: AIRequest): Promise<AIResponse> {\r\n    // TODO: Implementar envio de requisi├º├úo\r\n    // TODO: Implementar tratamento de erros\r\n    // TODO: Implementar retry logic\r\n\r\n    return {\r\n      content: '',\r\n      tokensUsed: 0,\r\n      model: this.config.model || 'gemini-pro',\r\n      timestamp: Date.now(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Envia uma requisi├º├úo com streaming\r\n   * @param request - Requisi├º├úo para a IA\r\n   * @param onChunk - Callback chamado para cada chunk recebido\r\n   */\r\n  async streamRequest(\r\n    request: AIRequest,\r\n    onChunk: (chunk: string) => void\r\n  ): Promise<AIResponse> {\r\n    // TODO: Implementar streaming\r\n\r\n    return {\r\n      content: '',\r\n      tokensUsed: 0,\r\n      model: this.config.model || 'gemini-pro',\r\n      timestamp: Date.now(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Valida se o servi├ºo est├í pronto para uso\r\n   */\r\n  isReady(): boolean {\r\n    return this.isInitialized;\r\n  }\r\n}\r\n\r\n// Inst├óncia singleton (ser├í configurada na inicializa├º├úo)\r\nlet aiServiceInstance: AIService | null = null;\r\n\r\n/**\r\n * Obt├®m a inst├óncia do servi├ºo de IA\r\n */\r\nexport function getAIService(): AIService {\r\n  if (!aiServiceInstance) {\r\n    throw new Error(\r\n      'AIService n├úo foi inicializado. Chame initializeAIService primeiro.'\r\n    );\r\n  }\r\n  return aiServiceInstance;\r\n}\r\n\r\n/**\r\n * Inicializa o servi├ºo de IA\r\n */\r\nexport async function initializeAIService(\r\n  config: AIServiceConfig\r\n): Promise<AIService> {\r\n  aiServiceInstance = new AIService(config);\r\n  await aiServiceInstance.initialize();\r\n  return aiServiceInstance;\r\n}\r\n\r\nexport default AIService;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\advancedCompetitorService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\advancedTaxService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\alertsAndForecastingService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\chatService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\competitorService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\logger.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":57,"column":26,"nodeType":"MemberExpression","messageId":"unexpected","endLine":57,"endColumn":57,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":57,"column":96,"nodeType":"MemberExpression","messageId":"unexpected","endLine":57,"endColumn":107,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":124,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":124,"endColumn":20,"suggestions":[{"fix":{"range":[3293,3356],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\pricingService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\smartPricingService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\ai\\taxService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\analytics.service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\auditLogService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\backgroundSyncService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\backupService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\bidding\\biddingCalculations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\bidding\\biddingPersistence.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\errorTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\featureFlags.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\googleAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\healthCheck.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\internalAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\logger.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":30,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":30,"endColumn":20,"suggestions":[{"fix":{"range":[872,895],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":35,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":35,"endColumn":19,"suggestions":[{"fix":{"range":[981,1003],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":19,"suggestions":[{"fix":{"range":[1089,1111],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":45,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":45,"endColumn":20,"suggestions":[{"fix":{"range":[1199,1222],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\marketplace\\BaseMarketplaceHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\marketplace\\MercadoLivreHandler.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\marketplace\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\notification.service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\perf\\analyze.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\perf\\collect.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\perf\\report.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\perf\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\product-management.service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\securityMonitoringService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\storage\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\storage\\indexedDbStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\storage\\memoryStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\storage\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\services\\structuredLogger.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":129,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":129,"endColumn":22,"suggestions":[{"fix":{"range":[3120,3193],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":131,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":131,"endColumn":22,"suggestions":[{"fix":{"range":[3217,3242],"text":""},"messageId":"removeConsole","data":{"propertyName":"debug"},"desc":"Remove the console.debug()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":136,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":136,"endColumn":21,"suggestions":[{"fix":{"range":[3310,3382],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":138,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":138,"endColumn":21,"suggestions":[{"fix":{"range":[3406,3430],"text":""},"messageId":"removeConsole","data":{"propertyName":"info"},"desc":"Remove the console.info()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":143,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":143,"endColumn":21,"suggestions":[{"fix":{"range":[3498,3570],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":145,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":145,"endColumn":21,"suggestions":[{"fix":{"range":[3594,3618],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":150,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":150,"endColumn":22,"suggestions":[{"fix":{"range":[3687,3760],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":152,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":152,"endColumn":22,"suggestions":[{"fix":{"range":[3784,3809],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\components\\ErrorBoundary\\UnifiedErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\components\\ErrorBoundary\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\analytics\\useCalculationTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\analytics\\useFeatureTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\analytics\\usePageTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\auth\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\auth\\useAuthMethods.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\auth\\useAuthState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\auth\\useUserProfile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\calculation-history\\useHistoryOperations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\calculation-history\\useLocalStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\calculation-history\\useSupabaseHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\use-mobile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useABTesting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAIChatbot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAIMarketAnalysis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAIPredictions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAccessibility.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAdvancedAutomation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAdvancedBusinessMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAdvancedCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAdvancedCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAdvancedExportReports.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAdvancedRateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAdvancedReports.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useApiManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAuditLog.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useAuditLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useBackgroundSync.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useBidirectionalWebhooks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useBusinessMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useBusinessSettings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useCalculationCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useCalculationHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useCollaboration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useCompetitorAlerts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useCompetitors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useConsolidatedMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useDashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useEcommerceIntegrations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useExportReports.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useGenericCache.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useHeatmap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useKeyboardShortcuts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useLazyLoad.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useMLPricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useMarketplaceAPI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useMarketplaceIntegrations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useMobileFeatures.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useMobileFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useOfflineCalculator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useOnboarding.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useOptimizedCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useOptimizedHooks.ts","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":102,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":102,"endColumn":21,"suggestions":[{"fix":{"range":[3317,3335],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\usePWA.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\usePWA.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\usePerformanceMonitor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\usePerformanceOptimization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\usePersonalizedRecommendations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\usePrefetch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useProStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\usePushNotifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useRateLimit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useRealMarketplaceData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useRealTimeAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useRealTimeHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useRealTimeMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useSecurityMonitor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useSecurityMonitoring.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useServiceWorker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useSimpleCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useSimpleCalculatorUI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useTableStats.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useTeamManagement.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useTemplateApplication.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useTemplates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useTwoFactorAuth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useUndoRedo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useUserRoles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useVirtualScroll.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useWebVitals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useWebWorker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\hooks\\useWebhookAutomation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\ai.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\auditLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\automation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\businessMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\collaboration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\competitorAlerts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\dashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\database\\automation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\database\\collaboration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\database\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\database\\user-profiles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\ecommerce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\enterprise.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\export.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\marketplaceTemplates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\multi-tenant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\realTimeMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\simpleCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\shared\\types\\templates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\subscription-system.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\test-licitacoes-engines.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":23,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":23,"endColumn":18,"suggestions":[{"fix":{"range":[682,743],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":28,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":28,"endColumn":16,"suggestions":[{"fix":{"range":[808,885],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":32,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":32,"endColumn":15,"suggestions":[{"fix":{"range":[912,984],"text":""},"messageId":"removeConsole","data":{"propertyName":"warn"},"desc":"Remove the console.warn()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":40,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":40,"endColumn":14,"suggestions":[{"fix":{"range":[1094,1154],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":46,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":46,"endColumn":16,"suggestions":[{"fix":{"range":[1265,1304],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":51,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":51,"endColumn":16,"suggestions":[{"fix":{"range":[1451,1504],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":56,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":56,"endColumn":16,"suggestions":[{"fix":{"range":[1643,1695],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":61,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":61,"endColumn":16,"suggestions":[{"fix":{"range":[1800,1839],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":63,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":63,"endColumn":16,"suggestions":[{"fix":{"range":[1849,1920],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":66,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":66,"endColumn":18,"suggestions":[{"fix":{"range":[1962,2017],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":75,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":75,"endColumn":14,"suggestions":[{"fix":{"range":[2128,2184],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":105,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":105,"endColumn":16,"suggestions":[{"fix":{"range":[2897,2939],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":106,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":106,"endColumn":16,"suggestions":[{"fix":{"range":[2944,3000],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":107,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":107,"endColumn":16,"suggestions":[{"fix":{"range":[3005,3065],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":108,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":108,"endColumn":16,"suggestions":[{"fix":{"range":[3070,3136],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":109,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":109,"endColumn":16,"suggestions":[{"fix":{"range":[3141,3210],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":110,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":110,"endColumn":16,"suggestions":[{"fix":{"range":[3215,3284],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":111,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":111,"endColumn":16,"suggestions":[{"fix":{"range":[3289,3358],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":113,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":113,"endColumn":16,"suggestions":[{"fix":{"range":[3368,3434],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":116,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":116,"endColumn":18,"suggestions":[{"fix":{"range":[3476,3530],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":125,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":125,"endColumn":14,"suggestions":[{"fix":{"range":[3635,3684],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":140,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":140,"endColumn":16,"suggestions":[{"fix":{"range":[3961,3998],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":141,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":141,"endColumn":16,"suggestions":[{"fix":{"range":[4003,4060],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":142,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":142,"endColumn":16,"suggestions":[{"fix":{"range":[4065,4104],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":144,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":144,"endColumn":18,"suggestions":[{"fix":{"range":[4167,4289],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":146,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":146,"endColumn":16,"suggestions":[{"fix":{"range":[4302,4368],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":148,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":148,"endColumn":16,"suggestions":[{"fix":{"range":[4378,4434],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":151,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":151,"endColumn":18,"suggestions":[{"fix":{"range":[4476,4528],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":160,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":160,"endColumn":14,"suggestions":[{"fix":{"range":[4662,4727],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":164,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":164,"endColumn":16,"suggestions":[{"fix":{"range":[4805,4848],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":165,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":165,"endColumn":16,"suggestions":[{"fix":{"range":[4853,4898],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":166,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":166,"endColumn":16,"suggestions":[{"fix":{"range":[4903,4963],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":167,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":167,"endColumn":16,"suggestions":[{"fix":{"range":[4968,5030],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":168,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":168,"endColumn":16,"suggestions":[{"fix":{"range":[5035,5094],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":170,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":170,"endColumn":16,"suggestions":[{"fix":{"range":[5104,5167],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":173,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":173,"endColumn":18,"suggestions":[{"fix":{"range":[5209,5256],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":182,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":182,"endColumn":14,"suggestions":[{"fix":{"range":[5357,5416],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":183,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":183,"endColumn":14,"suggestions":[{"fix":{"range":[5419,5469],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":184,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":184,"endColumn":14,"suggestions":[{"fix":{"range":[5472,5533],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":198,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":198,"endColumn":18,"suggestions":[{"fix":{"range":[5762,5834],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":206,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":206,"endColumn":18,"suggestions":[{"fix":{"range":[5978,6045],"text":""},"messageId":"removeConsole","data":{"propertyName":"error"},"desc":"Remove the console.error()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":220,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":220,"endColumn":14,"suggestions":[{"fix":{"range":[6328,6389],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":221,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":221,"endColumn":14,"suggestions":[{"fix":{"range":[6392,6428],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":222,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":222,"endColumn":14,"suggestions":[{"fix":{"range":[6431,6492],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":227,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":227,"endColumn":14,"suggestions":[{"fix":{"range":[6620,6683],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":228,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":228,"endColumn":14,"suggestions":[{"fix":{"range":[6686,6815],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":235,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":235,"endColumn":14,"suggestions":[{"fix":{"range":[6901,6992],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":238,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":238,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7040,7043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7040,7043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":240,"column":3,"nodeType":"MemberExpression","messageId":"unexpected","endLine":240,"endColumn":14,"suggestions":[{"fix":{"range":[7087,7166],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":49,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Script de teste para validar engines de licita├º├Áes\n * \n * Execute com:\n * npm run dev (e importe este arquivo em qualquer componente)\n * ou\n * Abra o console do navegador e veja os logs\n */\n\nimport ragEngine from '@/azuria_ai/engines/ragEngine';\nimport multimodalEngine from '@/azuria_ai/engines/multimodalEngine';\nimport whatIfSimulator from '@/azuria_ai/engines/whatIfSimulator';\nimport xaiEngine from '@/azuria_ai/engines/xaiEngine';\nimport portalMonitorAgent from '@/azuria_ai/agents/portalMonitorAgent';\n\n/**\n * Testa se a API key do Gemini est├í configurada\n */\nfunction testGeminiAPIKey() {\n  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;\n  \n  if (!apiKey) {\n    console.error('ÔØî VITE_GEMINI_API_KEY n├úo est├í configurada!');\n    return false;\n  }\n  \n  if (apiKey.startsWith('AIza')) {\n    console.log('Ô£à Gemini API Key encontrada:', apiKey.substring(0, 10) + '...');\n    return true;\n  }\n  \n  console.warn('ÔÜá´©Å API Key n├úo parece v├ílida (deveria come├ºar com AIza)');\n  return false;\n}\n\n/**\n * Testa inicializa├º├úo dos engines\n */\nasync function testEnginesInitialization() {\n  console.log('\\n­ƒöº Testando inicializa├º├úo dos engines...\\n');\n  \n  try {\n    // RAG Engine\n    ragEngine.initRAGEngine();\n    const ragStats = ragEngine.getRAGStats();\n    console.log('Ô£à RAG Engine:', ragStats);\n    \n    // Multimodal Engine\n    multimodalEngine.initMultimodalEngine();\n    const multimodalStats = multimodalEngine.getMultimodalStats();\n    console.log('Ô£à Multimodal Engine:', multimodalStats);\n    \n    // What-If Simulator\n    whatIfSimulator.initWhatIfSimulator();\n    const simulatorStats = whatIfSimulator.getWhatIfStats();\n    console.log('Ô£à What-If Simulator:', simulatorStats);\n    \n    // XAI Engine\n    xaiEngine.initXAIEngine();\n    const xaiStats = xaiEngine.getXAIStats();\n    console.log('Ô£à XAI Engine:', xaiStats);\n    \n    console.log('\\nÔ£à Todos os engines foram inicializados com sucesso!\\n');\n    return true;\n  } catch (error) {\n    console.error('ÔØî Erro ao inicializar engines:', error);\n    return false;\n  }\n}\n\n/**\n * Testa simula├º├úo Monte Carlo\n */\nasync function testMonteCarloSimulation() {\n  console.log('\\n­ƒÄ▓ Testando simula├º├úo Monte Carlo...\\n');\n  \n  try {\n    const result = await whatIfSimulator.runMonteCarloSimulation(\n      [\n        {\n          name: 'custo_material',\n          baseValue: 50000,\n          distribution: 'normal',\n          params: { mean: 50000, stdDev: 2500 },\n        },\n        {\n          name: 'custo_mao_obra',\n          baseValue: 30000,\n          distribution: 'uniform',\n          params: { min: 28000, max: 32000 },\n        },\n      ],\n      (values) => {\n        const custoTotal = values.custo_material + values.custo_mao_obra;\n        const bdi = 0.25; // 25%\n        return custoTotal * (1 + bdi);\n      },\n      {\n        iterations: 1000,\n        seed: 12345,\n        confidenceLevels: [0.95],\n      }\n    );\n    \n    console.log('­ƒôè Resultado da simula├º├úo:');\n    console.log('  - M├®dia:', result.stats.mean.toFixed(2));\n    console.log('  - Mediana:', result.stats.median.toFixed(2));\n    console.log('  - Desvio padr├úo:', result.stats.stdDev.toFixed(2));\n    console.log('  - Intervalo 95%:', result.confidenceIntervals['95%']);\n    console.log('  - Percentil 10%:', result.percentiles.p10.toFixed(2));\n    console.log('  - Percentil 90%:', result.percentiles.p90.toFixed(2));\n    \n    console.log('\\nÔ£à Simula├º├úo Monte Carlo executada com sucesso!\\n');\n    return true;\n  } catch (error) {\n    console.error('ÔØî Erro ao executar simula├º├úo:', error);\n    return false;\n  }\n}\n\n/**\n * Testa explica├º├úo XAI de BDI\n */\nasync function testXAIExplanation() {\n  console.log('\\n­ƒºá Testando explica├º├úo XAI...\\n');\n  \n  try {\n    const explanation = await xaiEngine.explainBDICalculation(\n      {\n        administracaoCentral: 3.5,\n        despesasFinanceiras: 1.2,\n        lucro: 8.0,\n        garantias: 0.4,\n        impostos: 6.25,\n        risco: 2.5,\n      },\n      21.85\n    );\n    \n    console.log('­ƒôØ Explica├º├úo do BDI:');\n    console.log('  - Racionalidade:', explanation.rationale);\n    console.log('  - Principais fatores:');\n    explanation.topFactors.forEach((factor, index) => {\n      console.log(`    ${index + 1}. ${factor.name}: ${factor.value}% (import├óncia: ${(factor.importance * 100).toFixed(1)}%)`);\n    });\n    console.log('  - Base legal:', explanation.legalBasis.join(', '));\n    \n    console.log('\\nÔ£à Explica├º├úo XAI gerada com sucesso!\\n');\n    return true;\n  } catch (error) {\n    console.error('ÔØî Erro ao gerar explica├º├úo:', error);\n    return false;\n  }\n}\n\n/**\n * Testa estat├¡sticas do portal monitor (sem iniciar de fato)\n */\nfunction testPortalMonitorStats() {\n  console.log('\\n­ƒôí Testando estat├¡sticas do Portal Monitor...\\n');\n  \n  try {\n    const stats = portalMonitorAgent.getPortalMonitorStats();\n    console.log('­ƒôè Stats do Portal Monitor:');\n    console.log('  - Rodando:', stats.isRunning);\n    console.log('  - Ciclos executados:', stats.cyclesExecuted);\n    console.log('  - Editais detectados:', stats.editaisDetected);\n    console.log('  - Alertas gerados:', stats.alertsGenerated);\n    \n    console.log('\\nÔ£à Portal Monitor stats obtidas com sucesso!\\n');\n    return true;\n  } catch (error) {\n    console.error('ÔØî Erro ao obter stats:', error);\n    return false;\n  }\n}\n\n/**\n * Executa todos os testes\n */\nexport async function runAllTests() {\n  console.log('­ƒÜÇ ========================================');\n  console.log('­ƒÜÇ Teste dos Engines de Licita├º├Áes');\n  console.log('­ƒÜÇ ========================================\\n');\n  \n  const results = {\n    apiKey: false,\n    engines: false,\n    monteCarlo: false,\n    xai: false,\n    portalMonitor: false,\n  };\n  \n  // Teste 1: API Key\n  results.apiKey = testGeminiAPIKey();\n  \n  if (!results.apiKey) {\n    console.error('\\nÔØî Testes abortados: Gemini API Key n├úo configurada\\n');\n    return results;\n  }\n  \n  // Teste 2: Inicializa├º├úo\n  results.engines = await testEnginesInitialization();\n  \n  if (!results.engines) {\n    console.error('\\nÔØî Testes abortados: Engines n├úo inicializaram\\n');\n    return results;\n  }\n  \n  // Teste 3: Monte Carlo\n  results.monteCarlo = await testMonteCarloSimulation();\n  \n  // Teste 4: XAI\n  results.xai = await testXAIExplanation();\n  \n  // Teste 5: Portal Monitor Stats\n  results.portalMonitor = testPortalMonitorStats();\n  \n  // Resumo\n  console.log('\\n­ƒôè ========================================');\n  console.log('­ƒôè Resumo dos Testes');\n  console.log('­ƒôè ========================================\\n');\n  \n  const totalTests = Object.keys(results).length;\n  const passedTests = Object.values(results).filter(Boolean).length;\n  \n  console.log(`Ô£à Testes passados: ${passedTests}/${totalTests}`);\n  console.log(`${passedTests === totalTests ? '­ƒÄë' : 'ÔÜá´©Å'} Status: ${passedTests === totalTests ? 'SUCESSO TOTAL' : 'PARCIAL'}\\n`);\n  \n  return results;\n}\n\n// Auto-execu├º├úo se em DEV mode\nif (import.meta.env.DEV) {\n  console.log('­ƒöì Script de teste carregado. Execute runAllTests() no console para testar.');\n  \n  // Disponibiliza globalmente\n  (window as any).testLicitacoesEngines = runAllTests;\n  \n  console.log('­ƒÆí Dica: Digite testLicitacoesEngines() no console do navegador');\n}\n\nexport default {\n  testGeminiAPIKey,\n  testEnginesInitialization,\n  testMonteCarloSimulation,\n  testXAIExplanation,\n  testPortalMonitorStats,\n  runAllTests,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\tests\\security.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\abacatepay.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\advancedTemplates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\ai-insights.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\ai.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\aiPriceSuggestions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\auditLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\automation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\azuriaAI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\bidding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\biddingCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\breakEvenROI.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\businessMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\collaboration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\comparison.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\competitorAlerts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\costBreakdown.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\dashboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\discountAnalyzer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\documento.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\ecommerce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\enterprise.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\export.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\marketplace-analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\marketplace-api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\marketplaceTemplates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\multi-tenant.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\multiMarketplace.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\notification-system.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\priceHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\product-management.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\realTimeMetrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\scenarioSimulator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\sensitivityAnalysis.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\simpleCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\subscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\types\\templates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\auditLogExport.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\auditLogUtils.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\bundleOptimization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\calculator\\calculateSellingPrice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\calculator\\formatCurrency.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\calculator\\parseInputValue.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\calculator\\validateInput.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\crypto.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\export\\excelExportUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\export\\pdfExportUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\export\\schedulingUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\formatTime.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\icmsCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\pdf\\generatePDF.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\pdf\\pdfGenerator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\performance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\permissionValidation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\phoneFormatter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\pwa.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\secureRandom.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\securityHeaders.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\supabaseRetry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\templateFields.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\testing\\testHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\testing\\testUtils.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"This rule can't verify that `export *` only exports components.","line":8,"column":1,"nodeType":"ExportAllDeclaration","messageId":"exportAll","endLine":8,"endColumn":34,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":9,"column":10,"nodeType":"Identifier","messageId":"namedExport","endLine":9,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":12,"column":10,"nodeType":"Identifier","messageId":"namedExport","endLine":12,"endColumn":16,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":12,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":12,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":12,"column":26,"nodeType":"Identifier","messageId":"namedExport","endLine":12,"endColumn":35,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":12,"column":37,"nodeType":"Identifier","messageId":"namedExport","endLine":12,"endColumn":44,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":43,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":43,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\webVitalsOptimizer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\webVitalsReporter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\webvitals\\analyze.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\webvitals\\collect.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\webvitals\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\webvitals\\report.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\utils\\webvitals\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\R├┤mulo\\Projetos\\azuria\\src\\workers\\calculationWorker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
